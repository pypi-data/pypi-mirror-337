@startuml
package "MCP Layer" {
    [MCPClient] as MCP
    [MCPSession] as Session
    [MCPConfig] as Config
    MCP --> Session
    MCP --> Config
}

package "LLM Layer" {
    interface "LLMBackend" as LLMBackend
    [GeminiBackend] as Gemini
    [OpenAIBackend] as OpenAI
    
    package "Anthropic Implementation" {
        [AnthropicBackend] as Anthropic
        [SchemaAdapter] as Adapter
        Anthropic ..> Adapter : uses
    }
    
    Gemini .up.|> LLMBackend : implements
    OpenAI .up.|> LLMBackend : implements
    Anthropic .up.|> LLMBackend : implements
}

package "Integration Layer" {
    [MCPToolProvider] as Provider
    Provider --> MCP
    Provider -right-> LLMBackend
}

package "Tool Layer" {
    [MCP Tools] as Tools
    Session --> Tools
}

note right of Adapter
  Handles conversion between
  MCP and Anthropic formats:
  - Tool schemas
  - Messages
  - Tool calls
end note
@enduml 