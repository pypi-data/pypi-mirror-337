{%- block union %}
    {%- if field.optional -%}
    {% set ns.optional = True %}
    {%- if field.union_types|length > 1 %}
    {{compute_field_name(name)}}: typing.Optional[typing.Union[{{', '.join(get_union_types(field, True).split(','))}}]] = Field(alias="{{name}}")
    {%- else %}
    {{compute_field_name(name)}}: typing.Optional[{{', '.join(get_union_types(field).split(','))}}] = Field(alias="{{name}}")
    {%- endif %} 
    {%- else %}
    {{compute_field_name(name)}}: typing.Union[{{', '.join(get_union_types(field, True).split(','))}}] = Field(alias="{{name}}")
    {%- endif -%} 
{%- endblock -%}
