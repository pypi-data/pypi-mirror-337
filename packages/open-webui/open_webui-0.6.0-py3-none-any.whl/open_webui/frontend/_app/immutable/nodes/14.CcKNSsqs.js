import{s as bt,D as Ql,E as Jl,a as v,d as c,f as u,i as F,g as n,n as Ye,y as Ne,A as Ce,p as el,j as $t,F as Vs,q as es,e as d,t as R,k as $,c as _,b as Z,o as E,S as tt,V as Xl,B as Qe,u as be,z as Ir,h as J,H as cl,l as fl,P as Ts,Q as zr,O as Gr,N as Xs}from"../chunks/vexCXLX9.js";import{S as Et,i as yt,f as Ue,b as re,d as ae,m as ne,t as x,a as U,e as oe,g as Be,c as He}from"../chunks/Cdll-xsj.js";import{t as wt}from"../chunks/DMk2eJ1b.js";import{g as Vr}from"../chunks/CHo5r6lF.js";import{e as _s,u as xs,c as Or}from"../chunks/Dnt-ZaqG.js";import{u as qr,a as Rr,b as Kl,d as Zr,c as er,e as Wr}from"../chunks/BoV2v-II.js";import{e as El,u as Yr,o as Fr}from"../chunks/DNXpXRYa.js";import{d as Rt,r as Tr}from"../chunks/aTHIJebK.js";import{l as Ns}from"../chunks/DKJl9mwW.js";import{P as Kr}from"../chunks/CZmsMU4H.js";import{T as yl}from"../chunks/DzHlmjPS.js";import{M as hs}from"../chunks/r_-JQrIr.js";import{j as tr,k as Qr}from"../chunks/DeO_Cm1I.js";import{S as Jr}from"../chunks/Cmi_MrK3.js";import{C as Cs}from"../chunks/CzvQehHf.js";import{c as lr}from"../chunks/Cf3G-lbz.js";import{B as xr}from"../chunks/B2_kFBW1.js";import{P as Nr}from"../chunks/Cmfly5_1.js";import{C as tl}from"../chunks/D8_ibWhm.js";import{C as ts}from"../chunks/Cux5bsOp.js";import{B as Xr,W as ea}from"../chunks/DPNwJ9Qj.js";import{C as ta}from"../chunks/Dqzunhkh.js";import{T as Cr}from"../chunks/Dok_iF0y.js";import"../chunks/_0_gBwjO.js";import{S as gt}from"../chunks/DBcgpmMt.js";import{C as la}from"../chunks/DtpdxPaF.js";import{u as sa,d as ra,g as sr,c as aa}from"../chunks/BfUWKne8.js";import{P as na}from"../chunks/BM7xxx70.js";import{U as oa}from"../chunks/C1MAXM9h.js";import{U as ia}from"../chunks/BB4UpzdJ.js";function ua(s){let e,t;return{c(){e=Ql("svg"),t=Ql("path"),this.h()},l(l){e=Jl(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=v(e);t=Jl(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(c),r.forEach(c),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",s[1]),u(e,"stroke","currentColor"),u(e,"class",s[0])},m(l,r){F(l,e,r),n(e,t)},p(l,[r]){r&2&&u(e,"stroke-width",l[1]),r&1&&u(e,"class",l[0])},i:Ye,o:Ye,d(l){l&&c(e)}}}function fa(s,e,t){let{className:l="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=o=>{"className"in o&&t(0,l=o.className),"strokeWidth"in o&&t(1,r=o.strokeWidth)},[l,r]}class ca extends Et{constructor(e){super(),yt(this,e,fa,ua,bt,{className:0,strokeWidth:1})}}function da(s){let e,t,l,r=s[4].t("Edit User")+"",o,a,f,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',p,w,h,m,g,k,C,V,y,M,T,D,I,L=s[1].name+"",S,b,z,se=s[4].t("Created at")+"",A,q,W=Rt(s[1].created_at*1e3).format("LL")+"",le,P,K,X,te,H,ee,G=s[4].t("Email")+"",Q,_e,ge,B,he,pe,j,de,Y=s[4].t("Name")+"",fe,ye,Ie,De,ue,ce,Le,Ee=s[4].t("New Password")+"",Ve,qe,Me,je,Te,Se,Fe,Ae=s[4].t("Save")+"",Ke,me,ke;return{c(){e=d("div"),t=d("div"),l=d("div"),o=R(r),a=$(),f=d("button"),f.innerHTML=i,p=$(),w=d("hr"),h=$(),m=d("div"),g=d("div"),k=d("form"),C=d("div"),V=d("div"),y=d("img"),T=$(),D=d("div"),I=d("div"),S=R(L),b=$(),z=d("div"),A=R(se),q=$(),le=R(W),P=$(),K=d("hr"),X=$(),te=d("div"),H=d("div"),ee=d("div"),Q=R(G),_e=$(),ge=d("div"),B=d("input"),pe=$(),j=d("div"),de=d("div"),fe=R(Y),ye=$(),Ie=d("div"),De=d("input"),ue=$(),ce=d("div"),Le=d("div"),Ve=R(Ee),qe=$(),Me=d("div"),je=d("input"),Te=$(),Se=d("div"),Fe=d("button"),Ke=R(Ae),this.h()},l($e){e=_($e,"DIV",{});var we=v(e);t=_(we,"DIV",{class:!0});var Ge=v(t);l=_(Ge,"DIV",{class:!0});var ot=v(l);o=Z(ot,r),ot.forEach(c),a=E(Ge),f=_(Ge,"BUTTON",{class:!0,"data-svelte-h":!0}),tt(f)!=="svelte-745w2y"&&(f.innerHTML=i),Ge.forEach(c),p=E(we),w=_(we,"HR",{class:!0}),h=E(we),m=_(we,"DIV",{class:!0});var We=v(m);g=_(We,"DIV",{class:!0});var it=v(g);k=_(it,"FORM",{class:!0});var Re=v(k);C=_(Re,"DIV",{class:!0});var ut=v(C);V=_(ut,"DIV",{class:!0});var Dt=v(V);y=_(Dt,"IMG",{src:!0,class:!0,alt:!0}),Dt.forEach(c),T=E(ut),D=_(ut,"DIV",{});var xe=v(D);I=_(xe,"DIV",{class:!0});var Ze=v(I);S=Z(Ze,L),Ze.forEach(c),b=E(xe),z=_(xe,"DIV",{class:!0});var ht=v(z);A=Z(ht,se),q=E(ht),le=Z(ht,W),ht.forEach(c),xe.forEach(c),ut.forEach(c),P=E(Re),K=_(Re,"HR",{class:!0}),X=E(Re),te=_(Re,"DIV",{class:!0});var Xe=v(te);H=_(Xe,"DIV",{class:!0});var lt=v(H);ee=_(lt,"DIV",{class:!0});var mt=v(ee);Q=Z(mt,G),mt.forEach(c),_e=E(lt),ge=_(lt,"DIV",{class:!0});var Tt=v(ge);B=_(Tt,"INPUT",{class:!0,type:!0,autocomplete:!0}),Tt.forEach(c),lt.forEach(c),pe=E(Xe),j=_(Xe,"DIV",{class:!0});var xt=v(j);de=_(xt,"DIV",{class:!0});var rt=v(de);fe=Z(rt,Y),rt.forEach(c),ye=E(xt),Ie=_(xt,"DIV",{class:!0});var ft=v(Ie);De=_(ft,"INPUT",{class:!0,type:!0,autocomplete:!0}),ft.forEach(c),xt.forEach(c),ue=E(Xe),ce=_(Xe,"DIV",{class:!0});var dt=v(ce);Le=_(dt,"DIV",{class:!0});var Pt=v(Le);Ve=Z(Pt,Ee),Pt.forEach(c),qe=E(dt),Me=_(dt,"DIV",{class:!0});var al=v(Me);je=_(al,"INPUT",{class:!0,type:!0,autocomplete:!0}),al.forEach(c),dt.forEach(c),Xe.forEach(c),Te=E(Re),Se=_(Re,"DIV",{class:!0});var ct=v(Se);Fe=_(ct,"BUTTON",{class:!0,type:!0});var Nt=v(Fe);Ke=Z(Nt,Ae),Nt.forEach(c),ct.forEach(c),Re.forEach(c),it.forEach(c),We.forEach(c),we.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(f,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),u(w,"class","border-gray-100 dark:border-gray-850"),Xl(y.src,M=s[1].profile_image_url)||u(y,"src",M),u(y,"class","max-w-[55px] object-cover rounded-full"),u(y,"alt","User profile"),u(V,"class","self-center mr-5"),u(I,"class","self-center capitalize font-semibold"),u(z,"class","text-xs text-gray-500"),u(C,"class","flex items-center rounded-md py-2 px-4 w-full"),u(K,"class","border-gray-100 dark:border-gray-850 my-3 w-full"),u(ee,"class","mb-1 text-xs text-gray-500"),u(B,"class","w-full rounded-sm py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1vx7r9s"),u(B,"type","email"),u(B,"autocomplete","off"),B.required=!0,B.disabled=he=s[3].id==s[2].id,u(ge,"class","flex-1"),u(H,"class","flex flex-col w-full"),u(de,"class","mb-1 text-xs text-gray-500"),u(De,"class","w-full rounded-sm py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-hidden svelte-1vx7r9s"),u(De,"type","text"),u(De,"autocomplete","off"),De.required=!0,u(Ie,"class","flex-1"),u(j,"class","flex flex-col w-full"),u(Le,"class","mb-1 text-xs text-gray-500"),u(je,"class","w-full rounded-sm py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-hidden svelte-1vx7r9s"),u(je,"type","password"),u(je,"autocomplete","new-password"),u(Me,"class","flex-1"),u(ce,"class","flex flex-col w-full"),u(te,"class","flex flex-col space-y-1.5"),u(Fe,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),u(Fe,"type","submit"),u(Se,"class","flex justify-end pt-3 text-sm font-medium"),u(k,"class","flex flex-col w-full"),u(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(m,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200")},m($e,we){F($e,e,we),n(e,t),n(t,l),n(l,o),n(t,a),n(t,f),n(e,p),n(e,w),n(e,h),n(e,m),n(m,g),n(g,k),n(k,C),n(C,V),n(V,y),n(C,T),n(C,D),n(D,I),n(I,S),n(D,b),n(D,z),n(z,A),n(z,q),n(z,le),n(k,P),n(k,K),n(k,X),n(k,te),n(te,H),n(H,ee),n(ee,Q),n(H,_e),n(H,ge),n(ge,B),Qe(B,s[3].email),n(te,pe),n(te,j),n(j,de),n(de,fe),n(j,ye),n(j,Ie),n(Ie,De),Qe(De,s[3].name),n(te,ue),n(te,ce),n(ce,Le),n(Le,Ve),n(ce,qe),n(ce,Me),n(Me,je),Qe(je,s[3].password),n(k,Te),n(k,Se),n(Se,Fe),n(Fe,Ke),me||(ke=[be(f,"click",s[7]),be(B,"input",s[8]),be(De,"input",s[9]),be(je,"input",s[10]),be(k,"submit",Ir(s[11]))],me=!0)},p($e,we){we&16&&r!==(r=$e[4].t("Edit User")+"")&&J(o,r),we&2&&!Xl(y.src,M=$e[1].profile_image_url)&&u(y,"src",M),we&2&&L!==(L=$e[1].name+"")&&J(S,L),we&16&&se!==(se=$e[4].t("Created at")+"")&&J(A,se),we&2&&W!==(W=Rt($e[1].created_at*1e3).format("LL")+"")&&J(le,W),we&16&&G!==(G=$e[4].t("Email")+"")&&J(Q,G),we&12&&he!==(he=$e[3].id==$e[2].id)&&(B.disabled=he),we&8&&B.value!==$e[3].email&&Qe(B,$e[3].email),we&16&&Y!==(Y=$e[4].t("Name")+"")&&J(fe,Y),we&8&&De.value!==$e[3].name&&Qe(De,$e[3].name),we&16&&Ee!==(Ee=$e[4].t("New Password")+"")&&J(Ve,Ee),we&8&&je.value!==$e[3].password&&Qe(je,$e[3].password),we&16&&Ae!==(Ae=$e[4].t("Save")+"")&&J(Ke,Ae)},d($e){$e&&c(e),me=!1,cl(ke)}}}function _a(s){let e,t,l;function r(a){s[12](a)}let o={size:"sm",$$slots:{default:[da]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new hs({props:o}),Ne.push(()=>Ue(e,"show",r)),{c(){re(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,f){ne(e,a,f),l=!0},p(a,[f]){const i={};f&16415&&(i.$$scope={dirty:f,ctx:a}),!t&&f&1&&(t=!0,i.show=a[0],Ce(()=>t=!1)),e.$set(i)},i(a){l||(x(e.$$.fragment,a),l=!0)},o(a){U(e.$$.fragment,a),l=!1},d(a){oe(e,a)}}}function ha(s,e,t){let l;const r=el("i18n");$t(s,r,y=>t(4,l=y));const o=Vs();Rt.extend(Ns);let{show:a=!1}=e,{selectedUser:f}=e,{sessionUser:i}=e,p={profile_image_url:"",name:"",email:"",password:""};const w=async()=>{await qr(localStorage.token,f.id,p).catch(M=>{wt.error(`${M}`)})&&(o("save"),t(0,a=!1))};es(()=>{f&&(t(3,p=f),t(3,p.password="",p))});const h=()=>{t(0,a=!1)};function m(){p.email=this.value,t(3,p)}function g(){p.name=this.value,t(3,p)}function k(){p.password=this.value,t(3,p)}const C=()=>{w()};function V(y){a=y,t(0,a)}return s.$$set=y=>{"show"in y&&t(0,a=y.show),"selectedUser"in y&&t(1,f=y.selectedUser),"sessionUser"in y&&t(2,i=y.sessionUser)},[a,f,i,p,l,r,w,h,m,g,k,C,V]}class ma extends Et{constructor(e){super(),yt(this,e,ha,_a,bt,{show:0,selectedUser:1,sessionUser:2})}}function rr(s,e,t){const l=s.slice();return l[20]=e[t],l[22]=t,l}function pa(s){let e,t;return e=new Jr({}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},p:Ye,i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function va(s){let e,t,l,r;const o=[wa,ga],a=[];function f(i,p){return i[2].length>0?0:1}return e=f(s),t=a[e]=o[e](s),{c(){t.c(),l=fl()},l(i){t.l(i),l=fl()},m(i,p){a[e].m(i,p),F(i,l,p),r=!0},p(i,p){let w=e;e=f(i),e===w?a[e].p(i,p):(Be(),U(a[w],1,1,()=>{a[w]=null}),He(),t=a[e],t?t.p(i,p):(t=a[e]=o[e](i),t.c()),x(t,1),t.m(l.parentNode,l))},i(i){r||(x(t),r=!0)},o(i){U(t),r=!1},d(i){i&&c(l),a[e].d(i)}}}function ga(s){let e,t=s[1].name+"",l,r,o=s[7].t("has no conversations.")+"",a;return{c(){e=d("div"),l=R(t),r=$(),a=R(o),this.h()},l(f){e=_(f,"DIV",{class:!0});var i=v(e);l=Z(i,t),r=E(i),a=Z(i,o),i.forEach(c),this.h()},h(){u(e,"class","text-left text-sm w-full mb-8")},m(f,i){F(f,e,i),n(e,l),n(e,r),n(e,a)},p(f,i){i&2&&t!==(t=f[1].name+"")&&J(l,t),i&128&&o!==(o=f[7].t("has no conversations.")+"")&&J(a,o)},i:Ye,o:Ye,d(f){f&&c(e)}}}function wa(s){let e,t,l,r,o,a,f=s[7].t("Title")+"",i,p,w,h,m=s[7].t("Updated at")+"",g,k,C,V,y,M,T,D,I;function L(P,K){return P[5]==="title"?ka:ba}let S=L(s),b=S(s);function z(P,K){return P[5]==="updated_at"?Ea:$a}let se=z(s),A=se(s),q=El(s[2].sort(s[16])),W=[];for(let P=0;P<q.length;P+=1)W[P]=ar(rr(s,q,P));const le=P=>U(W[P],1,1,()=>{W[P]=null});return{c(){e=d("div"),t=d("div"),l=d("table"),r=d("thead"),o=d("tr"),a=d("th"),i=R(f),p=$(),b.c(),w=$(),h=d("th"),g=R(m),k=$(),A.c(),C=$(),V=d("th"),y=$(),M=d("tbody");for(let P=0;P<W.length;P+=1)W[P].c();this.h()},l(P){e=_(P,"DIV",{class:!0});var K=v(e);t=_(K,"DIV",{class:!0});var X=v(t);l=_(X,"TABLE",{class:!0});var te=v(l);r=_(te,"THEAD",{class:!0});var H=v(r);o=_(H,"TR",{});var ee=v(o);a=_(ee,"TH",{scope:!0,class:!0});var G=v(a);i=Z(G,f),p=E(G),b.l(G),G.forEach(c),w=E(ee),h=_(ee,"TH",{scope:!0,class:!0});var Q=v(h);g=Z(Q,m),k=E(Q),A.l(Q),Q.forEach(c),C=E(ee),V=_(ee,"TH",{scope:!0,class:!0}),v(V).forEach(c),ee.forEach(c),H.forEach(c),y=E(te),M=_(te,"TBODY",{});var _e=v(M);for(let ge=0;ge<W.length;ge+=1)W[ge].l(_e);_e.forEach(c),te.forEach(c),X.forEach(c),K.forEach(c),this.h()},h(){u(a,"scope","col"),u(a,"class","px-3 py-2 cursor-pointer select-none"),u(h,"scope","col"),u(h,"class","px-3 py-2 hidden md:flex cursor-pointer select-none justify-end"),u(V,"scope","col"),u(V,"class","px-3 py-2 text-right"),u(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-850"),u(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),u(t,"class","relative overflow-x-auto"),u(e,"class","text-left text-sm w-full mb-4 max-h-[22rem] overflow-y-scroll")},m(P,K){F(P,e,K),n(e,t),n(t,l),n(l,r),n(r,o),n(o,a),n(a,i),n(a,p),b.m(a,null),n(o,w),n(o,h),n(h,g),n(h,k),A.m(h,null),n(o,C),n(o,V),n(l,y),n(l,M);for(let X=0;X<W.length;X+=1)W[X]&&W[X].m(M,null);T=!0,D||(I=[be(a,"click",s[14]),be(h,"click",s[15])],D=!0)},p(P,K){if((!T||K&128)&&f!==(f=P[7].t("Title")+"")&&J(i,f),S===(S=L(P))&&b?b.p(P,K):(b.d(1),b=S(P),b&&(b.c(),b.m(a,null))),(!T||K&128)&&m!==(m=P[7].t("Updated at")+"")&&J(g,m),se===(se=z(P))&&A?A.p(P,K):(A.d(1),A=se(P),A&&(A.c(),A.m(h,null))),K&252){q=El(P[2].sort(P[16]));let X;for(X=0;X<q.length;X+=1){const te=rr(P,q,X);W[X]?(W[X].p(te,K),x(W[X],1)):(W[X]=ar(te),W[X].c(),x(W[X],1),W[X].m(M,null))}for(Be(),X=q.length;X<W.length;X+=1)le(X);He()}},i(P){if(!T){for(let K=0;K<q.length;K+=1)x(W[K]);T=!0}},o(P){W=W.filter(Boolean);for(let K=0;K<W.length;K+=1)U(W[K]);T=!1},d(P){P&&c(e),b.d(),A.d(),Ts(W,P),D=!1,cl(I)}}}function ba(s){let e,t="▲";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=_(l,"SPAN",{class:!0,"data-svelte-h":!0}),tt(e)!=="svelte-7bvkyo"&&(e.textContent=t),this.h()},h(){u(e,"class","invisible")},m(l,r){F(l,e,r)},p:Ye,d(l){l&&c(e)}}}function ka(s){let e=s[6]==="asc"?"▲":"▼",t;return{c(){t=R(e)},l(l){t=Z(l,e)},m(l,r){F(l,t,r)},p(l,r){r&64&&e!==(e=l[6]==="asc"?"▲":"▼")&&J(t,e)},d(l){l&&c(t)}}}function $a(s){let e,t="▲";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=_(l,"SPAN",{class:!0,"data-svelte-h":!0}),tt(e)!=="svelte-7bvkyo"&&(e.textContent=t),this.h()},h(){u(e,"class","invisible")},m(l,r){F(l,e,r)},p:Ye,d(l){l&&c(e)}}}function Ea(s){let e=s[6]==="asc"?"▲":"▼",t;return{c(){t=R(e)},l(l){t=Z(l,e)},m(l,r){F(l,t,r)},p(l,r){r&64&&e!==(e=l[6]==="asc"?"▲":"▼")&&J(t,e)},d(l){l&&c(t)}}}function ya(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function o(){return s[17](s[20])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),tt(e)!=="svelte-7z7yn8"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(a,f){F(a,e,f),l||(r=be(e,"click",o),l=!0)},p(a,f){s=a},d(a){a&&c(e),l=!1,r()}}}function ar(s){let e,t,l,r,o=s[20].title+"",a,f,i,p,w,h=Rt(s[20].updated_at*1e3).format("LLL")+"",m,g,k,C,V,y,M,T;return V=new yl({props:{content:s[7].t("Delete Chat"),$$slots:{default:[ya]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("a"),r=d("div"),a=R(o),i=$(),p=d("td"),w=d("div"),m=R(h),g=$(),k=d("td"),C=d("div"),re(V.$$.fragment),y=$(),this.h()},l(D){e=_(D,"TR",{class:!0});var I=v(e);t=_(I,"TD",{class:!0});var L=v(t);l=_(L,"A",{href:!0,target:!0});var S=v(l);r=_(S,"DIV",{class:!0});var b=v(r);a=Z(b,o),b.forEach(c),S.forEach(c),L.forEach(c),i=E(I),p=_(I,"TD",{class:!0});var z=v(p);w=_(z,"DIV",{class:!0});var se=v(w);m=Z(se,h),se.forEach(c),z.forEach(c),g=E(I),k=_(I,"TD",{class:!0});var A=v(k);C=_(A,"DIV",{class:!0});var q=v(C);ae(V.$$.fragment,q),q.forEach(c),A.forEach(c),y=E(I),I.forEach(c),this.h()},h(){u(r,"class","underline line-clamp-1 max-w-96"),u(l,"href",f="/s/"+s[20].id),u(l,"target","_blank"),u(t,"class","px-3 py-1"),u(w,"class","my-auto shrink-0"),u(p,"class","px-3 py-1 hidden md:flex h-[2.5rem] justify-end"),u(C,"class","flex justify-end w-full"),u(k,"class","px-3 py-1 text-right"),u(e,"class",M="bg-transparent "+(s[22]!==s[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(D,I){F(D,e,I),n(e,t),n(t,l),n(l,r),n(r,a),n(e,i),n(e,p),n(p,w),n(w,m),n(e,g),n(e,k),n(k,C),ne(V,C,null),n(e,y),T=!0},p(D,I){(!T||I&100)&&o!==(o=D[20].title+"")&&J(a,o),(!T||I&100&&f!==(f="/s/"+D[20].id))&&u(l,"href",f),(!T||I&100)&&h!==(h=Rt(D[20].updated_at*1e3).format("LLL")+"")&&J(m,h);const L={};I&128&&(L.content=D[7].t("Delete Chat")),I&8388732&&(L.$$scope={dirty:I,ctx:D}),V.$set(L),(!T||I&4&&M!==(M="bg-transparent "+(D[22]!==D[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&u(e,"class",M)},i(D){T||(x(V.$$.fragment,D),T=!0)},o(D){U(V.$$.fragment,D),T=!1},d(D){D&&c(e),oe(V)}}}function Da(s){let e,t,l=s[7].t("{{user}}'s Chats",{user:s[1].name})+"",r,o,a,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',i,p,w,h,m,g,k,C;const V=[va,pa],y=[];function M(T,D){return T[2]?0:1}return h=M(s),m=y[h]=V[h](s),{c(){e=d("div"),t=d("div"),r=R(l),o=$(),a=d("button"),a.innerHTML=f,i=$(),p=d("div"),w=d("div"),m.c(),this.h()},l(T){e=_(T,"DIV",{class:!0});var D=v(e);t=_(D,"DIV",{class:!0});var I=v(t);r=Z(I,l),I.forEach(c),o=E(D),a=_(D,"BUTTON",{class:!0,"data-svelte-h":!0}),tt(a)!=="svelte-1i09mfg"&&(a.innerHTML=f),D.forEach(c),i=E(T),p=_(T,"DIV",{class:!0});var L=v(p);w=_(L,"DIV",{class:!0});var S=v(w);m.l(S),S.forEach(c),L.forEach(c),this.h()},h(){u(t,"class","text-lg font-medium self-center capitalize"),u(a,"class","self-center"),u(e,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),u(w,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(p,"class","flex flex-col md:flex-row w-full px-5 pt-2 pb-4 md:space-x-4 dark:text-gray-200")},m(T,D){F(T,e,D),n(e,t),n(t,r),n(e,o),n(e,a),F(T,i,D),F(T,p,D),n(p,w),y[h].m(w,null),g=!0,k||(C=be(a,"click",s[13]),k=!0)},p(T,D){(!g||D&130)&&l!==(l=T[7].t("{{user}}'s Chats",{user:T[1].name})+"")&&J(r,l);let I=h;h=M(T),h===I?y[h].p(T,D):(Be(),U(y[I],1,1,()=>{y[I]=null}),He(),m=y[h],m?m.p(T,D):(m=y[h]=V[h](T),m.c()),x(m,1),m.m(w,null))},i(T){g||(x(m),g=!0)},o(T){U(m),g=!1},d(T){T&&(c(e),c(i),c(p)),y[h].d(),k=!1,C()}}}function Ia(s){let e,t,l,r,o,a;function f(h){s[11](h)}let i={};s[3]!==void 0&&(i.show=s[3]),e=new Cs({props:i}),Ne.push(()=>Ue(e,"show",f)),e.$on("confirm",s[12]);function p(h){s[18](h)}let w={size:"lg",$$slots:{default:[Da]},$$scope:{ctx:s}};return s[0]!==void 0&&(w.show=s[0]),r=new hs({props:w}),Ne.push(()=>Ue(r,"show",p)),{c(){re(e.$$.fragment),l=$(),re(r.$$.fragment)},l(h){ae(e.$$.fragment,h),l=E(h),ae(r.$$.fragment,h)},m(h,m){ne(e,h,m),F(h,l,m),ne(r,h,m),a=!0},p(h,[m]){const g={};!t&&m&8&&(t=!0,g.show=h[3],Ce(()=>t=!1)),e.$set(g);const k={};m&8388863&&(k.$$scope={dirty:m,ctx:h}),!o&&m&1&&(o=!0,k.show=h[0],Ce(()=>o=!1)),r.$set(k)},i(h){a||(x(e.$$.fragment,h),x(r.$$.fragment,h),a=!0)},o(h){U(e.$$.fragment,h),U(r.$$.fragment,h),a=!1},d(h){h&&c(l),oe(e,h),oe(r,h)}}}function Va(s,e,t){let l;Vs(),Rt.extend(Ns);const r=el("i18n");$t(s,r,L=>t(7,l=L));let{show:o=!1}=e,{user:a}=e,f=null,i=!1,p=null;const w=async L=>{await Qr(localStorage.token,L).catch(S=>{wt.error(`${S}`)}),t(2,f=await tr(localStorage.token,a.id))};let h="updated_at",m="desc";function g(L){h===L?t(6,m=m==="asc"?"desc":"asc"):(t(5,h=L),t(6,m="asc"))}function k(L){i=L,t(3,i)}const C=()=>{p&&(w(p),t(4,p=null))},V=()=>{t(0,o=!1)},y=()=>g("title"),M=()=>g("updated_at"),T=(L,S)=>L[h]<S[h]?m==="asc"?-1:1:L[h]>S[h]?m==="asc"?1:-1:0,D=async L=>{t(4,p=L.id),t(3,i=!0)};function I(L){o=L,t(0,o)}return s.$$set=L=>{"show"in L&&t(0,o=L.show),"user"in L&&t(1,a=L.user)},s.$$.update=()=>{s.$$.dirty&3&&(o?(async()=>a.id&&t(2,f=await tr(localStorage.token,a.id)))():t(2,f=null))},[o,a,f,i,p,h,m,l,r,w,g,k,C,V,y,M,T,D,I]}class Ta extends Et{constructor(e){super(),yt(this,e,Va,Ia,bt,{show:0,user:1})}}function xa(s){let e,t,l,r,o,a,f,i,p=s[5].t("Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role.")+"",w,h,m,g=s[5].t("Click here to download user import template file.")+"",k,C,V;function y(D,I){return D[3]?Ua:Ca}let M=y(s),T=M(s);return{c(){e=d("div"),t=d("div"),l=d("input"),r=$(),o=d("button"),T.c(),a=$(),f=d("div"),i=R("ⓘ "),w=R(p),h=$(),m=d("a"),k=R(g),this.h()},l(D){e=_(D,"DIV",{});var I=v(e);t=_(I,"DIV",{class:!0});var L=v(t);l=_(L,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),r=E(L),o=_(L,"BUTTON",{class:!0,type:!0});var S=v(o);T.l(S),S.forEach(c),L.forEach(c),a=E(I),f=_(I,"DIV",{class:!0});var b=v(f);i=Z(b,"ⓘ "),w=Z(b,p),h=E(b),m=_(b,"A",{class:!0,href:!0});var z=v(m);k=Z(z,g),z.forEach(c),b.forEach(c),I.forEach(c),this.h()},h(){u(l,"id","upload-user-csv-input"),l.hidden=!0,u(l,"type","file"),u(l,"accept",".csv"),u(l,"class","svelte-1vx7r9s"),u(o,"class","w-full text-sm font-medium py-3 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl"),u(o,"type","button"),u(t,"class","mb-3 w-full"),u(m,"class","underline dark:text-gray-200"),u(m,"href",_s+"/static/user-import.csv"),u(f,"class","text-xs text-gray-500")},m(D,I){F(D,e,I),n(e,t),n(t,l),n(t,r),n(t,o),T.m(o,null),n(e,a),n(e,f),n(f,i),n(f,w),n(f,h),n(f,m),n(m,k),C||(V=[be(l,"change",s[15]),be(o,"click",s[16])],C=!0)},p(D,I){M===(M=y(D))&&T?T.p(D,I):(T.d(1),T=M(D),T&&(T.c(),T.m(o,null))),I&32&&p!==(p=D[5].t("Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role.")+"")&&J(w,p),I&32&&g!==(g=D[5].t("Click here to download user import template file.")+"")&&J(k,g)},d(D){D&&c(e),T.d(),C=!1,cl(V)}}}function Na(s){let e,t,l=s[5].t("Role")+"",r,o,a,f,i,p=s[5].t("pending")+"",w,h,m,g=s[5].t("user")+"",k,C,V,y=s[5].t("admin")+"",M,T,D,I,L,S=s[5].t("Name")+"",b,z,se,A,q,W,le,P,K,X,te=s[5].t("Email")+"",H,ee,G,Q,_e,ge,B,he,pe=s[5].t("Password")+"",j,de,Y,fe,ye,Ie,De;return{c(){e=d("div"),t=d("div"),r=R(l),o=$(),a=d("div"),f=d("select"),i=d("option"),w=R(p),h=$(),m=d("option"),k=R(g),C=$(),V=d("option"),M=R(y),D=$(),I=d("div"),L=d("div"),b=R(S),z=$(),se=d("div"),A=d("input"),W=$(),le=d("hr"),P=$(),K=d("div"),X=d("div"),H=R(te),ee=$(),G=d("div"),Q=d("input"),ge=$(),B=d("div"),he=d("div"),j=R(pe),de=$(),Y=d("div"),fe=d("input"),this.h()},l(ue){e=_(ue,"DIV",{class:!0});var ce=v(e);t=_(ce,"DIV",{class:!0});var Le=v(t);r=Z(Le,l),Le.forEach(c),o=E(ce),a=_(ce,"DIV",{class:!0});var Ee=v(a);f=_(Ee,"SELECT",{class:!0,placeholder:!0});var Ve=v(f);i=_(Ve,"OPTION",{});var qe=v(i);w=Z(qe,p),h=E(qe),qe.forEach(c),m=_(Ve,"OPTION",{});var Me=v(m);k=Z(Me,g),C=E(Me),Me.forEach(c),V=_(Ve,"OPTION",{});var je=v(V);M=Z(je,y),je.forEach(c),Ve.forEach(c),Ee.forEach(c),ce.forEach(c),D=E(ue),I=_(ue,"DIV",{class:!0});var Te=v(I);L=_(Te,"DIV",{class:!0});var Se=v(L);b=Z(Se,S),Se.forEach(c),z=E(Te),se=_(Te,"DIV",{class:!0});var Fe=v(se);A=_(Fe,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Fe.forEach(c),Te.forEach(c),W=E(ue),le=_(ue,"HR",{class:!0}),P=E(ue),K=_(ue,"DIV",{class:!0});var Ae=v(K);X=_(Ae,"DIV",{class:!0});var Ke=v(X);H=Z(Ke,te),Ke.forEach(c),ee=E(Ae),G=_(Ae,"DIV",{class:!0});var me=v(G);Q=_(me,"INPUT",{class:!0,type:!0,placeholder:!0}),me.forEach(c),Ae.forEach(c),ge=E(ue),B=_(ue,"DIV",{class:!0});var ke=v(B);he=_(ke,"DIV",{class:!0});var $e=v(he);j=Z($e,pe),$e.forEach(c),de=E(ke),Y=_(ke,"DIV",{class:!0});var we=v(Y);fe=_(we,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),we.forEach(c),ke.forEach(c),this.h()},h(){u(t,"class","mb-1 text-xs text-gray-500"),i.__value="pending",Qe(i,i.__value),m.__value="user",Qe(m,m.__value),V.__value="admin",Qe(V,V.__value),u(f,"class","w-full capitalize rounded-lg text-sm bg-transparent dark:disabled:text-gray-500 outline-hidden"),u(f,"placeholder",T=s[5].t("Enter Your Role")),f.required=!0,s[4].role===void 0&&Gr(()=>s[11].call(f)),u(a,"class","flex-1"),u(e,"class","flex flex-col w-full mb-3"),u(L,"class","mb-1 text-xs text-gray-500"),u(A,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1vx7r9s"),u(A,"type","text"),u(A,"placeholder",q=s[5].t("Enter Your Full Name")),u(A,"autocomplete","off"),A.required=!0,u(se,"class","flex-1"),u(I,"class","flex flex-col w-full mt-1"),u(le,"class","border-gray-100 dark:border-gray-850 my-2.5 w-full"),u(X,"class","mb-1 text-xs text-gray-500"),u(Q,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1vx7r9s"),u(Q,"type","email"),u(Q,"placeholder",_e=s[5].t("Enter Your Email")),Q.required=!0,u(G,"class","flex-1"),u(K,"class","flex flex-col w-full"),u(he,"class","mb-1 text-xs text-gray-500"),u(fe,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1vx7r9s"),u(fe,"type","password"),u(fe,"placeholder",ye=s[5].t("Enter Your Password")),u(fe,"autocomplete","off"),u(Y,"class","flex-1"),u(B,"class","flex flex-col w-full mt-1")},m(ue,ce){F(ue,e,ce),n(e,t),n(t,r),n(e,o),n(e,a),n(a,f),n(f,i),n(i,w),n(i,h),n(f,m),n(m,k),n(m,C),n(f,V),n(V,M),Xs(f,s[4].role,!0),F(ue,D,ce),F(ue,I,ce),n(I,L),n(L,b),n(I,z),n(I,se),n(se,A),Qe(A,s[4].name),F(ue,W,ce),F(ue,le,ce),F(ue,P,ce),F(ue,K,ce),n(K,X),n(X,H),n(K,ee),n(K,G),n(G,Q),Qe(Q,s[4].email),F(ue,ge,ce),F(ue,B,ce),n(B,he),n(he,j),n(B,de),n(B,Y),n(Y,fe),Qe(fe,s[4].password),Ie||(De=[be(f,"change",s[11]),be(A,"input",s[12]),be(Q,"input",s[13]),be(fe,"input",s[14])],Ie=!0)},p(ue,ce){ce&32&&l!==(l=ue[5].t("Role")+"")&&J(r,l),ce&32&&p!==(p=ue[5].t("pending")+"")&&J(w,p),ce&32&&g!==(g=ue[5].t("user")+"")&&J(k,g),ce&32&&y!==(y=ue[5].t("admin")+"")&&J(M,y),ce&32&&T!==(T=ue[5].t("Enter Your Role"))&&u(f,"placeholder",T),ce&16&&Xs(f,ue[4].role),ce&32&&S!==(S=ue[5].t("Name")+"")&&J(b,S),ce&32&&q!==(q=ue[5].t("Enter Your Full Name"))&&u(A,"placeholder",q),ce&16&&A.value!==ue[4].name&&Qe(A,ue[4].name),ce&32&&te!==(te=ue[5].t("Email")+"")&&J(H,te),ce&32&&_e!==(_e=ue[5].t("Enter Your Email"))&&u(Q,"placeholder",_e),ce&16&&Q.value!==ue[4].email&&Qe(Q,ue[4].email),ce&32&&pe!==(pe=ue[5].t("Password")+"")&&J(j,pe),ce&32&&ye!==(ye=ue[5].t("Enter Your Password"))&&u(fe,"placeholder",ye),ce&16&&fe.value!==ue[4].password&&Qe(fe,ue[4].password)},d(ue){ue&&(c(e),c(D),c(I),c(W),c(le),c(P),c(K),c(ge),c(B)),Ie=!1,cl(De)}}}function Ca(s){let e=s[5].t("Click here to select a csv file.")+"",t;return{c(){t=R(e)},l(l){t=Z(l,e)},m(l,r){F(l,t,r)},p(l,r){r&32&&e!==(e=l[5].t("Click here to select a csv file.")+"")&&J(t,e)},d(l){l&&c(t)}}}function Ua(s){let e=s[3].length>0?`${s[3].length}`:"",t,l;return{c(){t=R(e),l=R(" document(s) selected.")},l(r){t=Z(r,e),l=Z(r," document(s) selected.")},m(r,o){F(r,t,o),F(r,l,o)},p(r,o){o&8&&e!==(e=r[3].length>0?`${r[3].length}`:"")&&J(t,e)},d(r){r&&(c(t),c(l))}}}function nr(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),tt(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,r){F(l,e,r)},d(l){l&&c(e)}}}function La(s){let e,t,l,r=s[5].t("Add User")+"",o,a,f,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',p,w,h,m,g,k,C=s[5].t("Form")+"",V,y,M,T,D=s[5].t("CSV Import")+"",I,L,S,b,z,se,A,q=s[5].t("Save")+"",W,le,P,K,X;function te(Q,_e){if(Q[2]==="")return Na;if(Q[2]==="import")return xa}let H=te(s),ee=H&&H(s),G=s[1]&&nr();return{c(){e=d("div"),t=d("div"),l=d("div"),o=R(r),a=$(),f=d("button"),f.innerHTML=i,p=$(),w=d("div"),h=d("div"),m=d("form"),g=d("div"),k=d("button"),V=R(C),M=$(),T=d("button"),I=R(D),S=$(),b=d("div"),ee&&ee.c(),z=$(),se=d("div"),A=d("button"),W=R(q),le=$(),G&&G.c(),this.h()},l(Q){e=_(Q,"DIV",{});var _e=v(e);t=_(_e,"DIV",{class:!0});var ge=v(t);l=_(ge,"DIV",{class:!0});var B=v(l);o=Z(B,r),B.forEach(c),a=E(ge),f=_(ge,"BUTTON",{class:!0,"data-svelte-h":!0}),tt(f)!=="svelte-745w2y"&&(f.innerHTML=i),ge.forEach(c),p=E(_e),w=_(_e,"DIV",{class:!0});var he=v(w);h=_(he,"DIV",{class:!0});var pe=v(h);m=_(pe,"FORM",{class:!0});var j=v(m);g=_(j,"DIV",{class:!0});var de=v(g);k=_(de,"BUTTON",{class:!0,type:!0});var Y=v(k);V=Z(Y,C),Y.forEach(c),M=E(de),T=_(de,"BUTTON",{class:!0,type:!0});var fe=v(T);I=Z(fe,D),fe.forEach(c),de.forEach(c),S=E(j),b=_(j,"DIV",{class:!0});var ye=v(b);ee&&ee.l(ye),ye.forEach(c),z=E(j),se=_(j,"DIV",{class:!0});var Ie=v(se);A=_(Ie,"BUTTON",{class:!0,type:!0});var De=v(A);W=Z(De,q),le=E(De),G&&G.l(De),De.forEach(c),Ie.forEach(c),j.forEach(c),pe.forEach(c),he.forEach(c),_e.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(f,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),u(k,"class",y="min-w-fit rounded-full p-1.5 "+(s[2]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),u(k,"type","button"),u(T,"class",L="min-w-fit rounded-full p-1.5 "+(s[2]==="import"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),u(T,"type","button"),u(g,"class","flex -mt-2 mb-1.5 gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200"),u(b,"class","px-1"),u(A,"class",P="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),u(A,"type","submit"),A.disabled=s[1],u(se,"class","flex justify-end pt-3 text-sm font-medium"),u(m,"class","flex flex-col w-full"),u(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(w,"class","flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200")},m(Q,_e){F(Q,e,_e),n(e,t),n(t,l),n(l,o),n(t,a),n(t,f),n(e,p),n(e,w),n(w,h),n(h,m),n(m,g),n(g,k),n(k,V),n(g,M),n(g,T),n(T,I),n(m,S),n(m,b),ee&&ee.m(b,null),n(m,z),n(m,se),n(se,A),n(A,W),n(A,le),G&&G.m(A,null),K||(X=[be(f,"click",s[8]),be(k,"click",s[9]),be(T,"click",s[10]),be(m,"submit",Ir(s[17]))],K=!0)},p(Q,_e){_e&32&&r!==(r=Q[5].t("Add User")+"")&&J(o,r),_e&32&&C!==(C=Q[5].t("Form")+"")&&J(V,C),_e&4&&y!==(y="min-w-fit rounded-full p-1.5 "+(Q[2]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&u(k,"class",y),_e&32&&D!==(D=Q[5].t("CSV Import")+"")&&J(I,D),_e&4&&L!==(L="min-w-fit rounded-full p-1.5 "+(Q[2]==="import"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&u(T,"class",L),H===(H=te(Q))&&ee?ee.p(Q,_e):(ee&&ee.d(1),ee=H&&H(Q),ee&&(ee.c(),ee.m(b,null))),_e&32&&q!==(q=Q[5].t("Save")+"")&&J(W,q),Q[1]?G||(G=nr(),G.c(),G.m(A,null)):G&&(G.d(1),G=null),_e&2&&P!==(P="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(Q[1]?" cursor-not-allowed":""))&&u(A,"class",P),_e&2&&(A.disabled=Q[1])},d(Q){Q&&c(e),ee&&ee.d(),G&&G.d(),K=!1,cl(X)}}}function Ma(s){let e,t,l;function r(a){s[18](a)}let o={size:"sm",$$slots:{default:[La]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new hs({props:o}),Ne.push(()=>Ue(e,"show",r)),{c(){re(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,f){ne(e,a,f),l=!0},p(a,[f]){const i={};f&1048639&&(i.$$scope={dirty:f,ctx:a}),!t&&f&1&&(t=!0,i.show=a[0],Ce(()=>t=!1)),e.$set(i)},i(a){l||(x(e.$$.fragment,a),l=!0)},o(a){U(e.$$.fragment,a),l=!1},d(a){oe(e,a)}}}function Sa(s,e,t){let l;const r=el("i18n");$t(s,r,S=>t(5,l=S));const o=Vs();let{show:a=!1}=e,f=!1,i="",p,w={name:"",email:"",password:"",role:"user"};const h=async()=>{const S=()=>{o("save"),t(1,f=!1)};if(i==="")t(1,f=!0),await lr(localStorage.token,w.name,w.email,w.password,w.role).catch(z=>{wt.error(`${z}`)})&&(S(),t(0,a=!1));else if(p){t(1,f=!0);const b=p[0],z=new FileReader;z.onload=async se=>{const q=se.target.result.split(`
`);let W=0;for(const[P,K]of q.entries()){const X=K.split(",").map(te=>te.trim());console.log(P,X),P>0&&(X.length===4&&["admin","user","pending"].includes(X[3].toLowerCase())?await lr(localStorage.token,X[0],X[1],X[2],X[3].toLowerCase()).catch(H=>(wt.error(`Row ${P+1}: ${H}`),null))&&(W=W+1):wt.error(`Row ${P+1}: invalid format.`))}wt.success(`Successfully imported ${W} users.`),t(3,p=null);const le=document.getElementById("upload-user-csv-input");le&&(le.value=null),S()},z.readAsText(b)}else wt.error(l.t("File not found."));t(1,f=!1)},m=()=>{t(0,a=!1)},g=()=>{t(2,i="")},k=()=>{t(2,i="import")};function C(){w.role=zr(this),t(4,w),t(0,a)}function V(){w.name=this.value,t(4,w),t(0,a)}function y(){w.email=this.value,t(4,w),t(0,a)}function M(){w.password=this.value,t(4,w),t(0,a)}function T(){p=this.files,t(3,p)}const D=()=>{var S;(S=document.getElementById("upload-user-csv-input"))==null||S.click()},I=()=>{h()};function L(S){a=S,t(0,a)}return s.$$set=S=>{"show"in S&&t(0,a=S.show)},s.$$.update=()=>{s.$$.dirty&1&&a&&t(4,w={name:"",email:"",password:"",role:"user"})},[a,f,i,p,w,l,r,h,m,g,k,C,V,y,M,T,D,I,L]}class Aa extends Et{constructor(e){super(),yt(this,e,Sa,Ma,bt,{show:0})}}function or(s,e,t){const l=s.slice();return l[38]=e[t],l[40]=t,l}function ir(s){let e,t,l;function r(a){s[20](a)}let o={selectedUser:s[5],sessionUser:s[11]};return s[9]!==void 0&&(o.show=s[9]),e=new ma({props:o}),Ne.push(()=>Ue(e,"show",r)),e.$on("save",s[21]),{c(){re(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,f){ne(e,a,f),l=!0},p(a,f){const i={};f[0]&32&&(i.selectedUser=a[5]),f[0]&2048&&(i.sessionUser=a[11]),!t&&f[0]&512&&(t=!0,i.show=a[9],Ce(()=>t=!1)),e.$set(i)},i(a){l||(x(e.$$.fragment,a),l=!0)},o(a){U(e.$$.fragment,a),l=!1},d(a){oe(e,a)}}}function ur(s){let e,t,l;return t=new Xr({props:{className:"mx-0",banner:{type:"error",title:"License Error",content:"Exceeded the number of seats in your license. Please contact support to increase the number of seats.",dismissable:!0}}}),{c(){e=d("div"),re(t.$$.fragment),this.h()},l(r){e=_(r,"DIV",{class:!0});var o=v(e);ae(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","mt-1 mb-2 text-xs text-red-500")},m(r,o){F(r,e,o),ne(t,e,null),l=!0},i(r){l||(x(t.$$.fragment,r),l=!0)},o(r){U(t.$$.fragment,r),l=!1},d(r){r&&c(e),oe(t)}}}function Pa(s){let e,t=s[0].length+"",l;return{c(){e=d("span"),l=R(t),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=v(e);l=Z(o,t),o.forEach(c),this.h()},h(){u(e,"class","text-lg font-medium text-gray-500 dark:text-gray-300")},m(r,o){F(r,e,o),n(e,l)},p(r,o){o[0]&1&&t!==(t=r[0].length+"")&&J(l,t)},d(r){r&&c(e)}}}function Ba(s){let e;function t(o,a){var f,i;return o[0].length>((i=(f=o[12])==null?void 0:f.license_metadata)==null?void 0:i.seats)?ja:Ha}let l=t(s),r=l(s);return{c(){r.c(),e=fl()},l(o){r.l(o),e=fl()},m(o,a){r.m(o,a),F(o,e,a)},p(o,a){l===(l=t(o))&&r?r.p(o,a):(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&c(e),r.d(o)}}}function Ha(s){var w,h;let e,t=s[0].length+"",l,r,o=((h=(w=s[12])==null?void 0:w.license_metadata)==null?void 0:h.seats)+"",a,f,i,p="available users";return{c(){e=d("span"),l=R(t),r=R(" of "),a=R(o),f=$(),i=d("span"),i.textContent=p,this.h()},l(m){e=_(m,"SPAN",{class:!0});var g=v(e);l=Z(g,t),r=Z(g," of "),a=Z(g,o),f=E(g),i=_(g,"SPAN",{class:!0,"data-svelte-h":!0}),tt(i)!=="svelte-e0jf5p"&&(i.textContent=p),g.forEach(c),this.h()},h(){u(i,"class","text-sm font-normal"),u(e,"class","text-lg font-medium text-gray-500 dark:text-gray-300")},m(m,g){F(m,e,g),n(e,l),n(e,r),n(e,a),n(e,f),n(e,i)},p(m,g){var k,C;g[0]&1&&t!==(t=m[0].length+"")&&J(l,t),g[0]&4096&&o!==(o=((C=(k=m[12])==null?void 0:k.license_metadata)==null?void 0:C.seats)+"")&&J(a,o)},d(m){m&&c(e)}}}function ja(s){var w,h;let e,t=s[0].length+"",l,r,o=((h=(w=s[12])==null?void 0:w.license_metadata)==null?void 0:h.seats)+"",a,f,i,p="available users";return{c(){e=d("span"),l=R(t),r=R(" of "),a=R(o),f=$(),i=d("span"),i.textContent=p,this.h()},l(m){e=_(m,"SPAN",{class:!0});var g=v(e);l=Z(g,t),r=Z(g," of "),a=Z(g,o),f=E(g),i=_(g,"SPAN",{class:!0,"data-svelte-h":!0}),tt(i)!=="svelte-e0jf5p"&&(i.textContent=p),g.forEach(c),this.h()},h(){u(i,"class","text-sm font-normal"),u(e,"class","text-lg font-medium text-red-500")},m(m,g){F(m,e,g),n(e,l),n(e,r),n(e,a),n(e,f),n(e,i)},p(m,g){var k,C;g[0]&1&&t!==(t=m[0].length+"")&&J(l,t),g[0]&4096&&o!==(o=((C=(k=m[12])==null?void 0:k.license_metadata)==null?void 0:C.seats)+"")&&J(a,o)},d(m){m&&c(e)}}}function za(s){let e,t,l,r,o;return t=new Nr({props:{className:"size-3.5"}}),{c(){e=d("button"),re(t.$$.fragment),this.h()},l(a){e=_(a,"BUTTON",{class:!0});var f=v(e);ae(t.$$.fragment,f),f.forEach(c),this.h()},h(){u(e,"class","p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1")},m(a,f){F(a,e,f),ne(t,e,null),l=!0,r||(o=be(e,"click",s[26]),r=!0)},p:Ye,i(a){l||(x(t.$$.fragment,a),l=!0)},o(a){U(t.$$.fragment,a),l=!1},d(a){a&&c(e),oe(t),r=!1,o()}}}function Ga(s){let e,t,l;return t=new tl({props:{className:"size-2"}}),{c(){e=d("span"),re(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=v(e);ae(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,o){F(r,e,o),ne(t,e,null),l=!0},p:Ye,i(r){l||(x(t.$$.fragment,r),l=!0)},o(r){U(t.$$.fragment,r),l=!1},d(r){r&&c(e),oe(t)}}}function Oa(s){let e,t,l,r;const o=[Ra,qa],a=[];function f(i,p){return i[4]==="asc"?0:1}return t=f(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(i){e=_(i,"SPAN",{class:!0});var p=v(e);l.l(p),p.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(i,p){F(i,e,p),a[t].m(e,null),r=!0},p(i,p){let w=t;t=f(i),t!==w&&(Be(),U(a[w],1,1,()=>{a[w]=null}),He(),l=a[t],l||(l=a[t]=o[t](i),l.c()),x(l,1),l.m(e,null))},i(i){r||(x(l),r=!0)},o(i){U(l),r=!1},d(i){i&&c(e),a[t].d()}}}function qa(s){let e,t;return e=new ts({props:{className:"size-2"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Ra(s){let e,t;return e=new tl({props:{className:"size-2"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Za(s){let e,t,l;return t=new tl({props:{className:"size-2"}}),{c(){e=d("span"),re(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=v(e);ae(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,o){F(r,e,o),ne(t,e,null),l=!0},p:Ye,i(r){l||(x(t.$$.fragment,r),l=!0)},o(r){U(t.$$.fragment,r),l=!1},d(r){r&&c(e),oe(t)}}}function Wa(s){let e,t,l,r;const o=[Fa,Ya],a=[];function f(i,p){return i[4]==="asc"?0:1}return t=f(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(i){e=_(i,"SPAN",{class:!0});var p=v(e);l.l(p),p.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(i,p){F(i,e,p),a[t].m(e,null),r=!0},p(i,p){let w=t;t=f(i),t!==w&&(Be(),U(a[w],1,1,()=>{a[w]=null}),He(),l=a[t],l||(l=a[t]=o[t](i),l.c()),x(l,1),l.m(e,null))},i(i){r||(x(l),r=!0)},o(i){U(l),r=!1},d(i){i&&c(e),a[t].d()}}}function Ya(s){let e,t;return e=new ts({props:{className:"size-2"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Fa(s){let e,t;return e=new tl({props:{className:"size-2"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Ka(s){let e,t,l;return t=new tl({props:{className:"size-2"}}),{c(){e=d("span"),re(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=v(e);ae(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,o){F(r,e,o),ne(t,e,null),l=!0},p:Ye,i(r){l||(x(t.$$.fragment,r),l=!0)},o(r){U(t.$$.fragment,r),l=!1},d(r){r&&c(e),oe(t)}}}function Qa(s){let e,t,l,r;const o=[Xa,Ja],a=[];function f(i,p){return i[4]==="asc"?0:1}return t=f(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(i){e=_(i,"SPAN",{class:!0});var p=v(e);l.l(p),p.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(i,p){F(i,e,p),a[t].m(e,null),r=!0},p(i,p){let w=t;t=f(i),t!==w&&(Be(),U(a[w],1,1,()=>{a[w]=null}),He(),l=a[t],l||(l=a[t]=o[t](i),l.c()),x(l,1),l.m(e,null))},i(i){r||(x(l),r=!0)},o(i){U(l),r=!1},d(i){i&&c(e),a[t].d()}}}function Ja(s){let e,t;return e=new ts({props:{className:"size-2"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Xa(s){let e,t;return e=new tl({props:{className:"size-2"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function en(s){let e,t,l;return t=new tl({props:{className:"size-2"}}),{c(){e=d("span"),re(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=v(e);ae(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,o){F(r,e,o),ne(t,e,null),l=!0},p:Ye,i(r){l||(x(t.$$.fragment,r),l=!0)},o(r){U(t.$$.fragment,r),l=!1},d(r){r&&c(e),oe(t)}}}function tn(s){let e,t,l,r;const o=[sn,ln],a=[];function f(i,p){return i[4]==="asc"?0:1}return t=f(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(i){e=_(i,"SPAN",{class:!0});var p=v(e);l.l(p),p.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(i,p){F(i,e,p),a[t].m(e,null),r=!0},p(i,p){let w=t;t=f(i),t!==w&&(Be(),U(a[w],1,1,()=>{a[w]=null}),He(),l=a[t],l||(l=a[t]=o[t](i),l.c()),x(l,1),l.m(e,null))},i(i){r||(x(l),r=!0)},o(i){U(l),r=!1},d(i){i&&c(e),a[t].d()}}}function ln(s){let e,t;return e=new ts({props:{className:"size-2"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function sn(s){let e,t;return e=new tl({props:{className:"size-2"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function rn(s){let e,t,l;return t=new tl({props:{className:"size-2"}}),{c(){e=d("span"),re(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=v(e);ae(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,o){F(r,e,o),ne(t,e,null),l=!0},p:Ye,i(r){l||(x(t.$$.fragment,r),l=!0)},o(r){U(t.$$.fragment,r),l=!1},d(r){r&&c(e),oe(t)}}}function an(s){let e,t,l,r;const o=[on,nn],a=[];function f(i,p){return i[4]==="asc"?0:1}return t=f(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(i){e=_(i,"SPAN",{class:!0});var p=v(e);l.l(p),p.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(i,p){F(i,e,p),a[t].m(e,null),r=!0},p(i,p){let w=t;t=f(i),t!==w&&(Be(),U(a[w],1,1,()=>{a[w]=null}),He(),l=a[t],l||(l=a[t]=o[t](i),l.c()),x(l,1),l.m(e,null))},i(i){r||(x(l),r=!0)},o(i){U(l),r=!1},d(i){i&&c(e),a[t].d()}}}function nn(s){let e,t;return e=new ts({props:{className:"size-2"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function on(s){let e,t;return e=new tl({props:{className:"size-2"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function un(s){let e,t,l;return t=new tl({props:{className:"size-2"}}),{c(){e=d("span"),re(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=v(e);ae(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,o){F(r,e,o),ne(t,e,null),l=!0},p:Ye,i(r){l||(x(t.$$.fragment,r),l=!0)},o(r){U(t.$$.fragment,r),l=!1},d(r){r&&c(e),oe(t)}}}function fn(s){let e,t,l,r;const o=[dn,cn],a=[];function f(i,p){return i[4]==="asc"?0:1}return t=f(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(i){e=_(i,"SPAN",{class:!0});var p=v(e);l.l(p),p.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(i,p){F(i,e,p),a[t].m(e,null),r=!0},p(i,p){let w=t;t=f(i),t!==w&&(Be(),U(a[w],1,1,()=>{a[w]=null}),He(),l=a[t],l||(l=a[t]=o[t](i),l.c()),x(l,1),l.m(e,null))},i(i){r||(x(l),r=!0)},o(i){U(l),r=!1},d(i){i&&c(e),a[t].d()}}}function cn(s){let e,t;return e=new ts({props:{className:"size-2"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function dn(s){let e,t;return e=new tl({props:{className:"size-2"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function fr(s){let e,t;return e=new yl({props:{content:s[13].t("Chats"),$$slots:{default:[_n]},$$scope:{ctx:s}}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},p(l,r){const o={};r[0]&8192&&(o.content=l[13].t("Chats")),r[0]&1312|r[1]&1024&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function _n(s){let e,t,l,r,o;t=new ca({});function a(){return s[34](s[38])}return{c(){e=d("button"),re(t.$$.fragment),this.h()},l(f){e=_(f,"BUTTON",{class:!0});var i=v(e);ae(t.$$.fragment,i),i.forEach(c),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(f,i){F(f,e,i),ne(t,e,null),l=!0,r||(o=be(e,"click",a),r=!0)},p(f,i){s=f},i(f){l||(x(t.$$.fragment,f),l=!0)},o(f){U(t.$$.fragment,f),l=!1},d(f){f&&c(e),oe(t),r=!1,o()}}}function hn(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',l,r;function o(){return s[35](s[38])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),tt(e)!=="svelte-ow16l9"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(a,f){F(a,e,f),l||(r=be(e,"click",o),l=!0)},p(a,f){s=a},d(a){a&&c(e),l=!1,r()}}}function cr(s){let e,t;return e=new yl({props:{content:s[13].t("Delete User"),$$slots:{default:[mn]},$$scope:{ctx:s}}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},p(l,r){const o={};r[0]&8192&&(o.content=l[13].t("Delete User")),r[0]&1120|r[1]&1024&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function mn(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function o(){return s[36](s[38])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),tt(e)!=="svelte-8s8zkf"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(a,f){F(a,e,f),l||(r=be(e,"click",o),l=!0)},p(a,f){s=a},d(a){a&&c(e),l=!1,r()}}}function dr(s){let e,t,l,r,o,a,f,i,p,w,h,m=s[38].name+"",g,k,C,V=s[38].email+"",y,M,T,D=Rt(s[38].last_active_at*1e3).fromNow()+"",I,L,S,b=Rt(s[38].created_at*1e3).format("LL")+"",z,se,A,q=(s[38].oauth_sub??"")+"",W,le,P,K,X,te,H,ee,G,Q,_e;r=new xr({props:{type:s[38].role==="admin"?"info":s[38].role==="user"?"success":"muted",content:s[13].t(s[38].role)}});function ge(){return s[33](s[38])}let B=s[12].features.enable_admin_chat_access&&s[38].role!=="admin"&&fr(s);te=new yl({props:{content:s[13].t("Edit User"),$$slots:{default:[hn]},$$scope:{ctx:s}}});let he=s[38].role!=="admin"&&cr(s);return{c(){e=d("tr"),t=d("td"),l=d("button"),re(r.$$.fragment),o=$(),a=d("td"),f=d("div"),i=d("img"),w=$(),h=d("div"),g=R(m),k=$(),C=d("td"),y=R(V),M=$(),T=d("td"),I=R(D),L=$(),S=d("td"),z=R(b),se=$(),A=d("td"),W=R(q),le=$(),P=d("td"),K=d("div"),B&&B.c(),X=$(),re(te.$$.fragment),H=$(),he&&he.c(),ee=$(),this.h()},l(pe){e=_(pe,"TR",{class:!0});var j=v(e);t=_(j,"TD",{class:!0});var de=v(t);l=_(de,"BUTTON",{class:!0});var Y=v(l);ae(r.$$.fragment,Y),Y.forEach(c),de.forEach(c),o=E(j),a=_(j,"TD",{class:!0});var fe=v(a);f=_(fe,"DIV",{class:!0});var ye=v(f);i=_(ye,"IMG",{class:!0,src:!0,alt:!0}),w=E(ye),h=_(ye,"DIV",{class:!0});var Ie=v(h);g=Z(Ie,m),Ie.forEach(c),ye.forEach(c),fe.forEach(c),k=E(j),C=_(j,"TD",{class:!0});var De=v(C);y=Z(De,V),De.forEach(c),M=E(j),T=_(j,"TD",{class:!0});var ue=v(T);I=Z(ue,D),ue.forEach(c),L=E(j),S=_(j,"TD",{class:!0});var ce=v(S);z=Z(ce,b),ce.forEach(c),se=E(j),A=_(j,"TD",{class:!0});var Le=v(A);W=Z(Le,q),Le.forEach(c),le=E(j),P=_(j,"TD",{class:!0});var Ee=v(P);K=_(Ee,"DIV",{class:!0});var Ve=v(K);B&&B.l(Ve),X=E(Ve),ae(te.$$.fragment,Ve),H=E(Ve),he&&he.l(Ve),Ve.forEach(c),Ee.forEach(c),ee=E(j),j.forEach(c),this.h()},h(){u(l,"class","translate-y-0.5"),u(t,"class","px-3 py-1 min-w-[7rem] w-28"),u(i,"class","rounded-full w-6 h-6 object-cover mr-2.5"),Xl(i.src,p=s[38].profile_image_url.startsWith(_s)||s[38].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[38].profile_image_url.startsWith("data:")?s[38].profile_image_url:"/user.png")||u(i,"src",p),u(i,"alt","user"),u(h,"class","font-medium self-center"),u(f,"class","flex flex-row w-max"),u(a,"class","px-3 py-1 font-medium text-gray-900 dark:text-white w-max"),u(C,"class","px-3 py-1"),u(T,"class","px-3 py-1"),u(S,"class","px-3 py-1"),u(A,"class","px-3 py-1"),u(K,"class","flex justify-end w-full"),u(P,"class","px-3 py-1 text-right"),u(e,"class","bg-white dark:bg-gray-900 dark:border-gray-850 text-xs")},m(pe,j){F(pe,e,j),n(e,t),n(t,l),ne(r,l,null),n(e,o),n(e,a),n(a,f),n(f,i),n(f,w),n(f,h),n(h,g),n(e,k),n(e,C),n(C,y),n(e,M),n(e,T),n(T,I),n(e,L),n(e,S),n(S,z),n(e,se),n(e,A),n(A,W),n(e,le),n(e,P),n(P,K),B&&B.m(K,null),n(K,X),ne(te,K,null),n(K,H),he&&he.m(K,null),n(e,ee),G=!0,Q||(_e=be(l,"click",ge),Q=!0)},p(pe,j){s=pe;const de={};j[0]&1024&&(de.type=s[38].role==="admin"?"info":s[38].role==="user"?"success":"muted"),j[0]&9216&&(de.content=s[13].t(s[38].role)),r.$set(de),(!G||j[0]&1024&&!Xl(i.src,p=s[38].profile_image_url.startsWith(_s)||s[38].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[38].profile_image_url.startsWith("data:")?s[38].profile_image_url:"/user.png"))&&u(i,"src",p),(!G||j[0]&1024)&&m!==(m=s[38].name+"")&&J(g,m),(!G||j[0]&1024)&&V!==(V=s[38].email+"")&&J(y,V),(!G||j[0]&1024)&&D!==(D=Rt(s[38].last_active_at*1e3).fromNow()+"")&&J(I,D),(!G||j[0]&1024)&&b!==(b=Rt(s[38].created_at*1e3).format("LL")+"")&&J(z,b),(!G||j[0]&1024)&&q!==(q=(s[38].oauth_sub??"")+"")&&J(W,q),s[12].features.enable_admin_chat_access&&s[38].role!=="admin"?B?(B.p(s,j),j[0]&5120&&x(B,1)):(B=fr(s),B.c(),x(B,1),B.m(K,X)):B&&(Be(),U(B,1,1,()=>{B=null}),He());const Y={};j[0]&8192&&(Y.content=s[13].t("Edit User")),j[0]&1568|j[1]&1024&&(Y.$$scope={dirty:j,ctx:s}),te.$set(Y),s[38].role!=="admin"?he?(he.p(s,j),j[0]&1024&&x(he,1)):(he=cr(s),he.c(),x(he,1),he.m(K,null)):he&&(Be(),U(he,1,1,()=>{he=null}),He())},i(pe){G||(x(r.$$.fragment,pe),x(B),x(te.$$.fragment,pe),x(he),G=!0)},o(pe){U(r.$$.fragment,pe),U(B),U(te.$$.fragment,pe),U(he),G=!1},d(pe){pe&&c(e),oe(r),B&&B.d(),oe(te),he&&he.d(),Q=!1,_e()}}}function pn(s){var Zl,Wl,rl,ml;let e,t,l,r=s[5],o,a,f,i,p,w,h,m,g,k,C,V=s[13].t("Users")+"",y,M,T,D,I,L,S,b,z,se='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',A,q,W,le,P,K,X,te,H,ee,G,Q,_e,ge=s[13].t("Role")+"",B,he,pe,j,de,Y,fe,ye=s[13].t("Name")+"",Ie,De,ue,ce,Le,Ee,Ve,qe=s[13].t("Email")+"",Me,je,Te,Se,Fe,Ae,Ke,me=s[13].t("Last Active")+"",ke,$e,we,Ge,ot,We,it,Re=s[13].t("Created at")+"",ut,Dt,xe,Ze,ht,Xe,lt,mt=s[13].t("OAuth ID")+"",Tt,xt,rt,ft,dt,Pt,al,ct,Nt,Ct,pl,dl=s[13].t("Click on the user role button to change a user's role.")+"",Ut,vl,Bt,Zt,at,_l,Dl;function ls(N){s[18](N)}let Wt={};s[6]!==void 0&&(Wt.show=s[6]),e=new Cs({props:Wt}),Ne.push(()=>Ue(e,"show",ls)),e.$on("confirm",s[19]);let kt=ir(s);function ss(N){s[22](N)}let ll={};s[7]!==void 0&&(ll.show=s[7]),a=new Aa({props:ll}),Ne.push(()=>Ue(a,"show",ss)),a.$on("save",s[23]);function gl(N){s[24](N)}let wl={user:s[5]};s[8]!==void 0&&(wl.show=s[8]),p=new Ta({props:wl}),Ne.push(()=>Ue(p,"show",gl));let Je=(((Wl=(Zl=s[12])==null?void 0:Zl.license_metadata)==null?void 0:Wl.seats)??null)!==null&&s[0].length>((ml=(rl=s[12])==null?void 0:rl.license_metadata)==null?void 0:ml.seats)&&ur();function Hl(N,ie){var st,_t;return(((_t=(st=N[12])==null?void 0:st.license_metadata)==null?void 0:_t.seats)??null)!==null?Ba:Pa}let Lt=Hl(s),It=Lt(s);K=new yl({props:{content:s[13].t("Add User"),$$slots:{default:[za]},$$scope:{ctx:s}}});const jl=[Oa,Ga],pt=[];function hl(N,ie){return N[3]==="role"?0:1}pe=hl(s),j=pt[pe]=jl[pe](s);const bl=[Wa,Za],Ht=[];function zl(N,ie){return N[3]==="name"?0:1}ue=zl(s),ce=Ht[ue]=bl[ue](s);const Yt=[Qa,Ka],Ft=[];function Gl(N,ie){return N[3]==="email"?0:1}Te=Gl(s),Se=Ft[Te]=Yt[Te](s);const Ol=[tn,en],jt=[];function ql(N,ie){return N[3]==="last_active_at"?0:1}we=ql(s),Ge=jt[we]=Ol[we](s);const Mt=[an,rn],Vt=[];function kl(N,ie){return N[3]==="created_at"?0:1}xe=kl(s),Ze=Vt[xe]=Mt[xe](s);const Il=[fn,un],Kt=[];function sl(N,ie){return N[3]==="oauth_sub"?0:1}rt=sl(s),ft=Kt[rt]=Il[rt](s);let St=El(s[10]),ze=[];for(let N=0;N<St.length;N+=1)ze[N]=dr(or(s,St,N));const Rl=N=>U(ze[N],1,1,()=>{ze[N]=null});function rs(N){s[37](N)}let Qt={count:s[0].length};return s[2]!==void 0&&(Qt.page=s[2]),Bt=new Kr({props:Qt}),Ne.push(()=>Ue(Bt,"page",rs)),{c(){re(e.$$.fragment),l=$(),kt.c(),o=$(),re(a.$$.fragment),i=$(),re(p.$$.fragment),h=$(),Je&&Je.c(),m=$(),g=d("div"),k=d("div"),C=d("div"),y=R(V),M=$(),T=d("div"),D=$(),It.c(),I=$(),L=d("div"),S=d("div"),b=d("div"),z=d("div"),z.innerHTML=se,A=$(),q=d("input"),le=$(),P=d("div"),re(K.$$.fragment),X=$(),te=d("div"),H=d("table"),ee=d("thead"),G=d("tr"),Q=d("th"),_e=d("div"),B=R(ge),he=$(),j.c(),de=$(),Y=d("th"),fe=d("div"),Ie=R(ye),De=$(),ce.c(),Le=$(),Ee=d("th"),Ve=d("div"),Me=R(qe),je=$(),Se.c(),Fe=$(),Ae=d("th"),Ke=d("div"),ke=R(me),$e=$(),Ge.c(),ot=$(),We=d("th"),it=d("div"),ut=R(Re),Dt=$(),Ze.c(),ht=$(),Xe=d("th"),lt=d("div"),Tt=R(mt),xt=$(),ft.c(),dt=$(),Pt=d("th"),al=$(),ct=d("tbody");for(let N=0;N<ze.length;N+=1)ze[N].c();Nt=$(),Ct=d("div"),pl=R("ⓘ "),Ut=R(dl),vl=$(),re(Bt.$$.fragment),this.h()},l(N){ae(e.$$.fragment,N),l=E(N),kt.l(N),o=E(N),ae(a.$$.fragment,N),i=E(N),ae(p.$$.fragment,N),h=E(N),Je&&Je.l(N),m=E(N),g=_(N,"DIV",{class:!0});var ie=v(g);k=_(ie,"DIV",{class:!0});var st=v(k);C=_(st,"DIV",{class:!0});var _t=v(C);y=Z(_t,V),_t.forEach(c),M=E(st),T=_(st,"DIV",{class:!0}),v(T).forEach(c),D=E(st),It.l(st),st.forEach(c),I=E(ie),L=_(ie,"DIV",{class:!0});var nl=v(L);S=_(nl,"DIV",{class:!0});var Jt=v(S);b=_(Jt,"DIV",{class:!0});var vt=v(b);z=_(vt,"DIV",{class:!0,"data-svelte-h":!0}),tt(z)!=="svelte-8l37wj"&&(z.innerHTML=se),A=E(vt),q=_(vt,"INPUT",{class:!0,placeholder:!0}),vt.forEach(c),le=E(Jt),P=_(Jt,"DIV",{});var zt=v(P);ae(K.$$.fragment,zt),zt.forEach(c),Jt.forEach(c),nl.forEach(c),ie.forEach(c),X=E(N),te=_(N,"DIV",{class:!0});var Xt=v(te);H=_(Xt,"TABLE",{class:!0});var Gt=v(H);ee=_(Gt,"THEAD",{class:!0});var ol=v(ee);G=_(ol,"TR",{class:!0});var Oe=v(G);Q=_(Oe,"TH",{scope:!0,class:!0});var il=v(Q);_e=_(il,"DIV",{class:!0});var Pe=v(_e);B=Z(Pe,ge),he=E(Pe),j.l(Pe),Pe.forEach(c),il.forEach(c),de=E(Oe),Y=_(Oe,"TH",{scope:!0,class:!0});var Vl=v(Y);fe=_(Vl,"DIV",{class:!0});var ul=v(fe);Ie=Z(ul,ye),De=E(ul),ce.l(ul),ul.forEach(c),Vl.forEach(c),Le=E(Oe),Ee=_(Oe,"TH",{scope:!0,class:!0});var Tl=v(Ee);Ve=_(Tl,"DIV",{class:!0});var et=v(Ve);Me=Z(et,qe),je=E(et),Se.l(et),et.forEach(c),Tl.forEach(c),Fe=E(Oe),Ae=_(Oe,"TH",{scope:!0,class:!0});var xl=v(Ae);Ke=_(xl,"DIV",{class:!0});var Nl=v(Ke);ke=Z(Nl,me),$e=E(Nl),Ge.l(Nl),Nl.forEach(c),xl.forEach(c),ot=E(Oe),We=_(Oe,"TH",{scope:!0,class:!0});var ms=v(We);it=_(ms,"DIV",{class:!0});var Cl=v(it);ut=Z(Cl,Re),Dt=E(Cl),Ze.l(Cl),Cl.forEach(c),ms.forEach(c),ht=E(Oe),Xe=_(Oe,"TH",{scope:!0,class:!0});var ps=v(Xe);lt=_(ps,"DIV",{class:!0});var Ul=v(lt);Tt=Z(Ul,mt),xt=E(Ul),ft.l(Ul),Ul.forEach(c),ps.forEach(c),dt=E(Oe),Pt=_(Oe,"TH",{scope:!0,class:!0}),v(Pt).forEach(c),Oe.forEach(c),ol.forEach(c),al=E(Gt),ct=_(Gt,"TBODY",{class:!0});var vs=v(ct);for(let as=0;as<ze.length;as+=1)ze[as].l(vs);vs.forEach(c),Gt.forEach(c),Xt.forEach(c),Nt=E(N),Ct=_(N,"DIV",{class:!0});var Yl=v(Ct);pl=Z(Yl,"ⓘ "),Ut=Z(Yl,dl),Yl.forEach(c),vl=E(N),ae(Bt.$$.fragment,N),this.h()},h(){u(C,"class","flex-shrink-0"),u(T,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),u(k,"class","flex md:self-center text-lg font-medium px-0.5"),u(z,"class","self-center ml-1 mr-3"),u(q,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"),u(q,"placeholder",W=s[13].t("Search")),u(b,"class","flex flex-1"),u(S,"class","flex w-full space-x-2"),u(L,"class","flex gap-1"),u(g,"class","mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between"),u(_e,"class","flex gap-1.5 items-center"),u(Q,"scope","col"),u(Q,"class","px-3 py-1.5 cursor-pointer select-none"),u(fe,"class","flex gap-1.5 items-center"),u(Y,"scope","col"),u(Y,"class","px-3 py-1.5 cursor-pointer select-none"),u(Ve,"class","flex gap-1.5 items-center"),u(Ee,"scope","col"),u(Ee,"class","px-3 py-1.5 cursor-pointer select-none"),u(Ke,"class","flex gap-1.5 items-center"),u(Ae,"scope","col"),u(Ae,"class","px-3 py-1.5 cursor-pointer select-none"),u(it,"class","flex gap-1.5 items-center"),u(We,"scope","col"),u(We,"class","px-3 py-1.5 cursor-pointer select-none"),u(lt,"class","flex gap-1.5 items-center"),u(Xe,"scope","col"),u(Xe,"class","px-3 py-1.5 cursor-pointer select-none"),u(Pt,"scope","col"),u(Pt,"class","px-3 py-2 text-right"),u(G,"class",""),u(ee,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-850 dark:text-gray-400 -translate-y-0.5"),u(ct,"class",""),u(H,"class","w-full text-sm text-left text-gray-500 dark:text-gray-400 table-auto max-w-full rounded-sm"),u(te,"class","scrollbar-hidden relative whitespace-nowrap overflow-x-auto max-w-full rounded-sm pt-0.5"),u(Ct,"class","text-gray-500 text-xs mt-1.5 text-right")},m(N,ie){ne(e,N,ie),F(N,l,ie),kt.m(N,ie),F(N,o,ie),ne(a,N,ie),F(N,i,ie),ne(p,N,ie),F(N,h,ie),Je&&Je.m(N,ie),F(N,m,ie),F(N,g,ie),n(g,k),n(k,C),n(C,y),n(k,M),n(k,T),n(k,D),It.m(k,null),n(g,I),n(g,L),n(L,S),n(S,b),n(b,z),n(b,A),n(b,q),Qe(q,s[1]),n(S,le),n(S,P),ne(K,P,null),F(N,X,ie),F(N,te,ie),n(te,H),n(H,ee),n(ee,G),n(G,Q),n(Q,_e),n(_e,B),n(_e,he),pt[pe].m(_e,null),n(G,de),n(G,Y),n(Y,fe),n(fe,Ie),n(fe,De),Ht[ue].m(fe,null),n(G,Le),n(G,Ee),n(Ee,Ve),n(Ve,Me),n(Ve,je),Ft[Te].m(Ve,null),n(G,Fe),n(G,Ae),n(Ae,Ke),n(Ke,ke),n(Ke,$e),jt[we].m(Ke,null),n(G,ot),n(G,We),n(We,it),n(it,ut),n(it,Dt),Vt[xe].m(it,null),n(G,ht),n(G,Xe),n(Xe,lt),n(lt,Tt),n(lt,xt),Kt[rt].m(lt,null),n(G,dt),n(G,Pt),n(H,al),n(H,ct);for(let st=0;st<ze.length;st+=1)ze[st]&&ze[st].m(ct,null);F(N,Nt,ie),F(N,Ct,ie),n(Ct,pl),n(Ct,Ut),F(N,vl,ie),ne(Bt,N,ie),at=!0,_l||(Dl=[be(q,"input",s[25]),be(Q,"click",s[27]),be(Y,"click",s[28]),be(Ee,"click",s[29]),be(Ae,"click",s[30]),be(We,"click",s[31]),be(Xe,"click",s[32])],_l=!0)},p(N,ie){var Pe,Vl,ul,Tl;const st={};!t&&ie[0]&64&&(t=!0,st.show=N[6],Ce(()=>t=!1)),e.$set(st),ie[0]&32&&bt(r,r=N[5])?(Be(),U(kt,1,1,Ye),He(),kt=ir(N),kt.c(),x(kt,1),kt.m(o.parentNode,o)):kt.p(N,ie);const _t={};!f&&ie[0]&128&&(f=!0,_t.show=N[7],Ce(()=>f=!1)),a.$set(_t);const nl={};ie[0]&32&&(nl.user=N[5]),!w&&ie[0]&256&&(w=!0,nl.show=N[8],Ce(()=>w=!1)),p.$set(nl),(((Vl=(Pe=N[12])==null?void 0:Pe.license_metadata)==null?void 0:Vl.seats)??null)!==null&&N[0].length>((Tl=(ul=N[12])==null?void 0:ul.license_metadata)==null?void 0:Tl.seats)?Je?ie[0]&4097&&x(Je,1):(Je=ur(),Je.c(),x(Je,1),Je.m(m.parentNode,m)):Je&&(Be(),U(Je,1,1,()=>{Je=null}),He()),(!at||ie[0]&8192)&&V!==(V=N[13].t("Users")+"")&&J(y,V),Lt===(Lt=Hl(N))&&It?It.p(N,ie):(It.d(1),It=Lt(N),It&&(It.c(),It.m(k,null))),(!at||ie[0]&8192&&W!==(W=N[13].t("Search")))&&u(q,"placeholder",W),ie[0]&2&&q.value!==N[1]&&Qe(q,N[1]);const Jt={};ie[0]&8192&&(Jt.content=N[13].t("Add User")),ie[0]&128|ie[1]&1024&&(Jt.$$scope={dirty:ie,ctx:N}),K.$set(Jt),(!at||ie[0]&8192)&&ge!==(ge=N[13].t("Role")+"")&&J(B,ge);let vt=pe;pe=hl(N),pe===vt?pt[pe].p(N,ie):(Be(),U(pt[vt],1,1,()=>{pt[vt]=null}),He(),j=pt[pe],j?j.p(N,ie):(j=pt[pe]=jl[pe](N),j.c()),x(j,1),j.m(_e,null)),(!at||ie[0]&8192)&&ye!==(ye=N[13].t("Name")+"")&&J(Ie,ye);let zt=ue;ue=zl(N),ue===zt?Ht[ue].p(N,ie):(Be(),U(Ht[zt],1,1,()=>{Ht[zt]=null}),He(),ce=Ht[ue],ce?ce.p(N,ie):(ce=Ht[ue]=bl[ue](N),ce.c()),x(ce,1),ce.m(fe,null)),(!at||ie[0]&8192)&&qe!==(qe=N[13].t("Email")+"")&&J(Me,qe);let Xt=Te;Te=Gl(N),Te===Xt?Ft[Te].p(N,ie):(Be(),U(Ft[Xt],1,1,()=>{Ft[Xt]=null}),He(),Se=Ft[Te],Se?Se.p(N,ie):(Se=Ft[Te]=Yt[Te](N),Se.c()),x(Se,1),Se.m(Ve,null)),(!at||ie[0]&8192)&&me!==(me=N[13].t("Last Active")+"")&&J(ke,me);let Gt=we;we=ql(N),we===Gt?jt[we].p(N,ie):(Be(),U(jt[Gt],1,1,()=>{jt[Gt]=null}),He(),Ge=jt[we],Ge?Ge.p(N,ie):(Ge=jt[we]=Ol[we](N),Ge.c()),x(Ge,1),Ge.m(Ke,null)),(!at||ie[0]&8192)&&Re!==(Re=N[13].t("Created at")+"")&&J(ut,Re);let ol=xe;xe=kl(N),xe===ol?Vt[xe].p(N,ie):(Be(),U(Vt[ol],1,1,()=>{Vt[ol]=null}),He(),Ze=Vt[xe],Ze?Ze.p(N,ie):(Ze=Vt[xe]=Mt[xe](N),Ze.c()),x(Ze,1),Ze.m(it,null)),(!at||ie[0]&8192)&&mt!==(mt=N[13].t("OAuth ID")+"")&&J(Tt,mt);let Oe=rt;if(rt=sl(N),rt===Oe?Kt[rt].p(N,ie):(Be(),U(Kt[Oe],1,1,()=>{Kt[Oe]=null}),He(),ft=Kt[rt],ft?ft.p(N,ie):(ft=Kt[rt]=Il[rt](N),ft.c()),x(ft,1),ft.m(lt,null)),ie[0]&46944){St=El(N[10]);let et;for(et=0;et<St.length;et+=1){const xl=or(N,St,et);ze[et]?(ze[et].p(xl,ie),x(ze[et],1)):(ze[et]=dr(xl),ze[et].c(),x(ze[et],1),ze[et].m(ct,null))}for(Be(),et=St.length;et<ze.length;et+=1)Rl(et);He()}(!at||ie[0]&8192)&&dl!==(dl=N[13].t("Click on the user role button to change a user's role.")+"")&&J(Ut,dl);const il={};ie[0]&1&&(il.count=N[0].length),!Zt&&ie[0]&4&&(Zt=!0,il.page=N[2],Ce(()=>Zt=!1)),Bt.$set(il)},i(N){if(!at){x(e.$$.fragment,N),x(kt),x(a.$$.fragment,N),x(p.$$.fragment,N),x(Je),x(K.$$.fragment,N),x(j),x(ce),x(Se),x(Ge),x(Ze),x(ft);for(let ie=0;ie<St.length;ie+=1)x(ze[ie]);x(Bt.$$.fragment,N),at=!0}},o(N){U(e.$$.fragment,N),U(kt),U(a.$$.fragment,N),U(p.$$.fragment,N),U(Je),U(K.$$.fragment,N),U(j),U(ce),U(Se),U(Ge),U(Ze),U(ft),ze=ze.filter(Boolean);for(let ie=0;ie<ze.length;ie+=1)U(ze[ie]);U(Bt.$$.fragment,N),at=!1},d(N){N&&(c(l),c(o),c(i),c(h),c(m),c(g),c(X),c(te),c(Nt),c(Ct),c(vl)),oe(e,N),kt.d(N),oe(a,N),oe(p,N),Je&&Je.d(N),It.d(),oe(K),pt[pe].d(),Ht[ue].d(),Ft[Te].d(),jt[we].d(),Vt[xe].d(),Kt[rt].d(),Ts(ze,N),oe(Bt,N),_l=!1,cl(Dl)}}}function vn(s,e,t){let l,r,o;$t(s,xs,B=>t(11,l=B)),$t(s,Or,B=>t(12,r=B)),Rt.extend(Tr),Rt.extend(Ns);const a=el("i18n");$t(s,a,B=>t(13,o=B));let{users:f=[]}=e,i="",p=null,w=1,h=!1,m=!1,g=!1,k=!1;const C=async(B,he)=>{await Rr(localStorage.token,B,he).catch(j=>(wt.error(`${j}`),null))&&t(0,f=await Kl(localStorage.token))},V=async B=>{await Zr(localStorage.token,B).catch(pe=>(wt.error(`${pe}`),null))&&t(0,f=await Kl(localStorage.token))};let y="created_at",M="asc";function T(B){y===B?t(4,M=M==="asc"?"desc":"asc"):(t(3,y=B),t(4,M="asc"))}let D;function I(B){h=B,t(6,h)}const L=()=>{V(p.id)};function S(B){k=B,t(9,k)}const b=async()=>{t(0,f=await Kl(localStorage.token))};function z(B){m=B,t(7,m)}const se=async()=>{t(0,f=await Kl(localStorage.token))};function A(B){g=B,t(8,g)}function q(){i=this.value,t(1,i)}const W=()=>{t(7,m=!m)},le=()=>T("role"),P=()=>T("name"),K=()=>T("email"),X=()=>T("last_active_at"),te=()=>T("created_at"),H=()=>T("oauth_sub"),ee=B=>{B.role==="user"?C(B.id,"admin"):B.role==="pending"?C(B.id,"user"):C(B.id,"pending")},G=async B=>{t(8,g=!g),t(5,p=B)},Q=async B=>{t(9,k=!k),t(5,p=B)},_e=async B=>{t(6,h=!0),t(5,p=B)};function ge(B){w=B,t(2,w)}return s.$$set=B=>{"users"in B&&t(0,f=B.users)},s.$$.update=()=>{s.$$.dirty[0]&31&&t(10,D=f.filter(B=>{if(i==="")return!0;{let he=B.name.toLowerCase(),pe=B.email.toLowerCase();const j=i.toLowerCase();return he.includes(j)||pe.includes(j)}}).sort((B,he)=>B[y]<he[y]?M==="asc"?-1:1:B[y]>he[y]?M==="asc"?1:-1:0).slice((w-1)*20,w*20))},[f,i,w,y,M,p,h,m,g,k,D,l,r,o,a,C,V,T,I,L,S,b,z,se,A,q,W,le,P,K,X,te,H,ee,G,Q,_e,ge]}class gn extends Et{constructor(e){super(),yt(this,e,vn,pn,bt,{users:0},null,[-1,-1])}}function wn(s){let e,t;return{c(){e=Ql("svg"),t=Ql("path"),this.h()},l(l){e=Jl(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=Jl(r,"path",{d:!0}),v(t).forEach(c),r.forEach(c),this.h()},h(){u(t,"d","M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 24 24"),u(e,"fill","currentColor"),u(e,"class",s[0])},m(l,r){F(l,e,r),n(e,t)},p(l,[r]){r&1&&u(e,"class",l[0])},i:Ye,o:Ye,d(l){l&&c(e)}}}function bn(s,e,t){let{className:l="size-4"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className)},[l]}class kn extends Et{constructor(e){super(),yt(this,e,bn,wn,bt,{className:0})}}function $n(s){let e,t,l,r=s[2].t("Name")+"",o,a,f,i,p,w,h,m,g=s[2].t("Description")+"",k,C,V,y,M,T,D,I;function L(b){s[6](b)}let S={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden resize-none",rows:4,placeholder:s[2].t("Group Description")};return s[1]!==void 0&&(S.value=s[1]),y=new Cr({props:S}),Ne.push(()=>Ue(y,"value",L)),{c(){e=d("div"),t=d("div"),l=d("div"),o=R(r),a=$(),f=d("div"),i=d("input"),w=$(),h=d("div"),m=d("div"),k=R(g),C=$(),V=d("div"),re(y.$$.fragment),this.h()},l(b){e=_(b,"DIV",{class:!0});var z=v(e);t=_(z,"DIV",{class:!0});var se=v(t);l=_(se,"DIV",{class:!0});var A=v(l);o=Z(A,r),A.forEach(c),a=E(se),f=_(se,"DIV",{class:!0});var q=v(f);i=_(q,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),q.forEach(c),se.forEach(c),z.forEach(c),w=E(b),h=_(b,"DIV",{class:!0});var W=v(h);m=_(W,"DIV",{class:!0});var le=v(m);k=Z(le,g),le.forEach(c),C=E(W),V=_(W,"DIV",{class:!0});var P=v(V);ae(y.$$.fragment,P),P.forEach(c),W.forEach(c),this.h()},h(){u(l,"class","mb-0.5 text-xs text-gray-500"),u(i,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),u(i,"type","text"),u(i,"placeholder",p=s[2].t("Group Name")),u(i,"autocomplete","off"),i.required=!0,u(f,"class","flex-1"),u(t,"class","flex flex-col w-full"),u(e,"class","flex gap-2"),u(m,"class","mb-1 text-xs text-gray-500"),u(V,"class","flex-1"),u(h,"class","flex flex-col w-full mt-2")},m(b,z){F(b,e,z),n(e,t),n(t,l),n(l,o),n(t,a),n(t,f),n(f,i),Qe(i,s[0]),F(b,w,z),F(b,h,z),n(h,m),n(m,k),n(h,C),n(h,V),ne(y,V,null),T=!0,D||(I=be(i,"input",s[5]),D=!0)},p(b,[z]){(!T||z&4)&&r!==(r=b[2].t("Name")+"")&&J(o,r),(!T||z&4&&p!==(p=b[2].t("Group Name")))&&u(i,"placeholder",p),z&1&&i.value!==b[0]&&Qe(i,b[0]),(!T||z&4)&&g!==(g=b[2].t("Description")+"")&&J(k,g);const se={};z&4&&(se.placeholder=b[2].t("Group Description")),!M&&z&2&&(M=!0,se.value=b[1],Ce(()=>M=!1)),y.$set(se)},i(b){T||(x(y.$$.fragment,b),T=!0)},o(b){U(y.$$.fragment,b),T=!1},d(b){b&&(c(e),c(w),c(h)),oe(y),D=!1,I()}}}function En(s,e,t){let l;const r=el("i18n");$t(s,r,w=>t(2,l=w));let{name:o=""}=e,{color:a=""}=e,{description:f=""}=e;function i(){o=this.value,t(0,o)}function p(w){f=w,t(1,f)}return s.$$set=w=>{"name"in w&&t(0,o=w.name),"color"in w&&t(4,a=w.color),"description"in w&&t(1,f=w.description)},[o,f,l,r,a,i,p]}class yn extends Et{constructor(e){super(),yt(this,e,En,$n,bt,{name:0,color:4,description:1})}}function Dn(s){let e,t=s[1].t("Tools Access")+"",l,r,o,a,f;function i(w){s[6](w)}let p={};return s[0].workspace.tools!==void 0&&(p.state=s[0].workspace.tools),o=new gt({props:p}),Ne.push(()=>Ue(o,"state",i)),{c(){e=d("div"),l=R(t),r=$(),re(o.$$.fragment),this.h()},l(w){e=_(w,"DIV",{class:!0});var h=v(e);l=Z(h,t),h.forEach(c),r=E(w),ae(o.$$.fragment,w),this.h()},h(){u(e,"class","self-center text-xs font-medium")},m(w,h){F(w,e,h),n(e,l),F(w,r,h),ne(o,w,h),f=!0},p(w,h){(!f||h&2)&&t!==(t=w[1].t("Tools Access")+"")&&J(l,t);const m={};!a&&h&1&&(a=!0,m.state=w[0].workspace.tools,Ce(()=>a=!1)),o.$set(m)},i(w){f||(x(o.$$.fragment,w),f=!0)},o(w){U(o.$$.fragment,w),f=!1},d(w){w&&(c(e),c(r)),oe(o,w)}}}function _r(s){let e,t,l=s[1].t("Enforce Temporary Chat")+"",r,o,a,f,i;function p(h){s[16](h)}let w={};return s[0].chat.temporary_enforced!==void 0&&(w.state=s[0].chat.temporary_enforced),a=new gt({props:w}),Ne.push(()=>Ue(a,"state",p)),{c(){e=d("div"),t=d("div"),r=R(l),o=$(),re(a.$$.fragment),this.h()},l(h){e=_(h,"DIV",{class:!0});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);r=Z(g,l),g.forEach(c),o=E(m),ae(a.$$.fragment,m),m.forEach(c),this.h()},h(){u(t,"class","self-center text-xs font-medium"),u(e,"class","flex w-full justify-between my-2 pr-2")},m(h,m){F(h,e,m),n(e,t),n(t,r),n(e,o),ne(a,e,null),i=!0},p(h,m){(!i||m&2)&&l!==(l=h[1].t("Enforce Temporary Chat")+"")&&J(r,l);const g={};!f&&m&1&&(f=!0,g.state=h[0].chat.temporary_enforced,Ce(()=>f=!1)),a.$set(g)},i(h){i||(x(a.$$.fragment,h),i=!0)},o(h){U(a.$$.fragment,h),i=!1},d(h){h&&c(e),oe(a)}}}function In(s){let e,t,l,r=s[1].t("Workspace Permissions")+"",o,a,f,i,p=s[1].t("Models Access")+"",w,h,m,g,k,C,V,y=s[1].t("Knowledge Access")+"",M,T,D,I,L,S,b,z=s[1].t("Prompts Access")+"",se,A,q,W,le,P,K,X,te,H,ee,G,Q=s[1].t("Sharing Permissions")+"",_e,ge,B,he,pe=s[1].t("Models Public Sharing")+"",j,de,Y,fe,ye,Ie,De,ue=s[1].t("Knowledge Public Sharing")+"",ce,Le,Ee,Ve,qe,Me,je,Te=s[1].t("Prompts Public Sharing")+"",Se,Fe,Ae,Ke,me,ke,$e,we=s[1].t("Tools Public Sharing")+"",Ge,ot,We,it,Re,ut,Dt,xe,Ze,ht=s[1].t("Chat Permissions")+"",Xe,lt,mt,Tt,xt=s[1].t("Allow Chat Controls")+"",rt,ft,dt,Pt,al,ct,Nt,Ct=s[1].t("Allow File Upload")+"",pl,dl,Ut,vl,Bt,Zt,at,_l=s[1].t("Allow Chat Delete")+"",Dl,ls,Wt,kt,ss,ll,gl,wl=s[1].t("Allow Chat Edit")+"",Je,Hl,Lt,It,jl,pt,hl,bl=s[1].t("Allow Temporary Chat")+"",Ht,zl,Yt,Ft,Gl,Ol,jt,ql,Mt,Vt,kl=s[1].t("Features Permissions")+"",Il,Kt,sl,St,ze=s[1].t("Web Search")+"",Rl,rs,Qt,Zl,Wl,rl,ml,N=s[1].t("Image Generation")+"",ie,st,_t,nl,Jt,vt,zt,Xt=s[1].t("Code Interpreter")+"",Gt,ol,Oe,il,Pe;function Vl(O){s[3](O)}let ul={};s[0].workspace.models!==void 0&&(ul.state=s[0].workspace.models),m=new gt({props:ul}),Ne.push(()=>Ue(m,"state",Vl));function Tl(O){s[4](O)}let et={};s[0].workspace.knowledge!==void 0&&(et.state=s[0].workspace.knowledge),D=new gt({props:et}),Ne.push(()=>Ue(D,"state",Tl));function xl(O){s[5](O)}let Nl={};s[0].workspace.prompts!==void 0&&(Nl.state=s[0].workspace.prompts),q=new gt({props:Nl}),Ne.push(()=>Ue(q,"state",xl)),K=new yl({props:{className:" flex w-full justify-between my-2 pr-2",content:s[1].t("Warning: Enabling this will allow users to upload arbitrary code on the server."),placement:"top-start",$$slots:{default:[Dn]},$$scope:{ctx:s}}});function ms(O){s[7](O)}let Cl={};s[0].sharing.public_models!==void 0&&(Cl.state=s[0].sharing.public_models),Y=new gt({props:Cl}),Ne.push(()=>Ue(Y,"state",ms));function ps(O){s[8](O)}let Ul={};s[0].sharing.public_knowledge!==void 0&&(Ul.state=s[0].sharing.public_knowledge),Ee=new gt({props:Ul}),Ne.push(()=>Ue(Ee,"state",ps));function vs(O){s[9](O)}let Yl={};s[0].sharing.public_prompts!==void 0&&(Yl.state=s[0].sharing.public_prompts),Ae=new gt({props:Yl}),Ne.push(()=>Ue(Ae,"state",vs));function as(O){s[10](O)}let Us={};s[0].sharing.public_tools!==void 0&&(Us.state=s[0].sharing.public_tools),We=new gt({props:Us}),Ne.push(()=>Ue(We,"state",as));function Lr(O){s[11](O)}let Ls={};s[0].chat.controls!==void 0&&(Ls.state=s[0].chat.controls),dt=new gt({props:Ls}),Ne.push(()=>Ue(dt,"state",Lr));function Mr(O){s[12](O)}let Ms={};s[0].chat.file_upload!==void 0&&(Ms.state=s[0].chat.file_upload),Ut=new gt({props:Ms}),Ne.push(()=>Ue(Ut,"state",Mr));function Sr(O){s[13](O)}let Ss={};s[0].chat.delete!==void 0&&(Ss.state=s[0].chat.delete),Wt=new gt({props:Ss}),Ne.push(()=>Ue(Wt,"state",Sr));function Ar(O){s[14](O)}let As={};s[0].chat.edit!==void 0&&(As.state=s[0].chat.edit),Lt=new gt({props:As}),Ne.push(()=>Ue(Lt,"state",Ar));function Pr(O){s[15](O)}let Ps={};s[0].chat.temporary!==void 0&&(Ps.state=s[0].chat.temporary),Yt=new gt({props:Ps}),Ne.push(()=>Ue(Yt,"state",Pr));let nt=s[0].chat.temporary&&_r(s);function Br(O){s[17](O)}let Bs={};s[0].features.web_search!==void 0&&(Bs.state=s[0].features.web_search),Qt=new gt({props:Bs}),Ne.push(()=>Ue(Qt,"state",Br));function Hr(O){s[18](O)}let Hs={};s[0].features.image_generation!==void 0&&(Hs.state=s[0].features.image_generation),_t=new gt({props:Hs}),Ne.push(()=>Ue(_t,"state",Hr));function jr(O){s[19](O)}let js={};return s[0].features.code_interpreter!==void 0&&(js.state=s[0].features.code_interpreter),Oe=new gt({props:js}),Ne.push(()=>Ue(Oe,"state",jr)),{c(){e=d("div"),t=d("div"),l=d("div"),o=R(r),a=$(),f=d("div"),i=d("div"),w=R(p),h=$(),re(m.$$.fragment),k=$(),C=d("div"),V=d("div"),M=R(y),T=$(),re(D.$$.fragment),L=$(),S=d("div"),b=d("div"),se=R(z),A=$(),re(q.$$.fragment),le=$(),P=d("div"),re(K.$$.fragment),X=$(),te=d("hr"),H=$(),ee=d("div"),G=d("div"),_e=R(Q),ge=$(),B=d("div"),he=d("div"),j=R(pe),de=$(),re(Y.$$.fragment),ye=$(),Ie=d("div"),De=d("div"),ce=R(ue),Le=$(),re(Ee.$$.fragment),qe=$(),Me=d("div"),je=d("div"),Se=R(Te),Fe=$(),re(Ae.$$.fragment),me=$(),ke=d("div"),$e=d("div"),Ge=R(we),ot=$(),re(We.$$.fragment),Re=$(),ut=d("hr"),Dt=$(),xe=d("div"),Ze=d("div"),Xe=R(ht),lt=$(),mt=d("div"),Tt=d("div"),rt=R(xt),ft=$(),re(dt.$$.fragment),al=$(),ct=d("div"),Nt=d("div"),pl=R(Ct),dl=$(),re(Ut.$$.fragment),Bt=$(),Zt=d("div"),at=d("div"),Dl=R(_l),ls=$(),re(Wt.$$.fragment),ss=$(),ll=d("div"),gl=d("div"),Je=R(wl),Hl=$(),re(Lt.$$.fragment),jl=$(),pt=d("div"),hl=d("div"),Ht=R(bl),zl=$(),re(Yt.$$.fragment),Gl=$(),nt&&nt.c(),Ol=$(),jt=d("hr"),ql=$(),Mt=d("div"),Vt=d("div"),Il=R(kl),Kt=$(),sl=d("div"),St=d("div"),Rl=R(ze),rs=$(),re(Qt.$$.fragment),Wl=$(),rl=d("div"),ml=d("div"),ie=R(N),st=$(),re(_t.$$.fragment),Jt=$(),vt=d("div"),zt=d("div"),Gt=R(Xt),ol=$(),re(Oe.$$.fragment),this.h()},l(O){e=_(O,"DIV",{});var ve=v(e);t=_(ve,"DIV",{});var Ot=v(t);l=_(Ot,"DIV",{class:!0});var ns=v(l);o=Z(ns,r),ns.forEach(c),a=E(Ot),f=_(Ot,"DIV",{class:!0});var Ll=v(f);i=_(Ll,"DIV",{class:!0});var Fl=v(i);w=Z(Fl,p),Fl.forEach(c),h=E(Ll),ae(m.$$.fragment,Ll),Ll.forEach(c),k=E(Ot),C=_(Ot,"DIV",{class:!0});var Ml=v(C);V=_(Ml,"DIV",{class:!0});var os=v(V);M=Z(os,y),os.forEach(c),T=E(Ml),ae(D.$$.fragment,Ml),Ml.forEach(c),L=E(Ot),S=_(Ot,"DIV",{class:!0});var Sl=v(S);b=_(Sl,"DIV",{class:!0});var is=v(b);se=Z(is,z),is.forEach(c),A=E(Sl),ae(q.$$.fragment,Sl),Sl.forEach(c),le=E(Ot),P=_(Ot,"DIV",{class:!0});var us=v(P);ae(K.$$.fragment,us),us.forEach(c),Ot.forEach(c),X=E(ve),te=_(ve,"HR",{class:!0}),H=E(ve),ee=_(ve,"DIV",{});var qt=v(ee);G=_(qt,"DIV",{class:!0});var fs=v(G);_e=Z(fs,Q),fs.forEach(c),ge=E(qt),B=_(qt,"DIV",{class:!0});var Al=v(B);he=_(Al,"DIV",{class:!0});var cs=v(he);j=Z(cs,pe),cs.forEach(c),de=E(Al),ae(Y.$$.fragment,Al),Al.forEach(c),ye=E(qt),Ie=_(qt,"DIV",{class:!0});var Pl=v(Ie);De=_(Pl,"DIV",{class:!0});var ds=v(De);ce=Z(ds,ue),ds.forEach(c),Le=E(Pl),ae(Ee.$$.fragment,Pl),Pl.forEach(c),qe=E(qt),Me=_(qt,"DIV",{class:!0});var Bl=v(Me);je=_(Bl,"DIV",{class:!0});var zs=v(je);Se=Z(zs,Te),zs.forEach(c),Fe=E(Bl),ae(Ae.$$.fragment,Bl),Bl.forEach(c),me=E(qt),ke=_(qt,"DIV",{class:!0});var gs=v(ke);$e=_(gs,"DIV",{class:!0});var Gs=v($e);Ge=Z(Gs,we),Gs.forEach(c),ot=E(gs),ae(We.$$.fragment,gs),gs.forEach(c),qt.forEach(c),Re=E(ve),ut=_(ve,"HR",{class:!0}),Dt=E(ve),xe=_(ve,"DIV",{});var At=v(xe);Ze=_(At,"DIV",{class:!0});var Os=v(Ze);Xe=Z(Os,ht),Os.forEach(c),lt=E(At),mt=_(At,"DIV",{class:!0});var ws=v(mt);Tt=_(ws,"DIV",{class:!0});var qs=v(Tt);rt=Z(qs,xt),qs.forEach(c),ft=E(ws),ae(dt.$$.fragment,ws),ws.forEach(c),al=E(At),ct=_(At,"DIV",{class:!0});var bs=v(ct);Nt=_(bs,"DIV",{class:!0});var Rs=v(Nt);pl=Z(Rs,Ct),Rs.forEach(c),dl=E(bs),ae(Ut.$$.fragment,bs),bs.forEach(c),Bt=E(At),Zt=_(At,"DIV",{class:!0});var ks=v(Zt);at=_(ks,"DIV",{class:!0});var Zs=v(at);Dl=Z(Zs,_l),Zs.forEach(c),ls=E(ks),ae(Wt.$$.fragment,ks),ks.forEach(c),ss=E(At),ll=_(At,"DIV",{class:!0});var $s=v(ll);gl=_($s,"DIV",{class:!0});var Ws=v(gl);Je=Z(Ws,wl),Ws.forEach(c),Hl=E($s),ae(Lt.$$.fragment,$s),$s.forEach(c),jl=E(At),pt=_(At,"DIV",{class:!0});var Es=v(pt);hl=_(Es,"DIV",{class:!0});var Ys=v(hl);Ht=Z(Ys,bl),Ys.forEach(c),zl=E(Es),ae(Yt.$$.fragment,Es),Es.forEach(c),Gl=E(At),nt&&nt.l(At),At.forEach(c),Ol=E(ve),jt=_(ve,"HR",{class:!0}),ql=E(ve),Mt=_(ve,"DIV",{});var $l=v(Mt);Vt=_($l,"DIV",{class:!0});var Fs=v(Vt);Il=Z(Fs,kl),Fs.forEach(c),Kt=E($l),sl=_($l,"DIV",{class:!0});var ys=v(sl);St=_(ys,"DIV",{class:!0});var Ks=v(St);Rl=Z(Ks,ze),Ks.forEach(c),rs=E(ys),ae(Qt.$$.fragment,ys),ys.forEach(c),Wl=E($l),rl=_($l,"DIV",{class:!0});var Ds=v(rl);ml=_(Ds,"DIV",{class:!0});var Qs=v(ml);ie=Z(Qs,N),Qs.forEach(c),st=E(Ds),ae(_t.$$.fragment,Ds),Ds.forEach(c),Jt=E($l),vt=_($l,"DIV",{class:!0});var Is=v(vt);zt=_(Is,"DIV",{class:!0});var Js=v(zt);Gt=Z(Js,Xt),Js.forEach(c),ol=E(Is),ae(Oe.$$.fragment,Is),Is.forEach(c),$l.forEach(c),ve.forEach(c),this.h()},h(){u(l,"class","mb-2 text-sm font-medium"),u(i,"class","self-center text-xs font-medium"),u(f,"class","flex w-full justify-between my-2 pr-2"),u(V,"class","self-center text-xs font-medium"),u(C,"class","flex w-full justify-between my-2 pr-2"),u(b,"class","self-center text-xs font-medium"),u(S,"class","flex w-full justify-between my-2 pr-2"),u(P,"class",""),u(te,"class","border-gray-100 dark:border-gray-850 my-2"),u(G,"class","mb-2 text-sm font-medium"),u(he,"class","self-center text-xs font-medium"),u(B,"class","flex w-full justify-between my-2 pr-2"),u(De,"class","self-center text-xs font-medium"),u(Ie,"class","flex w-full justify-between my-2 pr-2"),u(je,"class","self-center text-xs font-medium"),u(Me,"class","flex w-full justify-between my-2 pr-2"),u($e,"class","self-center text-xs font-medium"),u(ke,"class","flex w-full justify-between my-2 pr-2"),u(ut,"class","border-gray-100 dark:border-gray-850 my-2"),u(Ze,"class","mb-2 text-sm font-medium"),u(Tt,"class","self-center text-xs font-medium"),u(mt,"class","flex w-full justify-between my-2 pr-2"),u(Nt,"class","self-center text-xs font-medium"),u(ct,"class","flex w-full justify-between my-2 pr-2"),u(at,"class","self-center text-xs font-medium"),u(Zt,"class","flex w-full justify-between my-2 pr-2"),u(gl,"class","self-center text-xs font-medium"),u(ll,"class","flex w-full justify-between my-2 pr-2"),u(hl,"class","self-center text-xs font-medium"),u(pt,"class","flex w-full justify-between my-2 pr-2"),u(jt,"class","border-gray-100 dark:border-gray-850 my-2"),u(Vt,"class","mb-2 text-sm font-medium"),u(St,"class","self-center text-xs font-medium"),u(sl,"class","flex w-full justify-between my-2 pr-2"),u(ml,"class","self-center text-xs font-medium"),u(rl,"class","flex w-full justify-between my-2 pr-2"),u(zt,"class","self-center text-xs font-medium"),u(vt,"class","flex w-full justify-between my-2 pr-2")},m(O,ve){F(O,e,ve),n(e,t),n(t,l),n(l,o),n(t,a),n(t,f),n(f,i),n(i,w),n(f,h),ne(m,f,null),n(t,k),n(t,C),n(C,V),n(V,M),n(C,T),ne(D,C,null),n(t,L),n(t,S),n(S,b),n(b,se),n(S,A),ne(q,S,null),n(t,le),n(t,P),ne(K,P,null),n(e,X),n(e,te),n(e,H),n(e,ee),n(ee,G),n(G,_e),n(ee,ge),n(ee,B),n(B,he),n(he,j),n(B,de),ne(Y,B,null),n(ee,ye),n(ee,Ie),n(Ie,De),n(De,ce),n(Ie,Le),ne(Ee,Ie,null),n(ee,qe),n(ee,Me),n(Me,je),n(je,Se),n(Me,Fe),ne(Ae,Me,null),n(ee,me),n(ee,ke),n(ke,$e),n($e,Ge),n(ke,ot),ne(We,ke,null),n(e,Re),n(e,ut),n(e,Dt),n(e,xe),n(xe,Ze),n(Ze,Xe),n(xe,lt),n(xe,mt),n(mt,Tt),n(Tt,rt),n(mt,ft),ne(dt,mt,null),n(xe,al),n(xe,ct),n(ct,Nt),n(Nt,pl),n(ct,dl),ne(Ut,ct,null),n(xe,Bt),n(xe,Zt),n(Zt,at),n(at,Dl),n(Zt,ls),ne(Wt,Zt,null),n(xe,ss),n(xe,ll),n(ll,gl),n(gl,Je),n(ll,Hl),ne(Lt,ll,null),n(xe,jl),n(xe,pt),n(pt,hl),n(hl,Ht),n(pt,zl),ne(Yt,pt,null),n(xe,Gl),nt&&nt.m(xe,null),n(e,Ol),n(e,jt),n(e,ql),n(e,Mt),n(Mt,Vt),n(Vt,Il),n(Mt,Kt),n(Mt,sl),n(sl,St),n(St,Rl),n(sl,rs),ne(Qt,sl,null),n(Mt,Wl),n(Mt,rl),n(rl,ml),n(ml,ie),n(rl,st),ne(_t,rl,null),n(Mt,Jt),n(Mt,vt),n(vt,zt),n(zt,Gt),n(vt,ol),ne(Oe,vt,null),Pe=!0},p(O,[ve]){(!Pe||ve&2)&&r!==(r=O[1].t("Workspace Permissions")+"")&&J(o,r),(!Pe||ve&2)&&p!==(p=O[1].t("Models Access")+"")&&J(w,p);const Ot={};!g&&ve&1&&(g=!0,Ot.state=O[0].workspace.models,Ce(()=>g=!1)),m.$set(Ot),(!Pe||ve&2)&&y!==(y=O[1].t("Knowledge Access")+"")&&J(M,y);const ns={};!I&&ve&1&&(I=!0,ns.state=O[0].workspace.knowledge,Ce(()=>I=!1)),D.$set(ns),(!Pe||ve&2)&&z!==(z=O[1].t("Prompts Access")+"")&&J(se,z);const Ll={};!W&&ve&1&&(W=!0,Ll.state=O[0].workspace.prompts,Ce(()=>W=!1)),q.$set(Ll);const Fl={};ve&2&&(Fl.content=O[1].t("Warning: Enabling this will allow users to upload arbitrary code on the server.")),ve&2097155&&(Fl.$$scope={dirty:ve,ctx:O}),K.$set(Fl),(!Pe||ve&2)&&Q!==(Q=O[1].t("Sharing Permissions")+"")&&J(_e,Q),(!Pe||ve&2)&&pe!==(pe=O[1].t("Models Public Sharing")+"")&&J(j,pe);const Ml={};!fe&&ve&1&&(fe=!0,Ml.state=O[0].sharing.public_models,Ce(()=>fe=!1)),Y.$set(Ml),(!Pe||ve&2)&&ue!==(ue=O[1].t("Knowledge Public Sharing")+"")&&J(ce,ue);const os={};!Ve&&ve&1&&(Ve=!0,os.state=O[0].sharing.public_knowledge,Ce(()=>Ve=!1)),Ee.$set(os),(!Pe||ve&2)&&Te!==(Te=O[1].t("Prompts Public Sharing")+"")&&J(Se,Te);const Sl={};!Ke&&ve&1&&(Ke=!0,Sl.state=O[0].sharing.public_prompts,Ce(()=>Ke=!1)),Ae.$set(Sl),(!Pe||ve&2)&&we!==(we=O[1].t("Tools Public Sharing")+"")&&J(Ge,we);const is={};!it&&ve&1&&(it=!0,is.state=O[0].sharing.public_tools,Ce(()=>it=!1)),We.$set(is),(!Pe||ve&2)&&ht!==(ht=O[1].t("Chat Permissions")+"")&&J(Xe,ht),(!Pe||ve&2)&&xt!==(xt=O[1].t("Allow Chat Controls")+"")&&J(rt,xt);const us={};!Pt&&ve&1&&(Pt=!0,us.state=O[0].chat.controls,Ce(()=>Pt=!1)),dt.$set(us),(!Pe||ve&2)&&Ct!==(Ct=O[1].t("Allow File Upload")+"")&&J(pl,Ct);const qt={};!vl&&ve&1&&(vl=!0,qt.state=O[0].chat.file_upload,Ce(()=>vl=!1)),Ut.$set(qt),(!Pe||ve&2)&&_l!==(_l=O[1].t("Allow Chat Delete")+"")&&J(Dl,_l);const fs={};!kt&&ve&1&&(kt=!0,fs.state=O[0].chat.delete,Ce(()=>kt=!1)),Wt.$set(fs),(!Pe||ve&2)&&wl!==(wl=O[1].t("Allow Chat Edit")+"")&&J(Je,wl);const Al={};!It&&ve&1&&(It=!0,Al.state=O[0].chat.edit,Ce(()=>It=!1)),Lt.$set(Al),(!Pe||ve&2)&&bl!==(bl=O[1].t("Allow Temporary Chat")+"")&&J(Ht,bl);const cs={};!Ft&&ve&1&&(Ft=!0,cs.state=O[0].chat.temporary,Ce(()=>Ft=!1)),Yt.$set(cs),O[0].chat.temporary?nt?(nt.p(O,ve),ve&1&&x(nt,1)):(nt=_r(O),nt.c(),x(nt,1),nt.m(xe,null)):nt&&(Be(),U(nt,1,1,()=>{nt=null}),He()),(!Pe||ve&2)&&kl!==(kl=O[1].t("Features Permissions")+"")&&J(Il,kl),(!Pe||ve&2)&&ze!==(ze=O[1].t("Web Search")+"")&&J(Rl,ze);const Pl={};!Zl&&ve&1&&(Zl=!0,Pl.state=O[0].features.web_search,Ce(()=>Zl=!1)),Qt.$set(Pl),(!Pe||ve&2)&&N!==(N=O[1].t("Image Generation")+"")&&J(ie,N);const ds={};!nl&&ve&1&&(nl=!0,ds.state=O[0].features.image_generation,Ce(()=>nl=!1)),_t.$set(ds),(!Pe||ve&2)&&Xt!==(Xt=O[1].t("Code Interpreter")+"")&&J(Gt,Xt);const Bl={};!il&&ve&1&&(il=!0,Bl.state=O[0].features.code_interpreter,Ce(()=>il=!1)),Oe.$set(Bl)},i(O){Pe||(x(m.$$.fragment,O),x(D.$$.fragment,O),x(q.$$.fragment,O),x(K.$$.fragment,O),x(Y.$$.fragment,O),x(Ee.$$.fragment,O),x(Ae.$$.fragment,O),x(We.$$.fragment,O),x(dt.$$.fragment,O),x(Ut.$$.fragment,O),x(Wt.$$.fragment,O),x(Lt.$$.fragment,O),x(Yt.$$.fragment,O),x(nt),x(Qt.$$.fragment,O),x(_t.$$.fragment,O),x(Oe.$$.fragment,O),Pe=!0)},o(O){U(m.$$.fragment,O),U(D.$$.fragment,O),U(q.$$.fragment,O),U(K.$$.fragment,O),U(Y.$$.fragment,O),U(Ee.$$.fragment,O),U(Ae.$$.fragment,O),U(We.$$.fragment,O),U(dt.$$.fragment,O),U(Ut.$$.fragment,O),U(Wt.$$.fragment,O),U(Lt.$$.fragment,O),U(Yt.$$.fragment,O),U(nt),U(Qt.$$.fragment,O),U(_t.$$.fragment,O),U(Oe.$$.fragment,O),Pe=!1},d(O){O&&c(e),oe(m),oe(D),oe(q),oe(K),oe(Y),oe(Ee),oe(Ae),oe(We),oe(dt),oe(Ut),oe(Wt),oe(Lt),oe(Yt),nt&&nt.d(),oe(Qt),oe(_t),oe(Oe)}}}function hr(s,e){return{...e,...s,workspace:{...e.workspace,...s.workspace},sharing:{...e.sharing,...s.sharing},chat:{...e.chat,...s.chat},features:{...e.features,...s.features}}}function Vn(s,e,t){let l;const r=el("i18n");$t(s,r,b=>t(1,l=b));const o={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},sharing:{public_models:!1,public_knowledge:!1,public_prompts:!1,public_tools:!1},chat:{controls:!0,delete:!0,edit:!0,file_upload:!0,temporary:!0,temporary_enforced:!0},features:{web_search:!0,image_generation:!0,code_interpreter:!0}};let{permissions:a={}}=e;es(()=>{t(0,a=hr(a,o))});function f(b){s.$$.not_equal(a.workspace.models,b)&&(a.workspace.models=b,t(0,a))}function i(b){s.$$.not_equal(a.workspace.knowledge,b)&&(a.workspace.knowledge=b,t(0,a))}function p(b){s.$$.not_equal(a.workspace.prompts,b)&&(a.workspace.prompts=b,t(0,a))}function w(b){s.$$.not_equal(a.workspace.tools,b)&&(a.workspace.tools=b,t(0,a))}function h(b){s.$$.not_equal(a.sharing.public_models,b)&&(a.sharing.public_models=b,t(0,a))}function m(b){s.$$.not_equal(a.sharing.public_knowledge,b)&&(a.sharing.public_knowledge=b,t(0,a))}function g(b){s.$$.not_equal(a.sharing.public_prompts,b)&&(a.sharing.public_prompts=b,t(0,a))}function k(b){s.$$.not_equal(a.sharing.public_tools,b)&&(a.sharing.public_tools=b,t(0,a))}function C(b){s.$$.not_equal(a.chat.controls,b)&&(a.chat.controls=b,t(0,a))}function V(b){s.$$.not_equal(a.chat.file_upload,b)&&(a.chat.file_upload=b,t(0,a))}function y(b){s.$$.not_equal(a.chat.delete,b)&&(a.chat.delete=b,t(0,a))}function M(b){s.$$.not_equal(a.chat.edit,b)&&(a.chat.edit=b,t(0,a))}function T(b){s.$$.not_equal(a.chat.temporary,b)&&(a.chat.temporary=b,t(0,a))}function D(b){s.$$.not_equal(a.chat.temporary_enforced,b)&&(a.chat.temporary_enforced=b,t(0,a))}function I(b){s.$$.not_equal(a.features.web_search,b)&&(a.features.web_search=b,t(0,a))}function L(b){s.$$.not_equal(a.features.image_generation,b)&&(a.features.image_generation=b,t(0,a))}function S(b){s.$$.not_equal(a.features.code_interpreter,b)&&(a.features.code_interpreter=b,t(0,a))}return s.$$set=b=>{"permissions"in b&&t(0,a=b.permissions)},s.$$.update=()=>{s.$$.dirty&1&&t(0,a=hr(a,o))},[a,l,r,f,i,p,w,h,m,g,k,C,V,y,M,T,D,I,L,S]}class Tn extends Et{constructor(e){super(),yt(this,e,Vn,In,bt,{permissions:0})}}function mr(s,e,t){const l=s.slice();return l[8]=e[t],l[10]=t,l}function xn(s){let e,t=s[3].t("No users were found.")+"",l;return{c(){e=d("div"),l=R(t),this.h()},l(r){e=_(r,"DIV",{class:!0});var o=v(e);l=Z(o,t),o.forEach(c),this.h()},h(){u(e,"class","text-gray-500 text-xs text-center py-2 px-10")},m(r,o){F(r,e,o),n(e,l)},p(r,o){o&8&&t!==(t=r[3].t("No users were found.")+"")&&J(l,t)},i:Ye,o:Ye,d(r){r&&c(e)}}}function Nn(s){let e=[],t=new Map,l,r,o=El(s[2]);const a=f=>f[8].id;for(let f=0;f<o.length;f+=1){let i=mr(s,o,f),p=a(i);t.set(p,e[f]=vr(p,i))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();l=fl()},l(f){for(let i=0;i<e.length;i+=1)e[i].l(f);l=fl()},m(f,i){for(let p=0;p<e.length;p+=1)e[p]&&e[p].m(f,i);F(f,l,i),r=!0},p(f,i){i&5&&(o=El(f[2]),Be(),e=Yr(e,i,a,1,f,o,t,l.parentNode,Fr,vr,l,mr),He())},i(f){if(!r){for(let i=0;i<o.length;i+=1)x(e[i]);r=!0}},o(f){for(let i=0;i<e.length;i+=1)U(e[i]);r=!1},d(f){f&&c(l);for(let i=0;i<e.length;i+=1)e[i].d(f)}}}function Cn(s){let e,t,l,r,o,a=s[8].name+"",f;return{c(){e=d("div"),t=d("img"),r=$(),o=d("div"),f=R(a),this.h()},l(i){e=_(i,"DIV",{class:!0});var p=v(e);t=_(p,"IMG",{class:!0,src:!0,alt:!0}),r=E(p),o=_(p,"DIV",{class:!0});var w=v(o);f=Z(w,a),w.forEach(c),p.forEach(c),this.h()},h(){u(t,"class","rounded-full size-5 object-cover mr-2.5"),Xl(t.src,l=s[8].profile_image_url.startsWith(_s)||s[8].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[8].profile_image_url.startsWith("data:")?s[8].profile_image_url:"/user.png")||u(t,"src",l),u(t,"alt","user"),u(o,"class","font-medium self-center"),u(e,"class","flex")},m(i,p){F(i,e,p),n(e,t),n(e,r),n(e,o),n(o,f)},p(i,p){p&4&&!Xl(t.src,l=i[8].profile_image_url.startsWith(_s)||i[8].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||i[8].profile_image_url.startsWith("data:")?i[8].profile_image_url:"/user.png")&&u(t,"src",l),p&4&&a!==(a=i[8].name+"")&&J(f,a)},d(i){i&&c(e)}}}function pr(s){let e,t;return e=new xr({props:{type:"success",content:"member"}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function vr(s,e){let t,l,r,o,a,f,i,p=e[0].includes(e[8].id),w,h;function m(...k){return e[7](e[8],...k)}r=new la({props:{state:e[0].includes(e[8].id)?"checked":"unchecked"}}),r.$on("change",m),f=new yl({props:{content:e[8].email,placement:"top-start",$$slots:{default:[Cn]},$$scope:{ctx:e}}});let g=p&&pr();return{key:s,first:null,c(){t=d("div"),l=d("div"),re(r.$$.fragment),o=$(),a=d("div"),re(f.$$.fragment),i=$(),g&&g.c(),w=$(),this.h()},l(k){t=_(k,"DIV",{class:!0});var C=v(t);l=_(C,"DIV",{class:!0});var V=v(l);ae(r.$$.fragment,V),V.forEach(c),o=E(C),a=_(C,"DIV",{class:!0});var y=v(a);ae(f.$$.fragment,y),i=E(y),g&&g.l(y),y.forEach(c),w=E(C),C.forEach(c),this.h()},h(){u(l,"class","flex items-center"),u(a,"class","flex w-full items-center justify-between"),u(t,"class","flex flex-row items-center gap-3 w-full text-sm"),this.first=t},m(k,C){F(k,t,C),n(t,l),ne(r,l,null),n(t,o),n(t,a),ne(f,a,null),n(a,i),g&&g.m(a,null),n(t,w),h=!0},p(k,C){e=k;const V={};C&5&&(V.state=e[0].includes(e[8].id)?"checked":"unchecked"),r.$set(V);const y={};C&4&&(y.content=e[8].email),C&2052&&(y.$$scope={dirty:C,ctx:e}),f.$set(y),C&5&&(p=e[0].includes(e[8].id)),p?g?C&5&&x(g,1):(g=pr(),g.c(),x(g,1),g.m(a,null)):g&&(Be(),U(g,1,1,()=>{g=null}),He())},i(k){h||(x(r.$$.fragment,k),x(f.$$.fragment,k),x(g),h=!0)},o(k){U(r.$$.fragment,k),U(f.$$.fragment,k),U(g),h=!1},d(k){k&&c(t),oe(r),oe(f),g&&g.d()}}}function Un(s){let e,t,l,r,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',a,f,i,p,w,h,m,g,k,C,V;const y=[Nn,xn],M=[];function T(D,I){return D[2].length>0?0:1}return m=T(s),g=M[m]=y[m](s),{c(){e=d("div"),t=d("div"),l=d("div"),r=d("div"),r.innerHTML=o,a=$(),f=d("input"),p=$(),w=d("div"),h=d("div"),g.c(),this.h()},l(D){e=_(D,"DIV",{});var I=v(e);t=_(I,"DIV",{class:!0});var L=v(t);l=_(L,"DIV",{class:!0});var S=v(l);r=_(S,"DIV",{class:!0,"data-svelte-h":!0}),tt(r)!=="svelte-r4ce5j"&&(r.innerHTML=o),a=E(S),f=_(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(c),L.forEach(c),p=E(I),w=_(I,"DIV",{class:!0});var b=v(w);h=_(b,"DIV",{class:!0});var z=v(h);g.l(z),z.forEach(c),b.forEach(c),I.forEach(c),this.h()},h(){u(r,"class","self-center mr-3"),u(f,"class","w-full text-sm pr-4 rounded-r-xl outline-hidden bg-transparent"),u(f,"placeholder",i=s[3].t("Search")),u(l,"class","flex flex-1"),u(t,"class","flex w-full"),u(h,"class","flex flex-col gap-2.5"),u(w,"class","mt-3 max-h-[22rem] overflow-y-auto scrollbar-hidden")},m(D,I){F(D,e,I),n(e,t),n(t,l),n(l,r),n(l,a),n(l,f),Qe(f,s[1]),n(e,p),n(e,w),n(w,h),M[m].m(h,null),k=!0,C||(V=be(f,"input",s[6]),C=!0)},p(D,[I]){(!k||I&8&&i!==(i=D[3].t("Search")))&&u(f,"placeholder",i),I&2&&f.value!==D[1]&&Qe(f,D[1]);let L=m;m=T(D),m===L?M[m].p(D,I):(Be(),U(M[L],1,1,()=>{M[L]=null}),He(),g=M[m],g?g.p(D,I):(g=M[m]=y[m](D),g.c()),x(g,1),g.m(h,null))},i(D){k||(x(g),k=!0)},o(D){U(g),k=!1},d(D){D&&c(e),M[m].d(),C=!1,V()}}}function Ln(s,e,t){let l;const r=el("i18n");$t(s,r,h=>t(3,l=h));let{users:o=[]}=e,{userIds:a=[]}=e,f=[],i="";function p(){i=this.value,t(1,i)}const w=(h,m)=>{m.detail==="checked"?t(0,a=[...a,h.id]):t(0,a=a.filter(g=>g!==h.id))};return s.$$set=h=>{"users"in h&&t(5,o=h.users),"userIds"in h&&t(0,a=h.userIds)},s.$$.update=()=>{s.$$.dirty&35&&t(2,f=o.filter(h=>(h==null?void 0:h.role)==="admin"?!1:i===""?!0:h.name.toLowerCase().includes(i.toLowerCase())||h.email.toLowerCase().includes(i.toLowerCase())).sort((h,m)=>{const g=a.indexOf(h.id),k=a.indexOf(m.id);return g!==-1&&k===-1?-1:k!==-1&&g===-1?1:g!==-1&&k!==-1?g-k:h.name.localeCompare(m.name)}))},[a,i,f,l,r,o,p,w]}let Mn=class extends Et{constructor(e){super(),yt(this,e,Ln,Un,bt,{users:5,userIds:0})}};function Sn(s){let e,t;return{c(){e=Ql("svg"),t=Ql("path"),this.h()},l(l){e=Jl(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=Jl(r,"path",{d:!0}),v(t).forEach(c),r.forEach(c),this.h()},h(){u(t,"d","M10 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM1.615 16.428a1.224 1.224 0 0 1-.569-1.175 6.002 6.002 0 0 1 11.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 0 1 7 18a9.953 9.953 0 0 1-5.385-1.572ZM16.25 5.75a.75.75 0 0 0-1.5 0v2h-2a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2v-2Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class",s[0])},m(l,r){F(l,e,r),n(e,t)},p(l,[r]){r&1&&u(e,"class",l[0])},i:Ye,o:Ye,d(l){l&&c(e)}}}function An(s,e,t){let{className:l="size-4"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className)},[l]}class Pn extends Et{constructor(e){super(),yt(this,e,An,Sn,bt,{className:0})}}function Bn(s){let e=s[13].t("Edit Default Permissions")+"",t;return{c(){t=R(e)},l(l){t=Z(l,e)},m(l,r){F(l,t,r)},p(l,r){r[0]&8192&&e!==(e=l[13].t("Edit Default Permissions")+"")&&J(t,e)},d(l){l&&c(t)}}}function Hn(s){let e;function t(o,a){return o[6]?zn:jn}let l=t(s),r=l(s);return{c(){r.c(),e=fl()},l(o){r.l(o),e=fl()},m(o,a){r.m(o,a),F(o,e,a)},p(o,a){l===(l=t(o))&&r?r.p(o,a):(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&c(e),r.d(o)}}}function jn(s){let e=s[13].t("Add User Group")+"",t;return{c(){t=R(e)},l(l){t=Z(l,e)},m(l,r){F(l,t,r)},p(l,r){r[0]&8192&&e!==(e=l[13].t("Add User Group")+"")&&J(t,e)},d(l){l&&c(t)}}}function zn(s){let e=s[13].t("Edit User Group")+"",t;return{c(){t=R(e)},l(l){t=Z(l,e)},m(l,r){F(l,t,r)},p(l,r){r[0]&8192&&e!==(e=l[13].t("Edit User Group")+"")&&J(t,e)},d(l){l&&c(t)}}}function gr(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',r,o,a=s[13].t("General")+"",f,i,p,w;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,r=$(),o=d("div"),f=R(a),this.h()},l(h){e=_(h,"BUTTON",{class:!0,type:!0});var m=v(e);t=_(m,"DIV",{class:!0,"data-svelte-h":!0}),tt(t)!=="svelte-15gnf02"&&(t.innerHTML=l),r=E(m),o=_(m,"DIV",{class:!0});var g=v(o);f=Z(g,a),g.forEach(c),m.forEach(c),this.h()},h(){u(t,"class","self-center mr-2"),u(o,"class","self-center"),u(e,"class",i="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(e,"type","button")},m(h,m){F(h,e,m),n(e,t),n(e,r),n(e,o),n(o,f),p||(w=be(e,"click",s[21]),p=!0)},p(h,m){m[0]&8192&&a!==(a=h[13].t("General")+"")&&J(f,a),m[0]&1024&&i!==(i="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(h[10]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",i)},d(h){h&&c(e),p=!1,w()}}}function wr(s){let e,t,l,r,o,a=s[13].t("Permissions")+"",f,i,p,w,h;return l=new ea({}),{c(){e=d("button"),t=d("div"),re(l.$$.fragment),r=$(),o=d("div"),f=R(a),this.h()},l(m){e=_(m,"BUTTON",{class:!0,type:!0});var g=v(e);t=_(g,"DIV",{class:!0});var k=v(t);ae(l.$$.fragment,k),k.forEach(c),r=E(g),o=_(g,"DIV",{class:!0});var C=v(o);f=Z(C,a),C.forEach(c),g.forEach(c),this.h()},h(){u(t,"class","self-center mr-2"),u(o,"class","self-center"),u(e,"class",i="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="permissions"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(e,"type","button")},m(m,g){F(m,e,g),n(e,t),ne(l,t,null),n(e,r),n(e,o),n(o,f),p=!0,w||(h=be(e,"click",s[22]),w=!0)},p(m,g){(!p||g[0]&8192)&&a!==(a=m[13].t("Permissions")+"")&&J(f,a),(!p||g[0]&1024&&i!==(i="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(m[10]==="permissions"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(e,"class",i)},i(m){p||(x(l.$$.fragment,m),p=!0)},o(m){U(l.$$.fragment,m),p=!1},d(m){m&&c(e),oe(l),w=!1,h()}}}function br(s){let e,t,l,r,o,a=s[13].t("Users")+"",f,i,p=s[4].length+"",w,h,m,g,k,C;return l=new Pn({}),{c(){e=d("button"),t=d("div"),re(l.$$.fragment),r=$(),o=d("div"),f=R(a),i=R(" ("),w=R(p),h=R(")"),this.h()},l(V){e=_(V,"BUTTON",{class:!0,type:!0});var y=v(e);t=_(y,"DIV",{class:!0});var M=v(t);ae(l.$$.fragment,M),M.forEach(c),r=E(y),o=_(y,"DIV",{class:!0});var T=v(o);f=Z(T,a),i=Z(T," ("),w=Z(T,p),h=Z(T,")"),T.forEach(c),y.forEach(c),this.h()},h(){u(t,"class","self-center mr-2"),u(o,"class","self-center"),u(e,"class",m="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="users"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(e,"type","button")},m(V,y){F(V,e,y),n(e,t),ne(l,t,null),n(e,r),n(e,o),n(o,f),n(o,i),n(o,w),n(o,h),g=!0,k||(C=be(e,"click",s[23]),k=!0)},p(V,y){(!g||y[0]&8192)&&a!==(a=V[13].t("Users")+"")&&J(f,a),(!g||y[0]&16)&&p!==(p=V[4].length+"")&&J(w,p),(!g||y[0]&1024&&m!==(m="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(V[10]==="users"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(e,"class",m)},i(V){g||(x(l.$$.fragment,V),g=!0)},o(V){U(l.$$.fragment,V),g=!1},d(V){V&&c(e),oe(l),k=!1,C()}}}function Gn(s){let e,t,l;function r(a){s[27](a)}let o={users:s[7]};return s[4]!==void 0&&(o.userIds=s[4]),e=new Mn({props:o}),Ne.push(()=>Ue(e,"userIds",r)),{c(){re(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,f){ne(e,a,f),l=!0},p(a,f){const i={};f[0]&128&&(i.users=a[7]),!t&&f[0]&16&&(t=!0,i.userIds=a[4],Ce(()=>t=!1)),e.$set(i)},i(a){l||(x(e.$$.fragment,a),l=!0)},o(a){U(e.$$.fragment,a),l=!1},d(a){oe(e,a)}}}function On(s){let e,t,l;function r(a){s[26](a)}let o={};return s[3]!==void 0&&(o.permissions=s[3]),e=new Tn({props:o}),Ne.push(()=>Ue(e,"permissions",r)),{c(){re(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,f){ne(e,a,f),l=!0},p(a,f){const i={};!t&&f[0]&8&&(t=!0,i.permissions=a[3],Ce(()=>t=!1)),e.$set(i)},i(a){l||(x(e.$$.fragment,a),l=!0)},o(a){U(e.$$.fragment,a),l=!1},d(a){oe(e,a)}}}function qn(s){let e,t,l,r;function o(i){s[24](i)}function a(i){s[25](i)}let f={};return s[1]!==void 0&&(f.name=s[1]),s[2]!==void 0&&(f.description=s[2]),e=new yn({props:f}),Ne.push(()=>Ue(e,"name",o)),Ne.push(()=>Ue(e,"description",a)),{c(){re(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,p){ne(e,i,p),r=!0},p(i,p){const w={};!t&&p[0]&2&&(t=!0,w.name=i[1],Ce(()=>t=!1)),!l&&p[0]&4&&(l=!0,w.description=i[2],Ce(()=>l=!1)),e.$set(w)},i(i){r||(x(e.$$.fragment,i),r=!0)},o(i){U(e.$$.fragment,i),r=!1},d(i){oe(e,i)}}}function Rn(s){let e;return{c(){e=d("div")},l(t){e=_(t,"DIV",{}),v(e).forEach(c)},m(t,l){F(t,e,l)},p:Ye,d(t){t&&c(e)}}}function Zn(s){let e,t=s[13].t("Delete")+"",l,r,o;return{c(){e=d("button"),l=R(t),this.h()},l(a){e=_(a,"BUTTON",{class:!0,type:!0});var f=v(e);l=Z(f,t),f.forEach(c),this.h()},h(){u(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),u(e,"type","button")},m(a,f){F(a,e,f),n(e,l),r||(o=be(e,"click",s[28]),r=!0)},p(a,f){f[0]&8192&&t!==(t=a[13].t("Delete")+"")&&J(l,t)},d(a){a&&c(e),r=!1,o()}}}function kr(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),tt(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,r){F(l,e,r)},d(l){l&&c(e)}}}function Wn(s){let e,t,l,r,o,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',f,i,p,w,h,m,g=s[9].includes("general"),k,C=s[9].includes("permissions"),V,y=s[9].includes("users"),M,T,D,I,L,S,b,z,se=s[13].t("Save")+"",A,q,W,le,P,K;function X(Y,fe){return Y[8]?Hn:Bn}let te=X(s),H=te(s),ee=g&&gr(s),G=C&&wr(s),Q=y&&br(s);const _e=[qn,On,Gn],ge=[];function B(Y,fe){return Y[10]=="general"?0:Y[10]=="permissions"?1:Y[10]=="users"?2:-1}~(D=B(s))&&(I=ge[D]=_e[D](s));function he(Y,fe){return Y[6]?Zn:Rn}let pe=he(s),j=pe(s),de=s[11]&&kr();return{c(){e=d("div"),t=d("div"),l=d("div"),H.c(),r=$(),o=d("button"),o.innerHTML=a,f=$(),i=d("div"),p=d("div"),w=d("form"),h=d("div"),m=d("div"),ee&&ee.c(),k=$(),G&&G.c(),V=$(),Q&&Q.c(),M=$(),T=d("div"),I&&I.c(),L=$(),S=d("div"),j.c(),b=$(),z=d("button"),A=R(se),q=$(),de&&de.c(),this.h()},l(Y){e=_(Y,"DIV",{});var fe=v(e);t=_(fe,"DIV",{class:!0});var ye=v(t);l=_(ye,"DIV",{class:!0});var Ie=v(l);H.l(Ie),Ie.forEach(c),r=E(ye),o=_(ye,"BUTTON",{class:!0,"data-svelte-h":!0}),tt(o)!=="svelte-745w2y"&&(o.innerHTML=a),ye.forEach(c),f=E(fe),i=_(fe,"DIV",{class:!0});var De=v(i);p=_(De,"DIV",{class:!0});var ue=v(p);w=_(ue,"FORM",{class:!0});var ce=v(w);h=_(ce,"DIV",{class:!0});var Le=v(h);m=_(Le,"DIV",{id:!0,class:!0});var Ee=v(m);ee&&ee.l(Ee),k=E(Ee),G&&G.l(Ee),V=E(Ee),Q&&Q.l(Ee),Ee.forEach(c),M=E(Le),T=_(Le,"DIV",{class:!0});var Ve=v(T);I&&I.l(Ve),Ve.forEach(c),Le.forEach(c),L=E(ce),S=_(ce,"DIV",{class:!0});var qe=v(S);j.l(qe),b=E(qe),z=_(qe,"BUTTON",{class:!0,type:!0});var Me=v(z);A=Z(Me,se),q=E(Me),de&&de.l(Me),Me.forEach(c),qe.forEach(c),ce.forEach(c),ue.forEach(c),De.forEach(c),fe.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center font-primary"),u(o,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 mb-1.5"),u(m,"id","admin-settings-tabs-container"),u(m,"class","tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),u(T,"class","flex-1 mt-1 lg:mt-1 lg:h-[22rem] lg:max-h-[22rem] overflow-y-auto scrollbar-hidden"),u(h,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4"),u(z,"class",W="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[11]?" cursor-not-allowed":"")),u(z,"type","submit"),z.disabled=s[11],u(S,"class","flex justify-between pt-3 text-sm font-medium gap-1.5"),u(w,"class","flex flex-col w-full"),u(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(i,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(Y,fe){F(Y,e,fe),n(e,t),n(t,l),H.m(l,null),n(t,r),n(t,o),n(e,f),n(e,i),n(i,p),n(p,w),n(w,h),n(h,m),ee&&ee.m(m,null),n(m,k),G&&G.m(m,null),n(m,V),Q&&Q.m(m,null),n(h,M),n(h,T),~D&&ge[D].m(T,null),n(w,L),n(w,S),j.m(S,null),n(S,b),n(S,z),n(z,A),n(z,q),de&&de.m(z,null),le=!0,P||(K=[be(o,"click",s[20]),be(w,"submit",s[29])],P=!0)},p(Y,fe){te===(te=X(Y))&&H?H.p(Y,fe):(H.d(1),H=te(Y),H&&(H.c(),H.m(l,null))),fe[0]&512&&(g=Y[9].includes("general")),g?ee?ee.p(Y,fe):(ee=gr(Y),ee.c(),ee.m(m,k)):ee&&(ee.d(1),ee=null),fe[0]&512&&(C=Y[9].includes("permissions")),C?G?(G.p(Y,fe),fe[0]&512&&x(G,1)):(G=wr(Y),G.c(),x(G,1),G.m(m,V)):G&&(Be(),U(G,1,1,()=>{G=null}),He()),fe[0]&512&&(y=Y[9].includes("users")),y?Q?(Q.p(Y,fe),fe[0]&512&&x(Q,1)):(Q=br(Y),Q.c(),x(Q,1),Q.m(m,null)):Q&&(Be(),U(Q,1,1,()=>{Q=null}),He());let ye=D;D=B(Y),D===ye?~D&&ge[D].p(Y,fe):(I&&(Be(),U(ge[ye],1,1,()=>{ge[ye]=null}),He()),~D?(I=ge[D],I?I.p(Y,fe):(I=ge[D]=_e[D](Y),I.c()),x(I,1),I.m(T,null)):I=null),pe===(pe=he(Y))&&j?j.p(Y,fe):(j.d(1),j=pe(Y),j&&(j.c(),j.m(S,b))),(!le||fe[0]&8192)&&se!==(se=Y[13].t("Save")+"")&&J(A,se),Y[11]?de||(de=kr(),de.c(),de.m(z,null)):de&&(de.d(1),de=null),(!le||fe[0]&2048&&W!==(W="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(Y[11]?" cursor-not-allowed":"")))&&u(z,"class",W),(!le||fe[0]&2048)&&(z.disabled=Y[11])},i(Y){le||(x(G),x(Q),x(I),le=!0)},o(Y){U(G),U(Q),U(I),le=!1},d(Y){Y&&c(e),H.d(),ee&&ee.d(),G&&G.d(),Q&&Q.d(),~D&&ge[D].d(),j.d(),de&&de.d(),P=!1,cl(K)}}}function Yn(s){let e,t,l,r,o,a;function f(h){s[18](h)}let i={};s[12]!==void 0&&(i.show=s[12]),e=new Cs({props:i}),Ne.push(()=>Ue(e,"show",f)),e.$on("confirm",s[19]);function p(h){s[30](h)}let w={size:"md",$$slots:{default:[Wn]},$$scope:{ctx:s}};return s[0]!==void 0&&(w.show=s[0]),r=new hs({props:w}),Ne.push(()=>Ue(r,"show",p)),{c(){re(e.$$.fragment),l=$(),re(r.$$.fragment)},l(h){ae(e.$$.fragment,h),l=E(h),ae(r.$$.fragment,h)},m(h,m){ne(e,h,m),F(h,l,m),ne(r,h,m),a=!0},p(h,m){const g={};!t&&m[0]&4096&&(t=!0,g.show=h[12],Ce(()=>t=!1)),e.$set(g);const k={};m[0]&16351|m[1]&2&&(k.$$scope={dirty:m,ctx:h}),!o&&m[0]&1&&(o=!0,k.show=h[0],Ce(()=>o=!1)),r.$set(k)},i(h){a||(x(e.$$.fragment,h),x(r.$$.fragment,h),a=!0)},o(h){U(e.$$.fragment,h),U(r.$$.fragment,h),a=!1},d(h){h&&c(l),oe(e,h),oe(r,h)}}}function Fn(s,e,t){let l;const r=el("i18n");$t(s,r,H=>t(13,l=H));let{onSubmit:o=()=>{}}=e,{onDelete:a=()=>{}}=e,{show:f=!1}=e,{edit:i=!1}=e,{users:p=[]}=e,{group:w=null}=e,{custom:h=!0}=e,{tabs:m=["general","permissions","users"]}=e,g="general",k=!1,C=!1,{name:V=""}=e,{description:y=""}=e,{permissions:M={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{controls:!0,file_upload:!0,delete:!0,edit:!0,temporary:!0},features:{web_search:!0,image_generation:!0,code_interpreter:!0}}}=e,{userIds:T=[]}=e;const D=async()=>{t(11,k=!0),await o({name:V,description:y,permissions:M,user_ids:T}),t(11,k=!1),t(0,f=!1)},I=()=>{w&&(t(1,V=w.name),t(2,y=w.description),t(3,M=(w==null?void 0:w.permissions)??{}),t(4,T=(w==null?void 0:w.user_ids)??[]))};es(()=>{console.log(m),t(10,g=m[0]),I()});function L(H){C=H,t(12,C)}const S=()=>{a(),t(0,f=!1)},b=()=>{t(0,f=!1)},z=()=>{t(10,g="general")},se=()=>{t(10,g="permissions")},A=()=>{t(10,g="users")};function q(H){V=H,t(1,V)}function W(H){y=H,t(2,y)}function le(H){M=H,t(3,M)}function P(H){T=H,t(4,T)}const K=()=>{t(12,C=!0)},X=H=>{H.preventDefault(),D()};function te(H){f=H,t(0,f)}return s.$$set=H=>{"onSubmit"in H&&t(16,o=H.onSubmit),"onDelete"in H&&t(5,a=H.onDelete),"show"in H&&t(0,f=H.show),"edit"in H&&t(6,i=H.edit),"users"in H&&t(7,p=H.users),"group"in H&&t(17,w=H.group),"custom"in H&&t(8,h=H.custom),"tabs"in H&&t(9,m=H.tabs),"name"in H&&t(1,V=H.name),"description"in H&&t(2,y=H.description),"permissions"in H&&t(3,M=H.permissions),"userIds"in H&&t(4,T=H.userIds)},s.$$.update=()=>{s.$$.dirty[0]&1&&f&&I()},[f,V,y,M,T,a,i,p,h,m,g,k,C,l,r,D,o,w,L,S,b,z,se,A,q,W,le,P,K,X,te]}class Ur extends Et{constructor(e){super(),yt(this,e,Fn,Yn,bt,{onSubmit:16,onDelete:5,show:0,edit:6,users:7,group:17,custom:8,tabs:9,name:1,description:2,permissions:3,userIds:4},null,[-1,-1])}}function Kn(s){let e,t,l,r,o,a,f,i,p=s[1].name+"",w,h,m,g=s[1].user_ids.length+"",k,C,V,y,M,T,D,I,L,S,b;function z(A){s[7](A)}let se={edit:!0,users:s[0],group:s[1],onSubmit:s[4],onDelete:s[5]};return s[2]!==void 0&&(se.show=s[2]),e=new Ur({props:se}),Ne.push(()=>Ue(e,"show",z)),f=new ia({props:{className:"size-4"}}),y=new oa({props:{className:"size-3.5"}}),I=new na({props:{className:"size-3.5"}}),{c(){re(e.$$.fragment),l=$(),r=d("button"),o=d("div"),a=d("div"),re(f.$$.fragment),i=$(),w=R(p),h=$(),m=d("div"),k=R(g),C=$(),V=d("div"),re(y.$$.fragment),M=$(),T=d("div"),D=d("div"),re(I.$$.fragment),this.h()},l(A){ae(e.$$.fragment,A),l=E(A),r=_(A,"BUTTON",{class:!0});var q=v(r);o=_(q,"DIV",{class:!0});var W=v(o);a=_(W,"DIV",{});var le=v(a);ae(f.$$.fragment,le),le.forEach(c),i=E(W),w=Z(W,p),W.forEach(c),h=E(q),m=_(q,"DIV",{class:!0});var P=v(m);k=Z(P,g),C=E(P),V=_(P,"DIV",{});var K=v(V);ae(y.$$.fragment,K),K.forEach(c),P.forEach(c),M=E(q),T=_(q,"DIV",{class:!0});var X=v(T);D=_(X,"DIV",{class:!0});var te=v(D);ae(I.$$.fragment,te),te.forEach(c),X.forEach(c),q.forEach(c),this.h()},h(){u(o,"class","flex items-center gap-1.5 w-full font-medium"),u(m,"class","flex items-center gap-1.5 w-full font-medium"),u(D,"class","rounded-lg p-1 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),u(T,"class","w-full flex justify-end"),u(r,"class","flex items-center gap-3 justify-between px-1 text-xs w-full transition")},m(A,q){ne(e,A,q),F(A,l,q),F(A,r,q),n(r,o),n(o,a),ne(f,a,null),n(o,i),n(o,w),n(r,h),n(r,m),n(m,k),n(m,C),n(m,V),ne(y,V,null),n(r,M),n(r,T),n(T,D),ne(I,D,null),L=!0,S||(b=be(r,"click",s[8]),S=!0)},p(A,[q]){const W={};q&1&&(W.users=A[0]),q&2&&(W.group=A[1]),!t&&q&4&&(t=!0,W.show=A[2],Ce(()=>t=!1)),e.$set(W),(!L||q&2)&&p!==(p=A[1].name+"")&&J(w,p),(!L||q&2)&&g!==(g=A[1].user_ids.length+"")&&J(k,g)},i(A){L||(x(e.$$.fragment,A),x(f.$$.fragment,A),x(y.$$.fragment,A),x(I.$$.fragment,A),L=!0)},o(A){U(e.$$.fragment,A),U(f.$$.fragment,A),U(y.$$.fragment,A),U(I.$$.fragment,A),L=!1},d(A){A&&(c(l),c(r)),oe(e,A),oe(f),oe(y),oe(I),S=!1,b()}}}function Qn(s,e,t){let l;const r=el("i18n");$t(s,r,g=>t(9,l=g));let{users:o=[]}=e,{group:a={name:"Admins",user_ids:[1,2,3]}}=e,{setGroups:f=()=>{}}=e,i=!1;const p=async g=>{await sa(localStorage.token,a.id,g).catch(C=>(wt.error(`${C}`),null))&&(wt.success(l.t("Group updated successfully")),f())},w=async()=>{await ra(localStorage.token,a.id).catch(k=>(wt.error(`${k}`),null))&&(wt.success(l.t("Group deleted successfully")),f())};function h(g){i=g,t(2,i)}const m=()=>{t(2,i=!0)};return s.$$set=g=>{"users"in g&&t(0,o=g.users),"group"in g&&t(1,a=g.group),"setGroups"in g&&t(6,f=g.setGroups)},[o,a,i,r,p,w,f,h,m]}class Jn extends Et{constructor(e){super(),yt(this,e,Qn,Kn,bt,{users:0,group:1,setGroups:6})}}function $r(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),tt(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,r){F(l,e,r)},d(l){l&&c(e)}}}function Xn(s){let e,t,l,r=s[4].t("Add User Group")+"",o,a,f,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',p,w,h,m,g,k,C,V,y=s[4].t("Name")+"",M,T,D,I,L,S,b,z,se=s[4].t("Description")+"",A,q,W,le,P,K,X,te,H=s[4].t("Create")+"",ee,G,Q,_e,ge,B;function he(de){s[10](de)}let pe={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden resize-none",rows:2,placeholder:s[4].t("Group Description")};s[2]!==void 0&&(pe.value=s[2]),le=new Cr({props:pe}),Ne.push(()=>Ue(le,"value",he));let j=s[3]&&$r();return{c(){e=d("div"),t=d("div"),l=d("div"),o=R(r),a=$(),f=d("button"),f.innerHTML=i,p=$(),w=d("div"),h=d("div"),m=d("form"),g=d("div"),k=d("div"),C=d("div"),V=d("div"),M=R(y),T=$(),D=d("div"),I=d("input"),S=$(),b=d("div"),z=d("div"),A=R(se),q=$(),W=d("div"),re(le.$$.fragment),K=$(),X=d("div"),te=d("button"),ee=R(H),G=$(),j&&j.c(),this.h()},l(de){e=_(de,"DIV",{});var Y=v(e);t=_(Y,"DIV",{class:!0});var fe=v(t);l=_(fe,"DIV",{class:!0});var ye=v(l);o=Z(ye,r),ye.forEach(c),a=E(fe),f=_(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),tt(f)!=="svelte-745w2y"&&(f.innerHTML=i),fe.forEach(c),p=E(Y),w=_(Y,"DIV",{class:!0});var Ie=v(w);h=_(Ie,"DIV",{class:!0});var De=v(h);m=_(De,"FORM",{class:!0});var ue=v(m);g=_(ue,"DIV",{class:!0});var ce=v(g);k=_(ce,"DIV",{class:!0});var Le=v(k);C=_(Le,"DIV",{class:!0});var Ee=v(C);V=_(Ee,"DIV",{class:!0});var Ve=v(V);M=Z(Ve,y),Ve.forEach(c),T=E(Ee),D=_(Ee,"DIV",{class:!0});var qe=v(D);I=_(qe,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),qe.forEach(c),Ee.forEach(c),Le.forEach(c),S=E(ce),b=_(ce,"DIV",{class:!0});var Me=v(b);z=_(Me,"DIV",{class:!0});var je=v(z);A=Z(je,se),je.forEach(c),q=E(Me),W=_(Me,"DIV",{class:!0});var Te=v(W);ae(le.$$.fragment,Te),Te.forEach(c),Me.forEach(c),ce.forEach(c),K=E(ue),X=_(ue,"DIV",{class:!0});var Se=v(X);te=_(Se,"BUTTON",{class:!0,type:!0});var Fe=v(te);ee=Z(Fe,H),G=E(Fe),j&&j.l(Fe),Fe.forEach(c),Se.forEach(c),ue.forEach(c),De.forEach(c),Ie.forEach(c),Y.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center font-primary"),u(f,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 mb-1.5"),u(V,"class","mb-0.5 text-xs text-gray-500"),u(I,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),u(I,"type","text"),u(I,"placeholder",L=s[4].t("Group Name")),u(I,"autocomplete","off"),I.required=!0,u(D,"class","flex-1"),u(C,"class","flex flex-col w-full"),u(k,"class","flex gap-2"),u(z,"class","mb-1 text-xs text-gray-500"),u(W,"class","flex-1"),u(b,"class","flex flex-col w-full mt-2"),u(g,"class","px-1 flex flex-col w-full"),u(te,"class",Q="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[3]?" cursor-not-allowed":"")),u(te,"type","submit"),te.disabled=s[3],u(X,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),u(m,"class","flex flex-col w-full"),u(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(w,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(de,Y){F(de,e,Y),n(e,t),n(t,l),n(l,o),n(t,a),n(t,f),n(e,p),n(e,w),n(w,h),n(h,m),n(m,g),n(g,k),n(k,C),n(C,V),n(V,M),n(C,T),n(C,D),n(D,I),Qe(I,s[1]),n(g,S),n(g,b),n(b,z),n(z,A),n(b,q),n(b,W),ne(le,W,null),n(m,K),n(m,X),n(X,te),n(te,ee),n(te,G),j&&j.m(te,null),_e=!0,ge||(B=[be(f,"click",s[8]),be(I,"input",s[9]),be(m,"submit",s[11])],ge=!0)},p(de,Y){(!_e||Y&16)&&r!==(r=de[4].t("Add User Group")+"")&&J(o,r),(!_e||Y&16)&&y!==(y=de[4].t("Name")+"")&&J(M,y),(!_e||Y&16&&L!==(L=de[4].t("Group Name")))&&u(I,"placeholder",L),Y&2&&I.value!==de[1]&&Qe(I,de[1]),(!_e||Y&16)&&se!==(se=de[4].t("Description")+"")&&J(A,se);const fe={};Y&16&&(fe.placeholder=de[4].t("Group Description")),!P&&Y&4&&(P=!0,fe.value=de[2],Ce(()=>P=!1)),le.$set(fe),(!_e||Y&16)&&H!==(H=de[4].t("Create")+"")&&J(ee,H),de[3]?j||(j=$r(),j.c(),j.m(te,null)):j&&(j.d(1),j=null),(!_e||Y&8&&Q!==(Q="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(de[3]?" cursor-not-allowed":"")))&&u(te,"class",Q),(!_e||Y&8)&&(te.disabled=de[3])},i(de){_e||(x(le.$$.fragment,de),_e=!0)},o(de){U(le.$$.fragment,de),_e=!1},d(de){de&&c(e),oe(le),j&&j.d(),ge=!1,cl(B)}}}function eo(s){let e,t,l;function r(a){s[12](a)}let o={size:"sm",$$slots:{default:[Xn]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new hs({props:o}),Ne.push(()=>Ue(e,"show",r)),{c(){re(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,f){ne(e,a,f),l=!0},p(a,[f]){const i={};f&16415&&(i.$$scope={dirty:f,ctx:a}),!t&&f&1&&(t=!0,i.show=a[0],Ce(()=>t=!1)),e.$set(i)},i(a){l||(x(e.$$.fragment,a),l=!0)},o(a){U(e.$$.fragment,a),l=!1},d(a){oe(e,a)}}}function to(s,e,t){let l;const r=el("i18n");$t(s,r,V=>t(4,l=V));let{onSubmit:o=()=>{}}=e,{show:a=!1}=e,f="",i="",p=!1;const w=async()=>{t(3,p=!0),await o({name:f,description:i}),t(3,p=!1),t(0,a=!1),t(1,f=""),t(2,i="")};es(()=>{console.log("mounted")});const h=()=>{t(0,a=!1)};function m(){f=this.value,t(1,f)}function g(V){i=V,t(2,i)}const k=V=>{V.preventDefault(),w()};function C(V){a=V,t(0,a)}return s.$$set=V=>{"onSubmit"in V&&t(7,o=V.onSubmit),"show"in V&&t(0,a=V.show)},[a,f,i,p,l,r,w,o,h,m,g,k,C]}class lo extends Et{constructor(e){super(),yt(this,e,to,eo,bt,{onSubmit:7,show:0})}}function Er(s,e,t){const l=s.slice();return l[21]=e[t],l}function yr(s){let e,t,l,r,o,a=s[8].t("Groups")+"",f,i,p,w,h,m=s[1].length+"",g,k,C,V,y,M,T='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',D,I,L,S,b,z,se,A,q,W,le,P,K,X,te,H,ee,G,Q,_e,ge,B,he,pe,j=s[8].t("Default permissions")+"",de,Y,fe,ye=s[8].t('applies to all users with the "user" role')+"",Ie,De,ue,ce,Le,Ee,Ve;function qe(me){s[13](me)}let Me={onSubmit:s[11]};s[6]!==void 0&&(Me.show=s[6]),e=new lo({props:Me}),Ne.push(()=>Ue(e,"show",qe)),z=new yl({props:{content:s[8].t("Create Group"),$$slots:{default:[so]},$$scope:{ctx:s}}});const je=[ao,ro],Te=[];function Se(me,ke){return me[4].length===0?0:1}q=Se(s),W=Te[q]=je[q](s);function Fe(me){s[17](me)}function Ae(me){s[18](me)}let Ke={tabs:["permissions"],custom:!1,onSubmit:s[12]};return s[7]!==void 0&&(Ke.show=s[7]),s[5]!==void 0&&(Ke.permissions=s[5]),X=new Ur({props:Ke}),Ne.push(()=>Ue(X,"show",Fe)),Ne.push(()=>Ue(X,"permissions",Ae)),ge=new kn({props:{className:"size-4"}}),ce=new ta({props:{strokeWidth:"2.5"}}),{c(){re(e.$$.fragment),l=$(),r=d("div"),o=d("div"),f=R(a),i=$(),p=d("div"),w=$(),h=d("span"),g=R(m),k=$(),C=d("div"),V=d("div"),y=d("div"),M=d("div"),M.innerHTML=T,D=$(),I=d("input"),S=$(),b=d("div"),re(z.$$.fragment),se=$(),A=d("div"),W.c(),le=$(),P=d("hr"),K=$(),re(X.$$.fragment),ee=$(),G=d("button"),Q=d("div"),_e=d("div"),re(ge.$$.fragment),B=$(),he=d("div"),pe=d("div"),de=R(j),Y=$(),fe=d("div"),Ie=R(ye),De=$(),ue=d("div"),re(ce.$$.fragment),this.h()},l(me){ae(e.$$.fragment,me),l=E(me),r=_(me,"DIV",{class:!0});var ke=v(r);o=_(ke,"DIV",{class:!0});var $e=v(o);f=Z($e,a),i=E($e),p=_($e,"DIV",{class:!0}),v(p).forEach(c),w=E($e),h=_($e,"SPAN",{class:!0});var we=v(h);g=Z(we,m),we.forEach(c),$e.forEach(c),k=E(ke),C=_(ke,"DIV",{class:!0});var Ge=v(C);V=_(Ge,"DIV",{class:!0});var ot=v(V);y=_(ot,"DIV",{class:!0});var We=v(y);M=_(We,"DIV",{class:!0,"data-svelte-h":!0}),tt(M)!=="svelte-kinl2y"&&(M.innerHTML=T),D=E(We),I=_(We,"INPUT",{class:!0,placeholder:!0}),We.forEach(c),S=E(ot),b=_(ot,"DIV",{});var it=v(b);ae(z.$$.fragment,it),it.forEach(c),ot.forEach(c),Ge.forEach(c),ke.forEach(c),se=E(me),A=_(me,"DIV",{});var Re=v(A);W.l(Re),le=E(Re),P=_(Re,"HR",{class:!0}),K=E(Re),ae(X.$$.fragment,Re),ee=E(Re),G=_(Re,"BUTTON",{class:!0});var ut=v(G);Q=_(ut,"DIV",{class:!0});var Dt=v(Q);_e=_(Dt,"DIV",{class:!0});var xe=v(_e);ae(ge.$$.fragment,xe),xe.forEach(c),B=E(Dt),he=_(Dt,"DIV",{class:!0});var Ze=v(he);pe=_(Ze,"DIV",{class:!0});var ht=v(pe);de=Z(ht,j),ht.forEach(c),Y=E(Ze),fe=_(Ze,"DIV",{class:!0});var Xe=v(fe);Ie=Z(Xe,ye),Xe.forEach(c),Ze.forEach(c),Dt.forEach(c),De=E(ut),ue=_(ut,"DIV",{});var lt=v(ue);ae(ce.$$.fragment,lt),lt.forEach(c),ut.forEach(c),Re.forEach(c),this.h()},h(){u(p,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),u(h,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),u(o,"class","flex md:self-center text-lg font-medium px-0.5"),u(M,"class","self-center ml-1 mr-3"),u(I,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"),u(I,"placeholder",L=s[8].t("Search")),u(y,"class","flex flex-1"),u(V,"class","flex w-full space-x-2"),u(C,"class","flex gap-1"),u(r,"class","mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between"),u(P,"class","mb-2 border-gray-100 dark:border-gray-850"),u(_e,"class","p-1.5 bg-black/5 dark:bg-white/10 rounded-full"),u(pe,"class","text-sm font-medium"),u(fe,"class","flex text-xs mt-0.5"),u(he,"class","text-left"),u(Q,"class","flex items-center gap-2.5"),u(G,"class","flex items-center justify-between rounded-lg w-full transition pt-1")},m(me,ke){ne(e,me,ke),F(me,l,ke),F(me,r,ke),n(r,o),n(o,f),n(o,i),n(o,p),n(o,w),n(o,h),n(h,g),n(r,k),n(r,C),n(C,V),n(V,y),n(y,M),n(y,D),n(y,I),Qe(I,s[2]),n(V,S),n(V,b),ne(z,b,null),F(me,se,ke),F(me,A,ke),Te[q].m(A,null),n(A,le),n(A,P),n(A,K),ne(X,A,null),n(A,ee),n(A,G),n(G,Q),n(Q,_e),ne(ge,_e,null),n(Q,B),n(Q,he),n(he,pe),n(pe,de),n(he,Y),n(he,fe),n(fe,Ie),n(G,De),n(G,ue),ne(ce,ue,null),Le=!0,Ee||(Ve=[be(I,"input",s[14]),be(G,"click",s[19])],Ee=!0)},p(me,ke){const $e={};!t&&ke&64&&(t=!0,$e.show=me[6],Ce(()=>t=!1)),e.$set($e),(!Le||ke&256)&&a!==(a=me[8].t("Groups")+"")&&J(f,a),(!Le||ke&2)&&m!==(m=me[1].length+"")&&J(g,m),(!Le||ke&256&&L!==(L=me[8].t("Search")))&&u(I,"placeholder",L),ke&4&&I.value!==me[2]&&Qe(I,me[2]);const we={};ke&256&&(we.content=me[8].t("Create Group")),ke&16777280&&(we.$$scope={dirty:ke,ctx:me}),z.$set(we);let Ge=q;q=Se(me),q===Ge?Te[q].p(me,ke):(Be(),U(Te[Ge],1,1,()=>{Te[Ge]=null}),He(),W=Te[q],W?W.p(me,ke):(W=Te[q]=je[q](me),W.c()),x(W,1),W.m(A,le));const ot={};!te&&ke&128&&(te=!0,ot.show=me[7],Ce(()=>te=!1)),!H&&ke&32&&(H=!0,ot.permissions=me[5],Ce(()=>H=!1)),X.$set(ot),(!Le||ke&256)&&j!==(j=me[8].t("Default permissions")+"")&&J(de,j),(!Le||ke&256)&&ye!==(ye=me[8].t('applies to all users with the "user" role')+"")&&J(Ie,ye)},i(me){Le||(x(e.$$.fragment,me),x(z.$$.fragment,me),x(W),x(X.$$.fragment,me),x(ge.$$.fragment,me),x(ce.$$.fragment,me),Le=!0)},o(me){U(e.$$.fragment,me),U(z.$$.fragment,me),U(W),U(X.$$.fragment,me),U(ge.$$.fragment,me),U(ce.$$.fragment,me),Le=!1},d(me){me&&(c(l),c(r),c(se),c(A)),oe(e,me),oe(z),Te[q].d(),oe(X),oe(ge),oe(ce),Ee=!1,cl(Ve)}}}function so(s){let e,t,l,r,o;return t=new Nr({props:{className:"size-3.5"}}),{c(){e=d("button"),re(t.$$.fragment),this.h()},l(a){e=_(a,"BUTTON",{class:!0});var f=v(e);ae(t.$$.fragment,f),f.forEach(c),this.h()},h(){u(e,"class","p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1")},m(a,f){F(a,e,f),ne(t,e,null),l=!0,r||(o=be(e,"click",s[15]),r=!0)},p:Ye,i(a){l||(x(t.$$.fragment,a),l=!0)},o(a){U(t.$$.fragment,a),l=!1},d(a){a&&c(e),oe(t),r=!1,o()}}}function ro(s){let e,t,l='<div class="w-full">Group</div> <div class="w-full">Users</div> <div class="w-full"></div>',r,o,a,f,i=El(s[4]),p=[];for(let h=0;h<i.length;h+=1)p[h]=Dr(Er(s,i,h));const w=h=>U(p[h],1,1,()=>{p[h]=null});return{c(){e=d("div"),t=d("div"),t.innerHTML=l,r=$(),o=d("hr"),a=$();for(let h=0;h<p.length;h+=1)p[h].c();this.h()},l(h){e=_(h,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0,"data-svelte-h":!0}),tt(t)!=="svelte-1uwoqvm"&&(t.innerHTML=l),r=E(m),o=_(m,"HR",{class:!0}),a=E(m);for(let g=0;g<p.length;g+=1)p[g].l(m);m.forEach(c),this.h()},h(){u(t,"class","flex items-center gap-3 justify-between text-xs uppercase px-1 font-bold"),u(o,"class","mt-1.5 border-gray-100 dark:border-gray-850")},m(h,m){F(h,e,m),n(e,t),n(e,r),n(e,o),n(e,a);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(e,null);f=!0},p(h,m){if(m&1041){i=El(h[4]);let g;for(g=0;g<i.length;g+=1){const k=Er(h,i,g);p[g]?(p[g].p(k,m),x(p[g],1)):(p[g]=Dr(k),p[g].c(),x(p[g],1),p[g].m(e,null))}for(Be(),g=i.length;g<p.length;g+=1)w(g);He()}},i(h){if(!f){for(let m=0;m<i.length;m+=1)x(p[m]);f=!0}},o(h){p=p.filter(Boolean);for(let m=0;m<p.length;m+=1)U(p[m]);f=!1},d(h){h&&c(e),Ts(p,h)}}}function ao(s){let e,t,l=s[8].t("Organize your users")+"",r,o,a,f=s[8].t("Use groups to group your users and assign permissions.")+"",i,p,w,h,m=s[8].t("Create Group")+"",g,k,C,V;return{c(){e=d("div"),t=d("div"),r=R(l),o=$(),a=d("div"),i=R(f),p=$(),w=d("div"),h=d("button"),g=R(m),this.h()},l(y){e=_(y,"DIV",{class:!0});var M=v(e);t=_(M,"DIV",{class:!0});var T=v(t);r=Z(T,l),T.forEach(c),o=E(M),a=_(M,"DIV",{class:!0});var D=v(a);i=Z(D,f),D.forEach(c),p=E(M),w=_(M,"DIV",{class:!0});var I=v(w);h=_(I,"BUTTON",{class:!0,"aria-label":!0});var L=v(h);g=Z(L,m),L.forEach(c),I.forEach(c),M.forEach(c),this.h()},h(){u(t,"class","text-xl font-medium"),u(a,"class","mt-1 text-sm dark:text-gray-300"),u(h,"class","px-4 py-1.5 text-sm rounded-full bg-black hover:bg-gray-800 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition font-medium flex items-center space-x-1"),u(h,"aria-label",k=s[8].t("Create Group")),u(w,"class","mt-3"),u(e,"class","flex flex-col items-center justify-center h-40")},m(y,M){F(y,e,M),n(e,t),n(t,r),n(e,o),n(e,a),n(a,i),n(e,p),n(e,w),n(w,h),n(h,g),C||(V=be(h,"click",s[16]),C=!0)},p(y,M){M&256&&l!==(l=y[8].t("Organize your users")+"")&&J(r,l),M&256&&f!==(f=y[8].t("Use groups to group your users and assign permissions.")+"")&&J(i,f),M&256&&m!==(m=y[8].t("Create Group")+"")&&J(g,m),M&256&&k!==(k=y[8].t("Create Group"))&&u(h,"aria-label",k)},i:Ye,o:Ye,d(y){y&&c(e),C=!1,V()}}}function Dr(s){let e,t,l,r;return t=new Jn({props:{group:s[21],users:s[0],setGroups:s[10]}}),{c(){e=d("div"),re(t.$$.fragment),l=$(),this.h()},l(o){e=_(o,"DIV",{class:!0});var a=v(e);ae(t.$$.fragment,a),l=E(a),a.forEach(c),this.h()},h(){u(e,"class","my-2")},m(o,a){F(o,e,a),ne(t,e,null),n(e,l),r=!0},p(o,a){const f={};a&16&&(f.group=o[21]),a&1&&(f.users=o[0]),t.$set(f)},i(o){r||(x(t.$$.fragment,o),r=!0)},o(o){U(t.$$.fragment,o),r=!1},d(o){o&&c(e),oe(t)}}}function no(s){let e,t,l=s[3]&&yr(s);return{c(){l&&l.c(),e=fl()},l(r){l&&l.l(r),e=fl()},m(r,o){l&&l.m(r,o),F(r,e,o),t=!0},p(r,[o]){r[3]?l?(l.p(r,o),o&8&&x(l,1)):(l=yr(r),l.c(),x(l,1),l.m(e.parentNode,e)):l&&(Be(),U(l,1,1,()=>{l=null}),He())},i(r){t||(x(l),t=!0)},o(r){U(l),t=!1},d(r){r&&c(e),l&&l.d(r)}}}function oo(s,e,t){let l,r;$t(s,xs,b=>t(20,l=b)),Rt.extend(Tr);const o=el("i18n");$t(s,o,b=>t(8,r=b));let a=!1,{users:f=[]}=e,i=[],p,w="",h={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},sharing:{public_models:!1,public_knowledge:!1,public_prompts:!1,public_tools:!1},chat:{controls:!0,file_upload:!0,delete:!0,edit:!0,temporary:!0,temporary_enforced:!0},features:{web_search:!0,image_generation:!0,code_interpreter:!0}},m=!1,g=!1;const k=async()=>{t(1,i=await sr(localStorage.token))},C=async b=>{await aa(localStorage.token,b).catch(se=>(wt.error(`${se}`),null))&&(wt.success(r.t("Group created successfully")),t(1,i=await sr(localStorage.token)))},V=async b=>{console.log(b.permissions),await Wr(localStorage.token,b.permissions).catch(se=>(wt.error(`${se}`),null))&&(wt.success(r.t("Default permissions updated successfully")),t(5,h=await er(localStorage.token)))};es(async()=>{(l==null?void 0:l.role)!=="admin"?await Vr("/"):(await k(),t(5,h=await er(localStorage.token))),t(3,a=!0)});function y(b){m=b,t(6,m)}function M(){w=this.value,t(2,w)}const T=()=>{t(6,m=!m)},D=()=>{t(6,m=!0)};function I(b){g=b,t(7,g)}function L(b){h=b,t(5,h)}const S=()=>{t(7,g=!0)};return s.$$set=b=>{"users"in b&&t(0,f=b.users)},s.$$.update=()=>{s.$$.dirty&6&&t(4,p=i.filter(b=>{if(w==="")return!0;{let z=b.name.toLowerCase();const se=w.toLowerCase();return z.includes(se)}}))},[f,i,w,a,p,h,m,g,r,o,k,C,V,y,M,T,D,I,L,S]}class io extends Et{constructor(e){super(),yt(this,e,oo,no,bt,{users:0})}}function uo(s){let e,t;return e=new io({props:{users:s[1]}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.users=l[1]),e.$set(o)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function fo(s){let e,t;return e=new gn({props:{users:s[1]}}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.users=l[1]),e.$set(o)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function co(s){let e,t,l,r,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M8.5 4.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM10.9 12.006c.11.542-.348.994-.9.994H2c-.553 0-1.01-.452-.902-.994a5.002 5.002 0 0 1 9.803 0ZM14.002 12h-1.59a2.556 2.556 0 0 0-.04-.29 6.476 6.476 0 0 0-1.167-2.603 3.002 3.002 0 0 1 3.633 1.911c.18.522-.283.982-.836.982ZM12 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"></path></svg>',a,f,i=s[2].t("Overview")+"",p,w,h,m,g,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"></path></svg>',C,V,y=s[2].t("Groups")+"",M,T,D,I,L,S,b,z,se;const A=[fo,uo],q=[];function W(le,P){return le[0]==="overview"?0:le[0]==="groups"?1:-1}return~(L=W(s))&&(S=q[L]=A[L](s)),{c(){e=d("div"),t=d("div"),l=d("button"),r=d("div"),r.innerHTML=o,a=$(),f=d("div"),p=R(i),h=$(),m=d("button"),g=d("div"),g.innerHTML=k,C=$(),V=d("div"),M=R(y),D=$(),I=d("div"),S&&S.c(),this.h()},l(le){e=_(le,"DIV",{class:!0});var P=v(e);t=_(P,"DIV",{id:!0,class:!0});var K=v(t);l=_(K,"BUTTON",{class:!0});var X=v(l);r=_(X,"DIV",{class:!0,"data-svelte-h":!0}),tt(r)!=="svelte-vvpxme"&&(r.innerHTML=o),a=E(X),f=_(X,"DIV",{class:!0});var te=v(f);p=Z(te,i),te.forEach(c),X.forEach(c),h=E(K),m=_(K,"BUTTON",{class:!0});var H=v(m);g=_(H,"DIV",{class:!0,"data-svelte-h":!0}),tt(g)!=="svelte-161uai9"&&(g.innerHTML=k),C=E(H),V=_(H,"DIV",{class:!0});var ee=v(V);M=Z(ee,y),ee.forEach(c),H.forEach(c),K.forEach(c),D=E(P),I=_(P,"DIV",{class:!0});var G=v(I);S&&S.l(G),G.forEach(c),P.forEach(c),this.h()},h(){u(r,"class","self-center mr-2"),u(f,"class","self-center"),u(l,"class",w="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(s[0]==="overview"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(g,"class","self-center mr-2"),u(V,"class","self-center"),u(m,"class",T="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(s[0]==="groups"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(t,"id","users-tabs-container"),u(t,"class","flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),u(I,"class","flex-1 mt-1 lg:mt-0 overflow-y-scroll"),u(e,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4")},m(le,P){F(le,e,P),n(e,t),n(t,l),n(l,r),n(l,a),n(l,f),n(f,p),n(t,h),n(t,m),n(m,g),n(m,C),n(m,V),n(V,M),n(e,D),n(e,I),~L&&q[L].m(I,null),b=!0,z||(se=[be(l,"click",s[4]),be(m,"click",s[5])],z=!0)},p(le,[P]){(!b||P&4)&&i!==(i=le[2].t("Overview")+"")&&J(p,i),(!b||P&1&&w!==(w="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(le[0]==="overview"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(l,"class",w),(!b||P&4)&&y!==(y=le[2].t("Groups")+"")&&J(M,y),(!b||P&1&&T!==(T="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(le[0]==="groups"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(m,"class",T);let K=L;L=W(le),L===K?~L&&q[L].p(le,P):(S&&(Be(),U(q[K],1,1,()=>{q[K]=null}),He()),~L?(S=q[L],S?S.p(le,P):(S=q[L]=A[L](le),S.c()),x(S,1),S.m(I,null)):S=null)},i(le){b||(x(S),b=!0)},o(le){U(S),b=!1},d(le){le&&c(e),~L&&q[L].d(),z=!1,cl(se)}}}function _o(s,e,t){let l,r;$t(s,xs,h=>t(7,l=h));const o=el("i18n");$t(s,o,h=>t(2,r=h));let a=[],f="overview";const i=async()=>{t(1,a=await Kl(localStorage.token))};es(async()=>{(l==null?void 0:l.role)!=="admin"?await Vr("/"):t(1,a=await Kl(localStorage.token));const h=document.getElementById("users-tabs-container");h&&h.addEventListener("wheel",function(m){m.deltaY!==0&&(h.scrollLeft+=m.deltaY)})});const p=()=>{t(0,f="overview")},w=()=>{t(0,f="groups")};return s.$$.update=()=>{s.$$.dirty&1&&f&&i()},[f,a,r,o,p,w]}class ho extends Et{constructor(e){super(),yt(this,e,_o,co,bt,{})}}function mo(s){let e,t;return e=new ho({}),{c(){re(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,r){ne(e,l,r),t=!0},p:Ye,i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}class Wo extends Et{constructor(e){super(),yt(this,e,null,mo,bt,{})}}export{Wo as component};
//# sourceMappingURL=14.CcKNSsqs.js.map
