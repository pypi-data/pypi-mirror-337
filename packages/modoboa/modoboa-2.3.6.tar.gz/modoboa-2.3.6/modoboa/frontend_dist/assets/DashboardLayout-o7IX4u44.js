import{_ as de,r as Re,o as V,c as I,w as k,a as v,T as me,g as Ne,e as U,h as $e,v as Ye,s as L,i as g,j as He,d as q,k as Y,l as fe,C as Oe,m as z,n as he,p as ge,q as ye,x as We,y as pe,z as we,A as Ue,B as be,D as le,E as ze,F as ke,G as H,H as Xe,I as W,J as R,K as Se,L as Fe,u as Ge,M as je,N as qe,O as Ze,b as xe,P as Ke,Q as Je,t as X,R as $,S as j,U as F,V as Z,f as _e,W as Qe,X as et,Y as tt,Z as at,$ as nt,a0 as ot}from"./index-Bbkf9DIc.js";import{V as lt}from"./VContainer-D7EM81q4.js";import{V as it,a as st}from"./VApp-CJ2Xd3a3.js";import{p as ie}from"./parameters-0JGAlobG.js";import{m as rt,u as Ve,a as ut,V as ct,b as vt,c as se}from"./VMenu-pbjiSmmM.js";import{m as dt,a as mt,b as Ce,u as ft,c as ht,d as Ae,e as gt,t as yt,V as Me,f as Pe,g as J,h as K,i as pt,j as wt,k as bt,l as kt,n as St,o as xt,p as _t}from"./index-CDn75bM3.js";import{V as Vt}from"./VAvatar-CcSwNzJ2.js";import{V as re,a as G,b as Ct,c as At,f as Mt}from"./forwardRefs-zpUiuLw8.js";import{u as ue}from"./VProgressCircular-o4TPEeLK.js";import{m as Pt,a as Tt,u as Te}from"./tag-BgJ4tZGv.js";import{m as Bt,u as Et,V as Dt,a as It}from"./layout-DV5w2vHk.js";import{u as Lt}from"./ssrBoot-C8G7_1W2.js";/* empty css              */import"./dimensions-CxFA8Z4w.js";const Rt={__name:"DashboardView",setup(e){return(s,l)=>{const u=Re("router-view");return V(),I(it,null,{default:k(()=>[v(lt,{fluid:""},{default:k(()=>[v(u,null,{default:k(({Component:t})=>[v(me,{name:"fade"},{default:k(()=>[Ne(U("div",null,[(V(),I($e(t)))],512),[[Ye,!0]])]),_:2},1024)]),_:1})]),_:1})]),_:1})}}},Nt=de(Rt,[["__scopeId","data-v-6283f1ba"]]),$t="/new-admin/assets/Modoboa_RVB-BLANC-SANS-BBGoASES.png";function Yt(e){let{rootEl:s,isSticky:l,layoutItemStyles:u}=e;const t=L(!1),d=L(0),n=g(()=>{const r=typeof t.value=="boolean"?"top":t.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[r]:He(d.value)}:{top:u.value.top}]});q(()=>{Y(l,r=>{r?window.addEventListener("scroll",b,{passive:!0}):window.removeEventListener("scroll",b)},{immediate:!0})}),fe(()=>{window.removeEventListener("scroll",b)});let m=0;function b(){const r=m>window.scrollY?"up":"down",y=s.value.getBoundingClientRect(),p=parseFloat(u.value.top??0),w=window.scrollY-Math.max(0,d.value-p),S=y.height+Math.max(d.value,p)-window.scrollY-window.innerHeight,x=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;y.height<window.innerHeight-p?(t.value="top",d.value=p):r==="up"&&t.value==="bottom"||r==="down"&&t.value==="top"?(d.value=window.scrollY+y.top-x,t.value=!0):r==="down"&&S<=0?(d.value=0,t.value="bottom"):r==="up"&&w<=0&&(x?t.value!=="top"&&(d.value=-w+x+p,t.value="top"):(d.value=y.top+w,t.value="top")),m=window.scrollY}return{isStuck:t,stickyStyles:n}}const Ht=100,Ot=20;function ce(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ve(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let s=0;for(let l=e.length-1;l>0;l--){if(e[l].t===e[l-1].t)continue;const u=ce(s),t=(e[l].d-e[l-1].d)/(e[l].t-e[l-1].t);s+=(t-u)*Math.abs(t),l===e.length-1&&(s*=.5)}return ce(s)*1e3}function Wt(){const e={};function s(t){Array.from(t.changedTouches).forEach(d=>{(e[d.identifier]??(e[d.identifier]=new Oe(Ot))).push([t.timeStamp,d])})}function l(t){Array.from(t.changedTouches).forEach(d=>{delete e[d.identifier]})}function u(t){var r;const d=(r=e[t])==null?void 0:r.values().reverse();if(!d)throw new Error(`No samples for touch id ${t}`);const n=d[0],m=[],b=[];for(const y of d){if(n[0]-y[0]>Ht)break;m.push({t:y[0],d:y[1].clientX}),b.push({t:y[0],d:y[1].clientY})}return{x:ve(m),y:ve(b),get direction(){const{x:y,y:p}=this,[w,S]=[Math.abs(y),Math.abs(p)];return w>S&&y>=0?"right":w>S&&y<=0?"left":S>w&&p>=0?"down":S>w&&p<=0?"up":Ut()}}}return{addMovement:s,endTouch:l,getVelocity:u}}function Ut(){throw new Error}function zt(e){let{el:s,isActive:l,isTemporary:u,width:t,touchless:d,position:n}=e;q(()=>{window.addEventListener("touchstart",M,{passive:!0}),window.addEventListener("touchmove",C,{passive:!1}),window.addEventListener("touchend",E,{passive:!0})}),fe(()=>{window.removeEventListener("touchstart",M),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",E)});const m=g(()=>["left","right"].includes(n.value)),{addMovement:b,endTouch:r,getVelocity:y}=Wt();let p=!1;const w=L(!1),S=L(0),x=L(0);let _;function T(c,f){return(n.value==="left"?c:n.value==="right"?document.documentElement.clientWidth-c:n.value==="top"?c:n.value==="bottom"?document.documentElement.clientHeight-c:O())-(f?t.value:0)}function B(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const o=n.value==="left"?(c-x.value)/t.value:n.value==="right"?(document.documentElement.clientWidth-c-x.value)/t.value:n.value==="top"?(c-x.value)/t.value:n.value==="bottom"?(document.documentElement.clientHeight-c-x.value)/t.value:O();return f?Math.max(0,Math.min(1,o)):o}function M(c){if(d.value)return;const f=c.changedTouches[0].clientX,o=c.changedTouches[0].clientY,i=25,a=n.value==="left"?f<i:n.value==="right"?f>document.documentElement.clientWidth-i:n.value==="top"?o<i:n.value==="bottom"?o>document.documentElement.clientHeight-i:O(),h=l.value&&(n.value==="left"?f<t.value:n.value==="right"?f>document.documentElement.clientWidth-t.value:n.value==="top"?o<t.value:n.value==="bottom"?o>document.documentElement.clientHeight-t.value:O());(a||h||l.value&&u.value)&&(_=[f,o],x.value=T(m.value?f:o,l.value),S.value=B(m.value?f:o),p=x.value>-20&&x.value<80,r(c),b(c))}function C(c){const f=c.changedTouches[0].clientX,o=c.changedTouches[0].clientY;if(p){if(!c.cancelable){p=!1;return}const a=Math.abs(f-_[0]),h=Math.abs(o-_[1]);(m.value?a>h&&a>3:h>a&&h>3)?(w.value=!0,p=!1):(m.value?h:a)>3&&(p=!1)}if(!w.value)return;c.preventDefault(),b(c);const i=B(m.value?f:o,!1);S.value=Math.max(0,Math.min(1,i)),i>1?x.value=T(m.value?f:o,!0):i<0&&(x.value=T(m.value?f:o,!1))}function E(c){if(p=!1,!w.value)return;b(c),w.value=!1;const f=y(c.changedTouches[0].identifier),o=Math.abs(f.x),i=Math.abs(f.y);(m.value?o>i&&o>400:i>o&&i>3)?l.value=f.direction===({left:"right",right:"left",top:"down",bottom:"up"}[n.value]||O()):l.value=S.value>.5}const D=g(()=>w.value?{transform:n.value==="left"?`translateX(calc(-100% + ${S.value*t.value}px))`:n.value==="right"?`translateX(calc(100% - ${S.value*t.value}px))`:n.value==="top"?`translateY(calc(-100% + ${S.value*t.value}px))`:n.value==="bottom"?`translateY(calc(100% - ${S.value*t.value}px))`:O(),transition:"none"}:void 0);return z(w,()=>{var o,i;const c=((o=s.value)==null?void 0:o.style.transform)??null,f=((i=s.value)==null?void 0:i.style.transition)??null;he(()=>{var a,h,P,N;(h=s.value)==null||h.style.setProperty("transform",((a=D.value)==null?void 0:a.transform)||"none"),(N=s.value)==null||N.style.setProperty("transition",((P=D.value)==null?void 0:P.transition)||null)}),ge(()=>{var a,h;(a=s.value)==null||a.style.setProperty("transform",c),(h=s.value)==null||h.style.setProperty("transition",f)})}),{isDragging:w,dragProgress:S,dragStyles:D}}function O(){throw new Error}const Xt=["start","end","left","right","top","bottom"],Ft=ye({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Xt.includes(e)},sticky:Boolean,...dt(),...Pt(),...rt(),...We({mobile:null}),...mt(),...Bt(),...Ce(),...Tt({tag:"nav"}),...pe()},"VNavigationDrawer"),Gt=we()({name:"VNavigationDrawer",props:Ft(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,s){let{attrs:l,emit:u,slots:t}=s;const{isRtl:d}=Ue(),{themeClasses:n}=be(e),{borderClasses:m}=ft(e),{backgroundColorClasses:b,backgroundColorStyles:r}=ue(le(e,"color")),{elevationClasses:y}=ht(e),{displayClasses:p,mobile:w}=ze(e),{roundedClasses:S}=Ae(e),x=gt(),_=ke(e,"modelValue",null,A=>!!A),{ssrBootStyles:T}=Lt(),{scopeId:B}=Ve(),M=H(),C=L(!1),{runOpenDelay:E,runCloseDelay:D}=ut(e,A=>{C.value=A}),c=g(()=>e.rail&&e.expandOnHover&&C.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),f=g(()=>yt(e.location,d.value)),o=g(()=>e.persistent),i=g(()=>!e.permanent&&(w.value||e.temporary)),a=g(()=>e.sticky&&!i.value&&f.value!=="bottom");z(()=>e.expandOnHover&&e.rail!=null,()=>{Y(C,A=>u("update:rail",!A))}),z(()=>!e.disableResizeWatcher,()=>{Y(i,A=>!e.permanent&&Se(()=>_.value=!A))}),z(()=>!e.disableRouteWatcher&&!!x,()=>{Y(x.currentRoute,()=>i.value&&(_.value=!1))}),Y(()=>e.permanent,A=>{A&&(_.value=!0)}),e.modelValue==null&&!i.value&&(_.value=e.permanent||!w.value);const{isDragging:h,dragProgress:P}=zt({el:M,isActive:_,isTemporary:i,width:c,touchless:le(e,"touchless"),position:f}),N=g(()=>{const A=i.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):c.value;return h.value?A*P.value:A}),Be=g(()=>["top","bottom"].includes(e.location)?0:c.value),{layoutItemStyles:Q,layoutItemScrimStyles:Ee,layoutIsReady:De}=Et({id:e.name,order:g(()=>parseInt(e.order,10)),position:f,layoutSize:N,elementSize:Be,active:g(()=>_.value||h.value),disableTransitions:g(()=>h.value),absolute:g(()=>e.absolute||a.value&&typeof ee.value!="string")}),{isStuck:ee,stickyStyles:Ie}=Yt({rootEl:M,isSticky:a,layoutItemStyles:Q}),te=ue(g(()=>typeof e.scrim=="string"?e.scrim:null)),Le=g(()=>({...h.value?{opacity:P.value*.2,transition:"none"}:void 0,...Ee.value}));return Xe({VList:{bgColor:"transparent"}}),Te(()=>{const A=t.image||e.image;return v(R,null,[v(e.tag,W({ref:M,onMouseenter:E,onMouseleave:D,class:["v-navigation-drawer",`v-navigation-drawer--${f.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":C.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":i.value,"v-navigation-drawer--persistent":o.value,"v-navigation-drawer--active":_.value,"v-navigation-drawer--sticky":a.value},n.value,b.value,m.value,p.value,y.value,S.value,e.class],style:[r.value,Q.value,T.value,Ie.value,e.style,["top","bottom"].includes(f.value)?{height:"auto"}:{}]},B,l),{default:()=>{var ae,ne,oe;return[A&&v("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?v(Pe,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):v(Me,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&v("div",{class:"v-navigation-drawer__prepend"},[(ae=t.prepend)==null?void 0:ae.call(t)]),v("div",{class:"v-navigation-drawer__content"},[(ne=t.default)==null?void 0:ne.call(t)]),t.append&&v("div",{class:"v-navigation-drawer__append"},[(oe=t.append)==null?void 0:oe.call(t)])]}}),v(me,{name:"fade-transition"},{default:()=>[i.value&&(h.value||_.value)&&!!e.scrim&&v("div",W({class:["v-navigation-drawer__scrim",te.backgroundColorClasses.value],style:[Le.value,te.backgroundColorStyles.value],onClick:()=>{o.value||(_.value=!1)}},B),null)]})])}),De.then(()=>({isStuck:ee}))}}),jt={class:"d-flex align-center"},qt={class:"text-white headline"},Zt={class:"mx-2"},Kt={__name:"NavBar",setup(e){const s=Fe(),l=Ge(),u=je(),t=qe(),d=Ze(),{$gettext:n}=xe(),m=H(!1),b=H(!0),r=g(()=>l.authUser),y=g(()=>l.isAuthenticated),p=g(()=>t.meta.layout==="account"?"bg-grey-darken-1":"bg-primary-darken-1"),w=g(()=>{let o=null;return r.value.first_name&&(o=r.value.first_name[0]),r.value.last_name&&(o=o?o+r.value.last_name[0]:r.value.last_name[0]),o||(o=r.value.username[0]),o}),S=g(()=>r.value.first_name||r.value.last_name?`${r.value.first_name} ${r.value.last_name}`:r.value.username),x=g(()=>t.meta.layout==="account"?D():C),_=g(()=>t.meta.layout==="account"?"grey":"primary"),T=g(()=>u.imapMigrationEnabled),B=g(()=>s.notifications.length!==void 0&&s.notifications.length!==0),M=[],C=[{text:n("Dashboard"),to:{name:"Dashboard"},exact:!0,icon:"mdi-view-dashboard-outline"},{text:n("Domains"),to:{name:"DomainList"},icon:"mdi-domain",roles:["DomainAdmins","Resellers","SuperAdmins"]},{text:n("Identities"),to:{name:"Identities"},icon:"mdi-account",roles:["DomainAdmins","Resellers","SuperAdmins"]},{text:n("Alarms"),to:{name:"Alarms"},icon:"mdi-bell"},{icon:"mdi-history",text:n("Monitoring"),roles:["SuperAdmins","Resellers","DomainAdmins"],children:[{text:n("Statistics"),to:{name:"Statistics"},roles:["SuperAdmins"]},{text:n("Audit trail"),to:{name:"AuditTrail"},roles:["SuperAdmins"]},{text:n("Messages"),to:{name:"MessageLog"},roles:["DomainAdmins","Resellers","SuperAdmins"]}]},{icon:"mdi-email-sync-outline",text:n("IMAP Migration"),roles:["SuperAdmins","Resellers"],children:[{text:n("Email providers"),to:{name:"ProvidersList"},roles:["SuperAdmins","Resellers"]},{text:n("Migrations"),to:{name:"MigrationsList"},roles:["Resellers","SuperAdmins"]}]},{icon:"mdi-cog",text:n("Settings"),children:M,roles:["SuperAdmins"]},{icon:"mdi-information",text:n("Information"),roles:["SuperAdmins"],to:{name:"Information"},withBell:!0}],E=[{text:n("Account"),icon:"mdi-account-circle-outline",to:{name:"AccountSettings"},click:()=>null},{text:n("Logout"),icon:"mdi-logout",click:f}];y.value&&r.value.role!=="SimpleUsers"&&E.unshift({text:n("Admin"),to:{name:"Dashboard"},icon:"mdi-view-dashboard-outline"});function D(){const o=[];return r.value.mailbox&&o.push({text:n("Filters"),to:{name:"AccountFilters"},icon:"mdi-filter"}),o.push({text:n("Settings"),to:{name:"AccountSettings"},icon:"mdi-cog"}),o}function c(o){if(y.value){const i=(o.roles===void 0||o.roles.indexOf(r.value.role)!==-1)&&(o.condition===void 0||o.condition())&&o.activated!==!1;return o.icon==="mdi-email-sync-outline"?i&&T.value:i}}async function f(){Ke()._s.forEach(async o=>await o.$reset())}return q(()=>{r.value.role==="SuperAdmins"&&(ie.getApplications().then(o=>{o.data.forEach(i=>{M.push({text:i.label,to:{name:"ParametersEdit",params:{app:i.name}}})})}),s.fetchNotifications(),u.imapMigrationEnabled===null&&ie.getApplication("imap_migration").then(o=>{u.imapMigrationEnabled=o.data.params.enabled_imapmigration}))}),(o,i)=>(V(),I(Gt,{modelValue:b.value,"onUpdate:modelValue":i[2]||(i[2]=a=>b.value=a),rail:m.value,permanent:"",color:_.value,app:""},{append:k(()=>[y.value?(V(),I(ct,{key:0,rounded:"lg","offset-y":"",top:""},{activator:k(({props:a})=>[U("div",{class:Je([p.value,"d-flex","justify-center","align-center","pa-2"])},[v(J,W(a,{class:[p.value,"text-white"],rounded:"",density:"compact",height:"48",elevation:"0"}),{default:k(()=>[v(Vt,{size:"40",color:"primary"},{default:k(()=>[U("span",qt,X(w.value),1)]),_:1}),m.value?F("",!0):(V(),$(R,{key:0},[U("span",Zt,X(S.value),1),v(K,{class:"float-right"},{default:k(()=>[j("mdi-chevron-up")]),_:1})],64))]),_:2},1040,["class"])],2)]),default:k(()=>[v(re,null,{default:k(()=>[(V(),$(R,null,Z(E,a=>v(G,{key:a.text,to:a.to,link:"",onClick:a.click},{prepend:k(()=>[v(K,{icon:a.icon},null,8,["icon"])]),default:k(()=>[v(Ct,null,{default:k(()=>[j(X(a.text),1)]),_:2},1024)]),_:2},1032,["to","onClick"])),64))]),_:1})]),_:1})):F("",!0)]),default:k(()=>[U("div",jt,[v(Me,{src:$t,"max-width":"190",class:"logo",onClick:i[0]||(i[0]=a=>_e(d).push({name:"Dashboard"}))}),v(J,{icon:m.value?"mdi-chevron-right":"mdi-chevron-left",variant:"text",onClick:i[1]||(i[1]=Qe(a=>m.value=!m.value,["stop"]))},null,8,["icon"])]),v(re,{nav:""},{default:k(()=>[(V(!0),$(R,null,Z(x.value,a=>(V(),$(R,{key:a.text},[c(a)?(V(),$(R,{key:0},[a.children?(V(),I(At,{key:1,value:a.text},{activator:k(({props:h})=>[(V(),I(G,W({ref_for:!0},h,{key:a.text,title:a.text,color:"white","prepend-icon":a.icon}),null,16,["title","prepend-icon"]))]),default:k(()=>[(V(!0),$(R,null,Z(a.children,h=>(V(),$(R,{key:h.text},[c(h)?(V(),I(G,{key:0,to:h.to,link:"",title:h.text,value:h},null,8,["to","title","value"])):F("",!0)],64))),128))]),_:2},1032,["value"])):(V(),I(G,{key:0,value:a,to:a.to,link:"",exact:a.exact,title:a.text,"prepend-icon":a.icon},et({_:2},[a.withBell&&B.value?{name:"append",fn:k(()=>[v(K,{color:"red",icon:"mdi-bell-alert-outline"})]),key:"0"}:void 0]),1032,["value","to","exact","title","prepend-icon"]))],64)):F("",!0)],64))),128))]),_:1})]),_:1},8,["modelValue","rail","color"]))}},Jt=de(Kt,[["__scopeId","data-v-bc7c34bc"]]);function Qt(e){const s=L(e);let l=-1;function u(){clearInterval(l)}function t(){u(),Se(()=>s.value=e)}function d(n){const m=n?getComputedStyle(n):{transitionDuration:.2},b=parseFloat(m.transitionDuration)*1e3||200;if(u(),s.value<=0)return;const r=performance.now();l=window.setInterval(()=>{const y=performance.now()-r+b;s.value=Math.max(e-y,0),s.value<=0&&u()},b)}return ge(u),{clear:u,time:s,start:d,reset:t}}const ea=ye({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...pt({location:"bottom"}),...wt(),...Ce(),...bt(),...pe(),...tt(vt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),ta=we()({name:"VSnackbar",props:ea(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:l}=s;const u=ke(e,"modelValue"),{positionClasses:t}=kt(e),{scopeId:d}=Ve(),{themeClasses:n}=be(e),{colorClasses:m,colorStyles:b,variantClasses:r}=St(e),{roundedClasses:y}=Ae(e),p=Qt(Number(e.timeout)),w=H(),S=H(),x=L(!1),_=L(0),T=H(),B=at(Dt,void 0);z(()=>!!B,()=>{const a=It();he(()=>{T.value=a.mainStyles.value})}),Y(u,C),Y(()=>e.timeout,C),q(()=>{u.value&&C()});let M=-1;function C(){p.reset(),window.clearTimeout(M);const a=Number(e.timeout);if(!u.value||a===-1)return;const h=nt(S.value);p.start(h),M=window.setTimeout(()=>{u.value=!1},a)}function E(){p.reset(),window.clearTimeout(M)}function D(){x.value=!0,E()}function c(){x.value=!1,C()}function f(a){_.value=a.touches[0].clientY}function o(a){Math.abs(_.value-a.changedTouches[0].clientY)>50&&(u.value=!1)}const i=g(()=>e.location.split(" ").reduce((a,h)=>(a[`v-snackbar--${h}`]=!0,a),{}));return Te(()=>{const a=se.filterProps(e),h=!!(l.default||l.text||e.text);return v(se,W({ref:w,class:["v-snackbar",{"v-snackbar--active":u.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},i.value,t.value,e.class],style:[T.value,e.style]},a,{modelValue:u.value,"onUpdate:modelValue":P=>u.value=P,contentProps:W({class:["v-snackbar__wrapper",n.value,m.value,y.value,r.value],style:[b.value],onPointerenter:D,onPointerleave:c},a.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:f,onTouchend:o},d),{default:()=>{var P,N;return[xt(!1,"v-snackbar"),e.timer&&!x.value&&v("div",{key:"timer",class:"v-snackbar__timer"},[v(_t,{ref:S,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":p.time.value},null)]),h&&v("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((P=l.text)==null?void 0:P.call(l))??e.text,(N=l.default)==null?void 0:N.call(l)]),l.actions&&v(Pe,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[v("div",{class:"v-snackbar__actions"},[l.actions({isActive:u})])]})]},activator:l.activator})}),Mt({},w)}}),aa=2e3,ya={__name:"DashboardLayout",setup(e){const s=ot(),{$gettext:l}=xe(),u=g(()=>s.notificationColor),t=g(()=>s.notification),d=H(!1);return s.$onAction(({name:n,after:m})=>{n==="displayNotification"&&m(()=>{d.value=!0})},!0),(n,m)=>(V(),I(st,null,{default:k(()=>[v(Jt),v(Nt),v(ta,{modelValue:d.value,"onUpdate:modelValue":m[1]||(m[1]=b=>d.value=b),color:u.value,timeout:aa,location:"top"},{actions:k(()=>[v(J,{color:"white",text:"",onClick:m[0]||(m[0]=b=>d.value=!1)},{default:k(()=>[j(X(_e(l)("Close")),1)]),_:1})]),default:k(()=>[j(X(t.value)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}};export{ya as default};
