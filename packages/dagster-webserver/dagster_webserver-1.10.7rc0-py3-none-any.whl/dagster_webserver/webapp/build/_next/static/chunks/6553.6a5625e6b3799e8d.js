"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6553],{16553:function(e,n,t){t.r(n),t.d(n,{RunRoot:function(){return eG},default:function(){return eW}});var i=t(73235),o=t(52322),s=t(48177),l=t(71018),r=t(54854),a=t(15997),c=t(18984),u=t(3217),d=t(56328),p=t(2784),x=t(7267),h=t(47933),g=t(8941),m=t(26834),v=t(94466),j=t(27100),y=t(44067),f=t(13543),S=t(35505),I=t(89628),w=t(54786),k=t(13070),C=t(4226),O=t(63827),b=t(38995),E=t(15569),N=t(4993),R=t(75665),T=t(13547),_=t(71498),D=t(34515),L=t(9628),P=t(46473),F=t(40552),A=t(84991),V=t(93781);let K=e=>{(0,p.useEffect)(()=>{let n=document.querySelector('link[rel="icon"][type="image/svg+xml"]');if(!n)return;let t=n.getAttribute("href");return n.setAttribute("href",e),()=>{t&&n.setAttribute("href",t)}},[e])};var z=t(22710),U=t(56806),J=t(49515);let M=e=>{switch(e){case A.VOA.FAILURE:return"/favicon-run-failed.svg";case A.VOA.SUCCESS:return"/favicon-run-success.svg";case A.VOA.STARTING:case A.VOA.STARTED:case A.VOA.CANCELING:return"/favicon-run-pending.svg";default:return"/favicon.svg"}},q=(0,p.memo)(e=>{let{run:n,runId:t}=e,[i,s]=(0,R.Bz)(),[l,r]=(0,z.q)({queryKey:"selection",defaults:{selection:""}});K(n?M(n.status):"/favicon.svg"),(0,V.j)(n?"".concat((0,L.pv)(n.pipelineName)?"":n.pipelineName," ").concat(t.slice(0,8)," [").concat(n.status,"]"):"Run: ".concat(t));let a=(e,n)=>{let t=n.find(n=>"ExecutionStepFailureEvent"===n.__typename&&n.stepKey===e);t&&(0,T._K)({body:(0,o.jsx)(D.T9,{error:t})})},c=e=>{r(e),s({...i,logQuery:"*"!==e?[{token:"query",value:e}]:[]})},u=(0,U.FE)("RunLogs");return(0,o.jsx)(b.A.Provider,{value:n,children:(0,o.jsx)(w.C,{runId:t,children:e=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Q,{dependency:u,logs:e}),(0,o.jsx)(E.jp,{logs:e,children:r=>(0,o.jsx)(H,{run:n,runId:t,logs:e,logsFilter:i,metadata:r,selectionQuery:l,onSetLogsFilter:s,onSetSelectionQuery:c,onShowStateDetails:a})})]})},t)})}),Q=e=>{let{dependency:n,logs:t}=e;return(0,p.useLayoutEffect)(()=>{t.loading||n.completeDependency(U.Os.SUCCESS)},[n,t]),null},$=e=>{switch(e){case"stdout":return C.hi.stdout;case"stderr":return C.hi.stderr;default:return C.hi.structured}},H=e=>{let{run:n,runId:t,logs:i,logsFilter:l,metadata:r,selectionQuery:c,onSetLogsFilter:u,onSetSelectionQuery:d}=e,x=(0,_.vR)(f.T.flagSelectionSyntax),[h,S]=(0,z.q)({queryKey:"logType",defaults:{logType:C.hi.structured}}),w=$(h),[b,E]=(0,p.useState)(null),R=JSON.stringify(Object.keys(r.steps).sort()),T=(0,p.useMemo)(()=>JSON.parse(R),[R]),D=(null==n?void 0:n.executionPlan)&&(0,F.J)(null==n?void 0:n.executionPlan,r.steps),L=(0,p.useMemo)(()=>D&&c&&"*"!==c?(0,J.Z)(D,c).all.map(e=>e.name):[],[D,c]),A=(0,p.useMemo)(()=>({query:c,keys:L}),[L,c]),{logCaptureInfo:V,computeLogFileKey:K,setComputeLogFileKey:U}=(0,N.r)({stepKeys:T,selectionStepKeys:L,metadata:r,defaultToFirstStep:!1}),M=(0,p.useMemo)(()=>D?l.logQuery.filter(e=>e.token&&"query"===e.token).reduce((e,n)=>(e.push(...(0,J.Z)(D,n.value).all.map(e=>e.name)),e),[]):[],[l.logQuery,D]),[q,Q]=(0,p.useState)(null),H=(0,p.useRef)(null);(0,p.useLayoutEffect)(()=>{if(H.current){let e=H.current.getSize();100===e?Q("top"):0===e&&Q("bottom")}},[]);let W="top"===q,Z="bottom"===q,X=()=>{var e;null===(e=H.current)||void 0===e||e.changeSize(50),Q(null)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(y.O,{ref:H,axis:"vertical",identifier:"run-gantt",firstInitialPercent:35,firstMinSize:56,first:n?"QUEUED"===n.status?(0,o.jsx)(P.Fu,{run:n}):n.executionPlan&&D?(0,o.jsx)(g.S,{region:"gantt chart",children:(0,o.jsx)(P.hj,{options:{mode:P.hS.WATERFALL_TIMED},toolbarActions:(0,o.jsxs)(s.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,o.jsx)(m.u,{content:W?"Collapse":"Expand",children:(0,o.jsx)(v.zx,{icon:(0,o.jsx)(j.JO,{name:W?"collapse_arrows":"expand_arrows"}),onClick:W?X:()=>{var e;null===(e=H.current)||void 0===e||e.changeSize(100),Q("top")}})}),(0,o.jsx)(O.NX,{run:n,graph:D,metadata:r,selection:A})]}),runId:t,graph:D,metadata:r,selection:A,onClickStep:(e,n)=>{let t=L.indexOf(e),i=[],o='"'.concat(e,'"'),s=c;if(n.shiftKey){var l,a;i=[...L.map(e=>c.includes('"'.concat(e,'"'))?'"'.concat(e,'"'):e)],-1!==t?x?(l=s,s="(".concat(l,') and not name:"').concat(e,'"')):i.splice(t,1):x?(a=s,s="(".concat(a,') or name:"').concat(e,'"')):i.push(o)}else if(1===L.length&&-1!==t)x?s="":i=[];else{x?s='name:"'.concat(e,'"'):i=[o];let n=(0,N.c)(r.logCaptureSteps,e);n&&U(n)}x?d(s):d(i.join(", ")||"*")},onSetSelection:d,focusedTime:l.focusedTime})}):(0,o.jsx)(a.t,{icon:"error",title:"Unable to build execution plan"}):(0,o.jsx)(P.ZW,{runId:t}),secondMinSize:56,second:(0,o.jsx)(g.S,{region:"logs",children:(0,o.jsxs)(B,{children:[(0,o.jsx)(C.KZ,{logType:w,onSetLogType:e=>S(C.hi[e]),filter:l,onSetFilter:u,steps:T,metadata:r,computeLogFileKey:K,onSetComputeLogKey:U,computeLogUrl:b,counts:i.counts,isSectionExpanded:Z,toggleExpanded:Z?X:()=>{var e;null===(e=H.current)||void 0===e||e.changeSize(0),Q("bottom")}}),w!==C.hi.structured?K?(0,o.jsx)(I.h,{logKey:K?[t,"compute_logs",K]:[],logCaptureInfo:V,visibleIOType:C.hi[w],onSetDownloadUrl:E}):(0,o.jsx)(G,{type:w}):(0,o.jsx)(k.S,{logs:i,filter:l,filterStepKeys:M,filterKey:"".concat(JSON.stringify(l)),metadata:r})]})})})})},B=S.ZP.div.withConfig({componentId:"sc-2fd4c633-0"})(["display:flex;flex-direction:column;height:100%;"]),G=e=>{let{type:n}=e;return(0,o.jsx)(s.x,{flex:{direction:"row",grow:1,alignItems:"center",justifyContent:"center"},style:{background:u.v8()},children:(0,o.jsx)(a.t,{title:"Select a step to view ".concat(n),icon:"warning",description:"Select a step on the Gantt chart or from the dropdown above to view logs."})})};var W=t(79066),Z=t(4760);function X(){let e=(0,i._)(["\n  query RunAssetChecksQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        assetChecks {\n          name\n          assetKey {\n            path\n          }\n        }\n      }\n    }\n  }\n"]);return X=function(){return e},e}let Y=e=>{let{run:n}=e,t=(0,L.pv)(n.pipelineName),{data:i,loading:s}=(0,Z.aM)(ee,{variables:{runId:n.id},skip:t});if(s||!i||"Run"!==i.pipelineRunOrError.__typename)return null;let l=t?n.assetCheckSelection:i.pipelineRunOrError.assetChecks;return(0,o.jsx)(W.ms,{useTags:!0,assetChecks:l})},ee=(0,Z.Ps)(X());var en=t(41349);function et(){let e=(0,i._)(["\n  query RunAssetsQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        assets {\n          id\n          key {\n            path\n          }\n        }\n      }\n    }\n  }\n"]);return et=function(){return e},e}let ei=e=>{let{run:n}=e,t=(0,L.pv)(n.pipelineName),i=(0,Z.aM)(eo,{variables:{runId:n.id},skip:t,fetchPolicy:"no-cache"}),s=(0,p.useMemo)(()=>{let{data:e}=i,o=null;return(null==e?void 0:e.pipelineRunOrError.__typename)==="Run"&&(o=e.pipelineRunOrError.assets.map(e=>e.key)),t?(0,en.Bo)(n):o},[i,n,t]);return(0,o.jsx)(W.mP,{useTags:!0,assetKeys:s})},eo=(0,Z.Ps)(et());var es=t(42266),el=t(56876),er=t(76154),ea=t(60206);let ec=e=>null;var eu=t(76760),ed=t(59596),ep=t(62458),ex=t(26855),eh=t(39361),eg=t(5024);let em=e=>{let{isOpen:n,onClose:t,pools:i}=e;return(0,o.jsxs)(eh.Vq,{isOpen:n,onClose:t,canOutsideClickClose:!0,canEscapeKeyClose:!0,title:"Pools",children:[(0,o.jsx)(s.x,{margin:{horizontal:24,vertical:12},flex:{gap:12},children:i.map(e=>(0,o.jsx)(eg.F,{pool:e},e))}),(0,o.jsx)(eh.cN,{topBorder:!0,children:(0,o.jsx)(v.zx,{onClick:t,intent:"primary",children:"Close"})})]})};var ev=t(20913),ej=t(95426),ey=t(12546),ef=t(29872),eS=t(73347),eI=t(17046),ew=t(6023),ek=t(18328);let eC=e=>{var n,t;let{run:i,isJob:s}=e,{runConfigYaml:l}=i,r=i.hasRunMetricsEnabled,[a,c]=(0,p.useState)(null),{rootServerURI:u}=(0,p.useContext)(ey.I),{refetch:d}=(0,p.useContext)(en.Lw),h=(0,eS.m)(),g=(0,x.k6)(),[y]=(0,Z.Db)(eI.dP),f=async()=>{h(l),await (0,ef.B)({intent:"success",icon:"copy_to_clipboard_done",message:"Copied!"})},S=async()=>{var e;(null===(e=(await y({variables:{runId:i.id}})).data)||void 0===e?void 0:e.freeConcurrencySlots)&&await (0,ef.B)({intent:"success",icon:"check_circle",message:"Freed concurrency slots"})},I=(0,ek.$y)({repositoryName:null===(n=i.repositoryOrigin)||void 0===n?void 0:n.repositoryName,repositoryLocationName:null===(t=i.repositoryOrigin)||void 0===t?void 0:t.repositoryLocationName,run:i,isJob:s});return(0,o.jsxs)("div",{children:[(0,o.jsxs)(el.Z,{direction:"row",spacing:8,children:[(0,o.jsx)(ec,{runId:i.id}),I.disabledReason?(0,o.jsx)(m.u,{content:I.disabledReason,useDisabledButtonTooltipFix:!0,children:(0,o.jsx)(v.zx,{icon:(0,o.jsx)(j.JO,{name:I.icon}),disabled:!0,children:I.label})}):(0,o.jsx)(ew.A,{icon:(0,o.jsx)(j.JO,{name:I.icon}),to:I.to,children:I.label}),(0,o.jsx)(v.zx,{icon:(0,o.jsx)(j.JO,{name:"tag"}),onClick:()=>c("config"),children:"View tags and config"}),i.allPools&&i.allPools.length?(0,o.jsx)(m.u,{content:"View pools",position:"top",targetTagName:"div",children:(0,o.jsx)(v.zx,{icon:(0,o.jsx)(j.JO,{name:"concurrency"}),onClick:()=>c("pools")})}):null,(0,o.jsx)(er.J2,{position:"bottom-right",content:(0,o.jsxs)(ea.v2,{children:[(0,o.jsx)(m.u,{content:"Loadable in dagster-webserver-debug",position:"left",targetTagName:"div",children:(0,o.jsx)(ea.sN,{text:"Download debug file",icon:"download_for_offline",onClick:()=>window.open("".concat(u,"/download_debug/").concat(i.id))})}),i.status===A.VOA.QUEUED?(0,o.jsx)(ea.sN,{tagName:"button",icon:"history_toggle_off",text:"View queue criteria",intent:"none",onClick:()=>c("queue-criteria")}):null,r&&eu.G?(0,o.jsx)(ea.sN,{tagName:"button",icon:"asset_plot",text:"View container metrics",intent:"none",onClick:()=>c("metrics")}):null,i.hasConcurrencyKeySlots&&ev.cv.has(i.status)?(0,o.jsx)(ea.sN,{text:"Free concurrency slots",icon:"lock",onClick:S}):null,i.hasDeletePermission?(0,o.jsx)(ea.sN,{icon:"delete",text:"Delete",intent:"danger",onClick:()=>c("delete")}):null]}),children:(0,o.jsx)(v.zx,{icon:(0,o.jsx)(j.JO,{name:"expand_more"})})})]}),(0,o.jsx)(ex.U,{isOpen:"config"===a,onClose:()=>c(null),copyConfig:()=>f(),mode:i.mode,runConfigYaml:i.runConfigYaml,tags:i.tags,isJob:s}),i.status===A.VOA.QUEUED?(0,o.jsx)(ep.f,{run:i,isOpen:"queue-criteria"===a,onClose:()=>c(null)}):null,r&&eu.G?(0,o.jsx)(eu.G,{runId:i.id,isOpen:"metrics"===a,onClose:()=>c(null)}):null,i.hasDeletePermission?(0,o.jsx)(ed.N,{isOpen:"delete"===a,onClose:()=>c(null),onComplete:()=>{i.repositoryOrigin?g.push((0,ek.jT)({repoName:i.repositoryOrigin.repositoryName,repoLocation:i.repositoryOrigin.repositoryLocationName,pipelineName:i.pipelineName,isJob:s,path:"/runs"})):c(null)},onTerminateInstead:()=>c("terminate"),selectedRuns:{[i.id]:i.canTerminate}}):null,i.hasTerminatePermission?(0,o.jsx)(ej.A,{isOpen:"terminate"===a,onClose:()=>c(null),onComplete:()=>{d()},selectedRuns:{[i.id]:i.canTerminate}}):null,i.allPools&&i.allPools.length?(0,o.jsx)(em,{isOpen:"pools"===a,pools:i.allPools,onClose:()=>c(null)}):null]})};var eO=t(4498),eb=t(86224),eE=t(71813),eN=t(6317),eR=t(26893);let eT=e=>{let{loading:n,run:t}=e;return(0,o.jsxs)(o.Fragment,{children:[(null==t?void 0:t.startTime)?(0,o.jsx)(er.J2,{interactionKind:"hover",placement:"bottom",content:(0,o.jsx)(s.x,{padding:16,children:(0,o.jsx)(eE.s9,{run:t,loading:n})}),children:(0,o.jsx)(r.V,{icon:"schedule",children:(0,o.jsx)(eR.v,{timestamp:t.startTime,timeFormat:{showSeconds:!0,showTimezone:!1}})})}):t.updateTime?(0,o.jsx)(r.V,{icon:"schedule",children:(0,o.jsx)(eR.v,{timestamp:t.updateTime,timeFormat:{showSeconds:!0,showTimezone:!1}})}):void 0,(null==t?void 0:t.startTime)&&(null==t?void 0:t.endTime)?(0,o.jsx)(er.J2,{interactionKind:"hover",placement:"bottom",content:(0,o.jsx)(s.x,{padding:16,children:(0,o.jsx)(eE.s9,{run:t,loading:n})}),children:(0,o.jsx)(r.V,{icon:"timer",children:(0,o.jsx)("span",{style:{fontVariantNumeric:"tabular-nums"},children:(null==t?void 0:t.startTime)?(0,eN.R4)(((null==t?void 0:t.endTime)*1e3||Date.now())-(null==t?void 0:t.startTime)*1e3):"–"})})}):null]})};var e_=t(7055),eD=t(2636),eL=t(45511),eP=t(47333),eF=t(66974),eA=t(91987);let eV=e=>{let{instigationSelector:n,instigationType:t,tickId:i}=e,[l,a]=(0,p.useState)(!1),[c,u]=(0,p.useState)(!1),d=t===eb.H.ScheduleName?"schedule":"sensors",{name:x,repositoryName:h,repositoryLocationName:g}=n,m=(0,eA.kQ)(h,g),v=[{label:"View ".concat(t===eb.H.ScheduleName?"schedule":"sensor"),to:(0,ek.$U)(m,"".concat(t===eb.H.ScheduleName?"/schedules":"/sensors","/").concat(x))},{label:"View tick details",onClick:()=>a(!0)},{label:"View tick logs",onClick:()=>u(!0)}];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eF.c,{actions:v,data:{key:"Launched by",value:x},children:(0,o.jsx)(r.V,{icon:d,children:(0,o.jsxs)(s.x,{flex:{direction:"row"},children:[(0,o.jsx)("span",{children:"Launched by\xa0"}),(0,o.jsx)("div",{style:{maxWidth:"140px"},children:(0,o.jsx)(eD.g,{text:x})})]})})}),(0,o.jsx)(eL.X,{isOpen:l,tickResultType:"runs",onClose:()=>a(!1),instigationSelector:n,tickId:i}),(0,o.jsx)(eP.l,{isOpen:c,onClose:()=>u(!1),instigationSelector:n,tickId:i})]})};var eK=t(96798),ez=t(54123),eU=t(99653),eJ=t(55638);let eM=new Intl.Collator(navigator.language,{sensitivity:"base"}),eq=e=>{var n,t;let{assetKeys:i,evaluationId:l}=e,[a,c]=(0,p.useState)(null),u=(0,p.useMemo)(()=>[...i].sort((e,n)=>eM.compare(e.path.join("/"),n.path.join("/"))),[i]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(er.J2,{placement:"bottom",content:(0,o.jsxs)("div",{style:{width:"400px"},children:[(0,o.jsx)(s.x,{padding:{vertical:8,horizontal:12},border:"bottom",style:{fontWeight:600},children:"Automation condition"}),(0,o.jsx)(s.x,{flex:{direction:"column",gap:16},padding:{vertical:12},style:{maxHeight:"220px",overflowY:"auto"},children:u.map(e=>{let n=(0,eJ.p)(e,{view:"automation",evaluation:l});return(0,o.jsxs)(s.x,{padding:{vertical:8,left:12,right:16},flex:{direction:"row",justifyContent:"space-between",alignItems:"center",gap:16},style:{overflow:"hidden"},children:[(0,o.jsxs)(s.x,{flex:{direction:"row",alignItems:"center",gap:8},style:{overflow:"hidden"},children:[(0,o.jsx)(j.JO,{name:"asset"}),(0,o.jsx)(eD.g,{text:e.path.join("/")})]}),(0,o.jsx)(ez.Z,{onClick:()=>c({assetKeyPath:e.path,evaluationId:l}),style:{whiteSpace:"nowrap"},children:"View evaluation"})]},n)})})]}),interactionKind:"hover",children:(0,o.jsx)(r.V,{icon:"automation_condition",children:"Automation condition"})}),(0,o.jsx)(eU.s,{assetKeyPath:null!==(n=null==a?void 0:a.assetKeyPath)&&void 0!==n?n:[],isOpen:!!a,onClose:()=>c(null),evaluationID:null!==(t=null==a?void 0:a.evaluationId)&&void 0!==t?t:""})]})};var eQ=t(89164),e$=t(32549),eH=t(71271);function eB(){let e=(0,i._)(["\n  query RunRootQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        ...RunPageFragment\n      }\n    }\n  }\n\n  ","\n"]);return eB=function(){return e},e}let eG=()=>{var e;(0,eK.Px)();let{runId:n}=(0,x.UO)();(0,V.j)(n?"Run ".concat(n.slice(0,8)):"Run");let{data:t,loading:i}=(0,Z.aM)(eX,{variables:{runId:n}}),a=(null==t?void 0:t.pipelineRunOrError.__typename)==="Run"?t.pipelineRunOrError:null,c=null==a?void 0:a.pipelineSnapshotId,u=(0,eH.n)(a),d=(null==u?void 0:u.match)?(0,eA.kQ)(u.match.repository.name,u.match.repositoryLocation.name):null,h=(0,p.useMemo)(()=>!!(a&&u&&(0,e$.E8)(u.match,a.pipelineName)),[a,u]),g=(0,p.useMemo)(()=>(null==a?void 0:a.tags.find(e=>e.key===eb.H.AssetEvaluationID))||null,[a]),m=(0,p.useMemo)(()=>{if(d){let e=(null==a?void 0:a.tags)||[],n=e.find(e=>e.key===eb.H.TickId);if(n){let t=e.find(e=>e.key===eb.H.ScheduleName||e.key===eb.H.SensorName);if(t){let e={name:t.value,repositoryName:d.name,repositoryLocationName:d.location};return{tickId:n.value,instigationType:t.key,instigationSelector:e}}}}return null},[a,d]),v=null==a?void 0:a.tags.find(e=>e.key===eb.H.Partition);return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%",overflow:"hidden"},children:[(0,o.jsx)(s.x,{flex:{direction:"row",alignItems:"flex-start"},style:{position:"relative",zIndex:1},children:(0,o.jsx)(l.m,{title:(0,o.jsx)(eY,{run:a,runId:n}),tags:a?(0,o.jsxs)(s.x,{flex:{direction:"row",alignItems:"flex-start",gap:12,wrap:"wrap"},children:[(0,o.jsx)(eO.KG,{status:a.status}),(0,L.pv)(a.pipelineName)?null:(0,o.jsxs)(r.V,{icon:"run",children:["Run of"," ",(0,o.jsx)(eQ.h,{pipelineName:null==a?void 0:a.pipelineName,pipelineHrefContext:d||"repo-unknown",snapshotId:c,size:"small",isJob:h})]}),m?(0,o.jsx)(eV,{instigationSelector:m.instigationSelector,instigationType:m.instigationType,tickId:m.tickId}):null,v&&(0,o.jsx)(eb.i,{tag:v}),(0,o.jsx)(ei,{run:a}),(0,o.jsx)(Y,{run:a}),(0,o.jsx)(eT,{run:a,loading:i}),g&&(null===(e=a.assetSelection)||void 0===e?void 0:e.length)?(0,o.jsx)(eq,{assetKeys:a.assetSelection,evaluationId:g.value}):null]}):null,right:a?(0,o.jsx)(eC,{run:a,isJob:h}):null})}),(0,o.jsx)(eZ,{data:t,runId:n})]})};var eW=eG;let eZ=e=>{let{data:n,runId:t}=e;return n&&n.pipelineRunOrError?"Run"!==n.pipelineRunOrError.__typename?(0,o.jsx)(s.x,{padding:{vertical:64},children:(0,o.jsx)(a.t,{icon:"error",title:"No run found",description:"The run with this ID does not exist or has been cleaned up."})}):(0,o.jsx)(q,{run:n.pipelineRunOrError,runId:t}):(0,o.jsx)(q,{run:void 0,runId:t})},eX=(0,Z.Ps)(eB(),es.tQ),eY=e=>{let{run:n,runId:t}=e,{flagLegacyRunsPage:i}=(0,_.gV)(),s=(0,p.useMemo)(()=>null==n?void 0:n.tags.find(e=>e.key===eb.H.Backfill),[n]);if(!i&&s){var l;return(0,o.jsxs)(c.X6,{children:[(0,o.jsx)(h.rU,{to:"/runs",style:{color:u.$()},children:"Runs"})," / ",(0,o.jsx)(h.rU,{to:(0,e_.M)(s.value,!!(null==n?void 0:null===(l=n.assetSelection)||void 0===l?void 0:l.length)),style:{color:u.$()},children:s.value})," / ",t.slice(0,8)]})}return(0,o.jsxs)(c.X6,{style:{display:"flex",flexDirection:"row",gap:6},children:[(0,o.jsx)(h.rU,{to:"/runs",children:"Runs"}),(0,o.jsx)("span",{children:"/"}),(0,o.jsx)("span",{style:{fontFamily:d.b.monospace},children:t.slice(0,8)})]})}},47333:function(e,n,t){t.d(n,{l:function(){return m}});var i=t(73235),o=t(52322),s=t(39361),l=t(48177),r=t(3217),a=t(94466),c=t(99564),u=t(15997),d=t(27100),p=t(14553),x=t(4760),h=t(26893);function g(){let e=(0,i._)(["\n  query TickLogEventsQuery($instigationSelector: InstigationSelector!, $tickId: ID!) {\n    instigationStateOrError(instigationSelector: $instigationSelector) {\n      ... on InstigationState {\n        id\n        instigationType\n        tick(tickId: $tickId) {\n          id\n          status\n          timestamp\n          logEvents {\n            events {\n              ...InstigationEventLog\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}let m=e=>{let{tickId:n,timestamp:t,instigationSelector:i,isOpen:c,onClose:u}=e;return(0,o.jsxs)(s.Vq,{isOpen:c,onClose:u,style:{width:"70vw",maxWidth:"1200px",minWidth:"800px"},title:(0,o.jsx)("span",{children:t?(0,o.jsxs)("span",{children:[(0,o.jsxs)("span",{children:["Logs for ",i.name,": "]}),(0,o.jsx)(h.v,{timestamp:t,timeFormat:{showSeconds:!0}})]}):(0,o.jsxs)("span",{children:["Logs for ",i.name]})}),children:[n?(0,o.jsx)(v,{instigationSelector:i,tickId:n}):null,(0,o.jsx)(l.x,{background:r.v8(),style:{zIndex:3,position:"relative"},children:(0,o.jsx)(s.cN,{topBorder:!0,children:(0,o.jsx)(a.zx,{onClick:u,children:"Done"})})})]})},v=e=>{let{instigationSelector:n,tickId:t}=e,{data:i,loading:s}=(0,x.aM)(j,{variables:{instigationSelector:n,tickId:t},notifyOnNetworkStatusChange:!0}),r=(null==i?void 0:i.instigationStateOrError.__typename)==="InstigationState"&&(null==i?void 0:i.instigationStateOrError.tick)?null==i?void 0:i.instigationStateOrError.tick.logEvents.events:void 0;if(s)return(0,o.jsx)(l.x,{style:{height:500},flex:{justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(c.f,{label:"Loading logs…"})});if(r&&r.length)return(0,o.jsx)(l.x,{style:{height:500},flex:{direction:"column"},children:(0,o.jsx)(p.g,{events:r})});let h=(null==i?void 0:i.instigationStateOrError.__typename)==="InstigationState"?null==i?void 0:i.instigationStateOrError.tick.status:void 0,g=(null==i?void 0:i.instigationStateOrError.__typename)==="InstigationState"?null==i?void 0:i.instigationStateOrError.instigationType:void 0,m="SENSOR"===g?"https://docs.dagster.io/concepts/partitions-schedules-sensors/sensors#logging-in-sensors":"SCHEDULE"===g?"https://docs.dagster.io/concepts/partitions-schedules-sensors/schedules#logging-in-schedules":void 0;return(0,o.jsx)(l.x,{style:{height:500},flex:{justifyContent:"center",alignItems:"center"},padding:{vertical:48},children:(0,o.jsx)(u.t,{icon:"no-results",title:"No logs to display",description:(0,o.jsxs)(l.x,{flex:{direction:"column",gap:12},children:[(0,o.jsx)("div",{children:"Your evaluation did not emit any logs. To learn how to emit logs in your evaluation, visit the documentation for more information."}),"FAILURE"===h&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:"For failed evaluations, logs will only be displayed if your Dagster and Dagster Cloud agent versions 1.5.14 or higher."}),(0,o.jsx)("div",{children:"Upgrade your Dagster versions to view logs for failed evaluations."})]})]}),action:m&&(0,o.jsx)(a.fr,{href:m,rightIcon:(0,o.jsx)(d.JO,{name:"open_in_new"}),children:"View documentation"})})})},j=(0,x.Ps)(g(),p.n)}}]);
//# sourceMappingURL=6553.6a5625e6b3799e8d.js.map