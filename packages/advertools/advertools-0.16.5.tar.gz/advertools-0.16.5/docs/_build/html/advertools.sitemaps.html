<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Download one or multiple XML sitemaps into a pandas DataFrame with Python. You can download URLs from a regular sitemap, or from a sitemap index file." lang="en" name="description" xml:lang="en" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Download, Parse, and Analyze XML Sitemaps &mdash;  Python</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=81998473"></script>
        <script src="_static/doctools.js?v=9bcbadda"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
        <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
        <script async="async" src="https://unpkg.com/thebe@0.8.2/lib/index.js"></script>
        <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="üï∑ Python SEO Crawler / Spider" href="advertools.spider.html" />
    <link rel="prev" title="ü§ñ Analyze and Test robots.txt Files on a Large Scale" href="advertools.robotstxt.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            advertools
          </a>
              <div class="version">
                0.16.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">About advertools</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.survey.html">Survey - your feedback</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.cli.cli.html">Command Line Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SEM</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="advertools.kw_generate.html">Generate SEM Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.ad_create.html">Create Text Ads on a Large Scale</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.ad_from_string.html">Create Text Ads From Description Text</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SEO</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="advertools.robotstxt.html">robots.txt</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">XML Sitemaps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sitemap-index">Sitemap Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="#regular-xml-sitemaps">Regular XML Sitemaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#news-sitemaps">News Sitemaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#video-sitemaps">Video Sitemaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#request-headers">Request Headers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advertools.spider.html">SEO Spider / Crawler</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.code_recipes.spider_strategies.html">Crawl Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.crawlytics.html">Crawl Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.header_spider.html">Crawl headers (HEAD method only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.image_spider.html">Crawl images</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.logs.html">Python Log File Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.logs.html#parse-and-analyze-crawl-logs-in-a-dataframe">Parse and Analyze Crawl Logs in a Dataframe</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.reverse_dns_lookup.html">Reverse DNS Lookup</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.serp.html">Analyze Search Engine Results (SERPs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.knowledge_graph.html">Google's Knowledge Graph</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Text &amp; Content Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="advertools.urlytics.html">URL Structure Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.emoji.html">Emoji Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.extract.html">Extract Structured Entities from Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.stopwords.html">Stop Words</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.word_frequency.html">Text Analysis (absolute &amp; weighted word frequency)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.word_tokenize.html">Word Tokenization (N-grams)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Social Media</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="advertools.twitter.html">Twitter Data API</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.youtube.html">YouTube Data API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Index &amp; Change Log</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="include_changelog.html">Index &amp; Change Log</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">advertools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Download, Parse, and Analyze XML Sitemaps</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/advertools.sitemaps.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="download-parse-and-analyze-xml-sitemaps">
<span id="sitemaps"></span><span id="module-advertools.sitemaps"></span><h1>Download, Parse, and Analyze XML Sitemaps<a class="headerlink" href="#download-parse-and-analyze-xml-sitemaps" title="Link to this heading">ÔÉÅ</a></h1>
<p>One of the fastest and easiest ways to get insights on a website's content is
to simply download its XML sitemap(s).</p>
<p>Sitemaps are also important SEO tools as they reveal a lot of information about
the website, and help search engines in indexing those pages. You might want to
run an SEO audit and check if the URLs in the sitemap properly correspond to
the actual URLs of the site, so this would be an easy way to get them.</p>
<p>Sitemaps basically contain a log of publishing activity, and if they have rich
URLs then you can do some good analysis on their content over time as well.</p>
<p>The <a class="reference internal" href="#advertools.sitemaps.sitemap_to_df" title="advertools.sitemaps.sitemap_to_df"><code class="xref py py-func docutils literal notranslate"><span class="pre">sitemap_to_df()</span></code></a> function is very simple to use, and only requires the
URL of a sitemap, a sitemap index, or even a robots.txt file. It goes through
the sitemap(s) and returns a DataFrame containing all the tags and their
information.</p>
<ul class="simple">
<li><p><cite>loc</cite>: The location of the URLs of hte sitemaps.</p></li>
<li><p><cite>lastmod</cite>: The datetime of the date when each URL was last modified, if
available.</p></li>
<li><p><cite>sitemap</cite>: The URL of the sitemap from which the URL on this row was
retreived.</p></li>
<li><p><cite>etag</cite>: The entity tag of the response header, if provided.</p></li>
<li><p><cite>sitemap_last_modified</cite>: The datetime when the sitemap file was last
modified, if provided.</p></li>
<li><p><cite>sitemap_size_mb</cite>: The size of the sitemap in mega bytes
(1MB = 1,024 x 1,024 bytes)</p></li>
<li><p><cite>download_date</cite>: The datetime when the sitemap was downloaded.</p></li>
</ul>
<section id="sitemap-index">
<h2>Sitemap Index<a class="headerlink" href="#sitemap-index" title="Link to this heading">ÔÉÅ</a></h2>
<p>Large websites typically have a sitmeapindex file, which contains links to all
other regular sitemaps that belong to the site. The <a class="reference internal" href="#advertools.sitemaps.sitemap_to_df" title="advertools.sitemaps.sitemap_to_df"><code class="xref py py-func docutils literal notranslate"><span class="pre">sitemap_to_df()</span></code></a>
function retreives all sub-sitemaps recursively by default.
In some cases, especially with very large sites, it might be better to first
get the sitemap index, explore its structure, and then decide which sitemaps
you want to get, or if you want them all. Even with smaller websites, it still
might be interesting to get the index only and see how it is structured.</p>
<p>This behavior can be modified by the <code class="docutils literal notranslate"><span class="pre">recursive</span></code> parameter, which is set to
<cite>True</cite> by default. Set it to <cite>False</cite> if you want only the index file.</p>
<p>Another interesting thing you might want to do is to provide a robots.txt URL,
and set <cite>recursive=False</cite> to get all available sitemap index files.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sitemap_to_df</span><span class="p">(</span><span class="s2">&quot;https://example.com/robots.txt&quot;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Let's now go through a quick example of what can be done with sitemaps. We can
start by getting one of the BBC's sitemaps.</p>
</section>
<section id="regular-xml-sitemaps">
<h2>Regular XML Sitemaps<a class="headerlink" href="#regular-xml-sitemaps" title="Link to this heading">ÔÉÅ</a></h2>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">advertools</span> <span class="k">as</span> <span class="nn">adv</span>

<span class="n">bbc_sitemap</span> <span class="o">=</span> <span class="n">adv</span><span class="o">.</span><span class="n">sitemap_to_df</span><span class="p">(</span><span class="s1">&#39;https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml&#39;</span><span class="p">)</span>
<span class="n">bbc_sitemap</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>loc</p></th>
<th class="head"><p>lastmod</p></th>
<th class="head"><p>sitemap</p></th>
<th class="head"><p>etag</p></th>
<th class="head"><p>sitemap_last_modified</p></th>
<th class="head"><p>sitemap_size_mb</p></th>
<th class="head"><p>download_date</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/middleeast/2009/06/090620_as_iraq_explosion_tc2">https://www.bbc.com/arabic/middleeast/2009/06/090620_as_iraq_explosion_tc2</a></p></td>
<td><p>2009-06-20 14:10:48+00:00</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml">https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml</a></p></td>
<td><p>e7e15811c65f406f89f89fe10aef29f5</p></td>
<td><p>2021-11-05 20:52:56+00:00</p></td>
<td><p>7.63124</p></td>
<td><p>2022-02-12 01:37:39.461037+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/middleeast/2009/06/090620_iraq_blast_tc2">https://www.bbc.com/arabic/middleeast/2009/06/090620_iraq_blast_tc2</a></p></td>
<td><p>2009-06-20 21:07:43+00:00</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml">https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml</a></p></td>
<td><p>e7e15811c65f406f89f89fe10aef29f5</p></td>
<td><p>2021-11-05 20:52:56+00:00</p></td>
<td><p>7.63124</p></td>
<td><p>2022-02-12 01:37:39.461037+00:00</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/business/2009/06/090622_me_worldbank_tc2">https://www.bbc.com/arabic/business/2009/06/090622_me_worldbank_tc2</a></p></td>
<td><p>2009-06-22 12:41:48+00:00</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml">https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml</a></p></td>
<td><p>e7e15811c65f406f89f89fe10aef29f5</p></td>
<td><p>2021-11-05 20:52:56+00:00</p></td>
<td><p>7.63124</p></td>
<td><p>2022-02-12 01:37:39.461037+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/multimedia/2009/06/090624_me_inpictures_brazil_tc2">https://www.bbc.com/arabic/multimedia/2009/06/090624_me_inpictures_brazil_tc2</a></p></td>
<td><p>2009-06-24 15:27:24+00:00</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml">https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml</a></p></td>
<td><p>e7e15811c65f406f89f89fe10aef29f5</p></td>
<td><p>2021-11-05 20:52:56+00:00</p></td>
<td><p>7.63124</p></td>
<td><p>2022-02-12 01:37:39.461037+00:00</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/business/2009/06/090618_tomtest">https://www.bbc.com/arabic/business/2009/06/090618_tomtest</a></p></td>
<td><p>2009-06-18 15:32:54+00:00</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml">https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml</a></p></td>
<td><p>e7e15811c65f406f89f89fe10aef29f5</p></td>
<td><p>2021-11-05 20:52:56+00:00</p></td>
<td><p>7.63124</p></td>
<td><p>2022-02-12 01:37:39.461037+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/multimedia/2009/06/090625_sf_tamim_verdict_tc2">https://www.bbc.com/arabic/multimedia/2009/06/090625_sf_tamim_verdict_tc2</a></p></td>
<td><p>2009-06-25 09:46:39+00:00</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml">https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml</a></p></td>
<td><p>e7e15811c65f406f89f89fe10aef29f5</p></td>
<td><p>2021-11-05 20:52:56+00:00</p></td>
<td><p>7.63124</p></td>
<td><p>2022-02-12 01:37:39.461037+00:00</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/middleeast/2009/06/090623_iz_cairo_russia_tc2">https://www.bbc.com/arabic/middleeast/2009/06/090623_iz_cairo_russia_tc2</a></p></td>
<td><p>2009-06-23 13:10:56+00:00</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml">https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml</a></p></td>
<td><p>e7e15811c65f406f89f89fe10aef29f5</p></td>
<td><p>2021-11-05 20:52:56+00:00</p></td>
<td><p>7.63124</p></td>
<td><p>2022-02-12 01:37:39.461037+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/sports/2009/06/090622_me_egypt_us_tc2">https://www.bbc.com/arabic/sports/2009/06/090622_me_egypt_us_tc2</a></p></td>
<td><p>2009-06-22 15:37:07+00:00</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml">https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml</a></p></td>
<td><p>e7e15811c65f406f89f89fe10aef29f5</p></td>
<td><p>2021-11-05 20:52:56+00:00</p></td>
<td><p>7.63124</p></td>
<td><p>2022-02-12 01:37:39.461037+00:00</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/sports/2009/06/090624_mz_wimbledon_tc2">https://www.bbc.com/arabic/sports/2009/06/090624_mz_wimbledon_tc2</a></p></td>
<td><p>2009-06-24 13:57:18+00:00</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml">https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml</a></p></td>
<td><p>e7e15811c65f406f89f89fe10aef29f5</p></td>
<td><p>2021-11-05 20:52:56+00:00</p></td>
<td><p>7.63124</p></td>
<td><p>2022-02-12 01:37:39.461037+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/worldnews/2009/06/090623_mz_leaders_lifespan_tc2">https://www.bbc.com/arabic/worldnews/2009/06/090623_mz_leaders_lifespan_tc2</a></p></td>
<td><p>2009-06-23 13:24:23+00:00</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml">https://www.bbc.com/sitemaps/https-sitemap-com-archive-1.xml</a></p></td>
<td><p>e7e15811c65f406f89f89fe10aef29f5</p></td>
<td><p>2021-11-05 20:52:56+00:00</p></td>
<td><p>7.63124</p></td>
<td><p>2022-02-12 01:37:39.461037+00:00</p></td>
</tr>
</tbody>
</table>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bbc_sitemap</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bbc_sitemap</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">49999</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>

<span class="n">loc</span>                                   <span class="nb">object</span>
<span class="n">lastmod</span>                  <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">,</span> <span class="n">UTC</span><span class="p">]</span>
<span class="n">sitemap</span>                               <span class="nb">object</span>
<span class="n">etag</span>                                  <span class="nb">object</span>
<span class="n">sitemap_last_modified</span>    <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">,</span> <span class="n">UTC</span><span class="p">]</span>
<span class="n">sitemap_size_mb</span>                      <span class="n">float64</span>
<span class="n">download_date</span>            <span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">,</span> <span class="n">UTC</span><span class="p">]</span>
<span class="n">dtype</span><span class="p">:</span> <span class="nb">object</span>
</pre></div>
</div>
<p>Since <code class="docutils literal notranslate"><span class="pre">lastmod</span></code> is a <code class="docutils literal notranslate"><span class="pre">datetime</span></code> object, we can easily use it for various
time-related operations.
Here we look at how many articles have been published (last modified) per year.</p>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bbc_sitemap</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;lastmod&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)[</span><span class="s1">&#39;loc&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lastmod</span>
<span class="mi">2008</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>     <span class="mi">2287</span>
<span class="mi">2009</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>    <span class="mi">47603</span>
<span class="mi">2010</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>        <span class="mi">0</span>
<span class="mi">2011</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>        <span class="mi">0</span>
<span class="mi">2012</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>        <span class="mi">0</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>        <span class="mi">0</span>
<span class="mi">2014</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>        <span class="mi">0</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>        <span class="mi">0</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>        <span class="mi">0</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>        <span class="mi">0</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>        <span class="mi">0</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>       <span class="mi">99</span>
<span class="mi">2020</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>       <span class="mi">10</span>
<span class="n">Freq</span><span class="p">:</span> <span class="n">A</span><span class="o">-</span><span class="n">DEC</span><span class="p">,</span> <span class="n">Name</span><span class="p">:</span> <span class="n">loc</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</pre></div>
</div>
<p>As the majority are in 2009 with a few in other years, it seems these were
later updated, but we would have to check to verify (in this special case BBC's
URLs contain date information, which can be compared to <code class="docutils literal notranslate"><span class="pre">lastmod</span></code> to check if
there is a difference between them).</p>
<p>We can take a look at a sample of the URLs to get the URL template that they
use.</p>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bbc_sitemap</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;https://www.bbc.com/russian/rolling_news/2009/06/090628_rn_pakistani_soldiries_ambush&#39;</span><span class="p">,</span>
<span class="s1">&#39;https://www.bbc.com/urdu/pakistan/2009/04/090421_mqm_speaks_rza&#39;</span><span class="p">,</span>
<span class="s1">&#39;https://www.bbc.com/arabic/middleeast/2009/07/090723_ae_silwan_tc2&#39;</span><span class="p">,</span>
<span class="s1">&#39;https://www.bbc.com/portuguese/noticias/2009/07/090729_iraquerefenbritsfn&#39;</span><span class="p">,</span>
<span class="s1">&#39;https://www.bbc.com/portuguese/noticias/2009/06/090623_egitomilitaresfn&#39;</span><span class="p">,</span>
<span class="s1">&#39;https://www.bbc.com/portuguese/noticias/2009/03/090302_gazaconferenciaml&#39;</span><span class="p">,</span>
<span class="s1">&#39;https://www.bbc.com/portuguese/noticias/2009/07/090715_hillary_iran_cq&#39;</span><span class="p">,</span>
<span class="s1">&#39;https://www.bbc.com/vietnamese/culture/2009/04/090409_machienhuu_revisiting&#39;</span><span class="p">,</span>
<span class="s1">&#39;https://www.bbc.com/portuguese/noticias/2009/05/090524_paquistaoupdateg&#39;</span><span class="p">,</span>
<span class="s1">&#39;https://www.bbc.com/arabic/worldnews/2009/06/090629_om_pakistan_report_tc2&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>It seems the pattern is</p>
<blockquote>
<div><p><strong>https://www.bbc.com/{language}/{topic}/{YYYY}/{MM}/{YYMMDD_article_title}</strong></p>
</div></blockquote>
<p>This is quite a rich structure, full of useful information. We can
<a class="reference internal" href="advertools.urlytics.html#urlytics"><span class="std std-ref">analyze the URL structure</span></a> using the <code class="docutils literal notranslate"><span class="pre">url_to_df</span></code> function:</p>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url_df</span> <span class="o">=</span> <span class="n">adv</span><span class="o">.</span><span class="n">url_to_df</span><span class="p">(</span><span class="n">bbc_sitemap</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">])</span>
<span class="n">url_df</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>url</p></th>
<th class="head"><p>scheme</p></th>
<th class="head"><p>netloc</p></th>
<th class="head"><p>path</p></th>
<th class="head"><p>query</p></th>
<th class="head"><p>fragment</p></th>
<th class="head"><p>dir_1</p></th>
<th class="head"><p>dir_2</p></th>
<th class="head"><p>dir_3</p></th>
<th class="head"><p>dir_4</p></th>
<th class="head"><p>dir_5</p></th>
<th class="head"><p>dir_6</p></th>
<th class="head"><p>dir_7</p></th>
<th class="head"><p>last_dir</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/middleeast/2009/06/090620_as_iraq_explosion_tc2">https://www.bbc.com/arabic/middleeast/2009/06/090620_as_iraq_explosion_tc2</a></p></td>
<td><p>https</p></td>
<td><p>www.bbc.com</p></td>
<td><p>/arabic/middleeast/2009/06/090620_as_iraq_explosion_tc2</p></td>
<td></td>
<td></td>
<td><p>arabic</p></td>
<td><p>middleeast</p></td>
<td><p>2009</p></td>
<td><p>06</p></td>
<td><p>090620_as_iraq_explosion_tc2</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>090620_as_iraq_explosion_tc2</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/middleeast/2009/06/090620_iraq_blast_tc2">https://www.bbc.com/arabic/middleeast/2009/06/090620_iraq_blast_tc2</a></p></td>
<td><p>https</p></td>
<td><p>www.bbc.com</p></td>
<td><p>/arabic/middleeast/2009/06/090620_iraq_blast_tc2</p></td>
<td></td>
<td></td>
<td><p>arabic</p></td>
<td><p>middleeast</p></td>
<td><p>2009</p></td>
<td><p>06</p></td>
<td><p>090620_iraq_blast_tc2</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>090620_iraq_blast_tc2</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/business/2009/06/090622_me_worldbank_tc2">https://www.bbc.com/arabic/business/2009/06/090622_me_worldbank_tc2</a></p></td>
<td><p>https</p></td>
<td><p>www.bbc.com</p></td>
<td><p>/arabic/business/2009/06/090622_me_worldbank_tc2</p></td>
<td></td>
<td></td>
<td><p>arabic</p></td>
<td><p>business</p></td>
<td><p>2009</p></td>
<td><p>06</p></td>
<td><p>090622_me_worldbank_tc2</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>090622_me_worldbank_tc2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/multimedia/2009/06/090624_me_inpictures_brazil_tc2">https://www.bbc.com/arabic/multimedia/2009/06/090624_me_inpictures_brazil_tc2</a></p></td>
<td><p>https</p></td>
<td><p>www.bbc.com</p></td>
<td><p>/arabic/multimedia/2009/06/090624_me_inpictures_brazil_tc2</p></td>
<td></td>
<td></td>
<td><p>arabic</p></td>
<td><p>multimedia</p></td>
<td><p>2009</p></td>
<td><p>06</p></td>
<td><p>090624_me_inpictures_brazil_tc2</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>090624_me_inpictures_brazil_tc2</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/arabic/business/2009/06/090618_tomtest">https://www.bbc.com/arabic/business/2009/06/090618_tomtest</a></p></td>
<td><p>https</p></td>
<td><p>www.bbc.com</p></td>
<td><p>/arabic/business/2009/06/090618_tomtest</p></td>
<td></td>
<td></td>
<td><p>arabic</p></td>
<td><p>business</p></td>
<td><p>2009</p></td>
<td><p>06</p></td>
<td><p>090618_tomtest</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>090618_tomtest</p></td>
</tr>
<tr class="row-odd"><td><p>49994</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/vietnamese/world/2009/08/090831_dalailamataiwan">https://www.bbc.com/vietnamese/world/2009/08/090831_dalailamataiwan</a></p></td>
<td><p>https</p></td>
<td><p>www.bbc.com</p></td>
<td><p>/vietnamese/world/2009/08/090831_dalailamataiwan</p></td>
<td></td>
<td></td>
<td><p>vietnamese</p></td>
<td><p>world</p></td>
<td><p>2009</p></td>
<td><p>08</p></td>
<td><p>090831_dalailamataiwan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>090831_dalailamataiwan</p></td>
</tr>
<tr class="row-even"><td><p>49995</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/vietnamese/world/2009/09/090901_putin_regret_pact">https://www.bbc.com/vietnamese/world/2009/09/090901_putin_regret_pact</a></p></td>
<td><p>https</p></td>
<td><p>www.bbc.com</p></td>
<td><p>/vietnamese/world/2009/09/090901_putin_regret_pact</p></td>
<td></td>
<td></td>
<td><p>vietnamese</p></td>
<td><p>world</p></td>
<td><p>2009</p></td>
<td><p>09</p></td>
<td><p>090901_putin_regret_pact</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>090901_putin_regret_pact</p></td>
</tr>
<tr class="row-odd"><td><p>49996</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/vietnamese/culture/2009/09/090901_tiananmen_movie">https://www.bbc.com/vietnamese/culture/2009/09/090901_tiananmen_movie</a></p></td>
<td><p>https</p></td>
<td><p>www.bbc.com</p></td>
<td><p>/vietnamese/culture/2009/09/090901_tiananmen_movie</p></td>
<td></td>
<td></td>
<td><p>vietnamese</p></td>
<td><p>culture</p></td>
<td><p>2009</p></td>
<td><p>09</p></td>
<td><p>090901_tiananmen_movie</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>090901_tiananmen_movie</p></td>
</tr>
<tr class="row-even"><td><p>49997</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/vietnamese/pictures/2009/08/090830_ugc_ddh_sand">https://www.bbc.com/vietnamese/pictures/2009/08/090830_ugc_ddh_sand</a></p></td>
<td><p>https</p></td>
<td><p>www.bbc.com</p></td>
<td><p>/vietnamese/pictures/2009/08/090830_ugc_ddh_sand</p></td>
<td></td>
<td></td>
<td><p>vietnamese</p></td>
<td><p>pictures</p></td>
<td><p>2009</p></td>
<td><p>08</p></td>
<td><p>090830_ugc_ddh_sand</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>090830_ugc_ddh_sand</p></td>
</tr>
<tr class="row-odd"><td><p>49998</p></td>
<td><p><a class="reference external" href="https://www.bbc.com/vietnamese/business/2009/09/090901_japecontask">https://www.bbc.com/vietnamese/business/2009/09/090901_japecontask</a></p></td>
<td><p>https</p></td>
<td><p>www.bbc.com</p></td>
<td><p>/vietnamese/business/2009/09/090901_japecontask</p></td>
<td></td>
<td></td>
<td><p>vietnamese</p></td>
<td><p>business</p></td>
<td><p>2009</p></td>
<td><p>09</p></td>
<td><p>090901_japecontask</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>090901_japecontask</p></td>
</tr>
</tbody>
</table>
<p>It seems that the <code class="docutils literal notranslate"><span class="pre">dir_1</span></code> is where they have the language information, so we
can easily count how many articles they have per language:</p>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url_df</span><span class="p">[</span><span class="s1">&#39;dir_1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">russian</span>       <span class="mi">14022</span>
<span class="n">persian</span>       <span class="mi">10968</span>
<span class="n">portuguese</span>     <span class="mi">5403</span>
<span class="n">urdu</span>           <span class="mi">5068</span>
<span class="n">mundo</span>          <span class="mi">5065</span>
<span class="n">vietnamese</span>     <span class="mi">3561</span>
<span class="n">arabic</span>         <span class="mi">2984</span>
<span class="n">hindi</span>          <span class="mi">1677</span>
<span class="n">turkce</span>          <span class="mi">706</span>
<span class="n">ukchina</span>         <span class="mi">545</span>
<span class="n">Name</span><span class="p">:</span> <span class="n">dir_1</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</pre></div>
</div>
<p>We can also get a subset of articles written in a certain language, and see how
many articles they publish per month, week, year, etc.</p>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">bbc_sitemap</span><span class="p">[</span><span class="n">bbc_sitemap</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;/russian/&#39;</span><span class="p">)]</span>
 <span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;lastmod&#39;</span><span class="p">)</span>
 <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">)[</span><span class="s1">&#39;loc&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lastmod</span>
<span class="mi">2009</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">30</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>    <span class="mi">1506</span>
<span class="mi">2009</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>    <span class="mi">2910</span>
<span class="mi">2009</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">30</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>    <span class="mi">3021</span>
<span class="mi">2009</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>    <span class="mi">3250</span>
<span class="mi">2009</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>    <span class="mi">2769</span>
                             <span class="o">...</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">30</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>       <span class="mi">8</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>      <span class="mi">17</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">30</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>      <span class="mi">11</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>      <span class="mi">24</span>
<span class="mi">2020</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">31</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>       <span class="mi">6</span>
<span class="n">Freq</span><span class="p">:</span> <span class="n">M</span><span class="p">,</span> <span class="n">Name</span><span class="p">:</span> <span class="n">loc</span><span class="p">,</span> <span class="n">Length</span><span class="p">:</span> <span class="mi">130</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</pre></div>
</div>
<p>The topic or category of the article seems to be in <code class="docutils literal notranslate"><span class="pre">dir_2</span></code> for which we can
do the same and count the values.</p>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url_df</span><span class="p">[</span><span class="s1">&#39;dir_2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()[:</span><span class="mi">20</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rolling_news</span>        <span class="mi">9044</span>
<span class="n">world</span>               <span class="mi">5050</span>
<span class="n">noticias</span>            <span class="mi">4224</span>
<span class="n">iran</span>                <span class="mi">3682</span>
<span class="n">pakistan</span>            <span class="mi">2103</span>
<span class="n">afghanistan</span>         <span class="mi">1959</span>
<span class="n">multimedia</span>          <span class="mi">1657</span>
<span class="n">internacional</span>       <span class="mi">1555</span>
<span class="n">sport</span>               <span class="mi">1350</span>
<span class="n">international</span>       <span class="mi">1293</span>
<span class="n">india</span>               <span class="mi">1285</span>
<span class="n">america_latina</span>      <span class="mi">1274</span>
<span class="n">business</span>            <span class="mi">1204</span>
<span class="n">cultura_sociedad</span>     <span class="mi">913</span>
<span class="n">middleeast</span>           <span class="mi">874</span>
<span class="n">worldnews</span>            <span class="mi">872</span>
<span class="n">russia</span>               <span class="mi">841</span>
<span class="n">radio</span>                <span class="mi">769</span>
<span class="n">science</span>              <span class="mi">755</span>
<span class="n">football</span>             <span class="mi">674</span>
<span class="n">Name</span><span class="p">:</span> <span class="n">dir_2</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</pre></div>
</div>
<p>There is much more you can do, and a lot depends on the URL structure, which
you have to explore and run the right operation.</p>
<p>For example, we can use the <code class="docutils literal notranslate"><span class="pre">last_dir</span></code> column which contains the slugs
of the articles, replace underscores with spaces, split, concatenate all, put
in a <code class="docutils literal notranslate"><span class="pre">pd.Series</span></code> and count the values. This way we see how many times each
word occurred in an article. The same code can also be run after filtering for
articles in a particular language to get a more meaningful list of words.</p>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url_df</span><span class="p">[</span><span class="s1">&#39;last_dir&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">explode</span><span class="p">()</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()[:</span><span class="mi">20</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rn</span>          <span class="mi">8808</span>
<span class="n">tc2</span>         <span class="mi">3153</span>
<span class="n">iran</span>        <span class="mi">1534</span>
<span class="n">video</span>        <span class="mi">973</span>
<span class="n">obama</span>        <span class="mi">882</span>
<span class="n">us</span>           <span class="mi">862</span>
<span class="n">china</span>        <span class="mi">815</span>
<span class="n">ir88</span>         <span class="mi">727</span>
<span class="n">russia</span>       <span class="mi">683</span>
<span class="n">si</span>           <span class="mi">640</span>
<span class="n">np</span>           <span class="mi">638</span>
<span class="n">afghan</span>       <span class="mi">632</span>
<span class="n">ka</span>           <span class="mi">565</span>
<span class="n">an</span>           <span class="mi">556</span>
<span class="n">iraq</span>         <span class="mi">554</span>
<span class="n">pakistan</span>     <span class="mi">547</span>
<span class="n">nh</span>           <span class="mi">533</span>
<span class="n">cq</span>           <span class="mi">520</span>
<span class="n">zs</span>           <span class="mi">510</span>
<span class="n">ra</span>           <span class="mi">491</span>
<span class="n">Name</span><span class="p">:</span> <span class="n">last_dir</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</pre></div>
</div>
<p>This was a quick overview and data preparation for a sample sitemap. Once you
are familiar with the sitemap's structure, you can more easily start analyzing
the content.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is a bug currently with tags that contain multiple values in
sitemaps. If an image column in a news sitemap contains multiple images,
only the last one is retreived. The same applies for any other sitemap that
has a tag with multiple values.</p>
</div>
</section>
<section id="news-sitemaps">
<h2>News Sitemaps<a class="headerlink" href="#news-sitemaps" title="Link to this heading">ÔÉÅ</a></h2>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nyt_news</span> <span class="o">=</span> <span class="n">adv</span><span class="o">.</span><span class="n">sitemap_to_df</span><span class="p">(</span><span class="s1">&#39;https://www.nytimes.com/sitemaps/new/news.xml.gz&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nyt_news</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="c1"># (5085, 16)</span>
<span class="n">nyt_news</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>loc</p></th>
<th class="head"><p>lastmod</p></th>
<th class="head"><p>news</p></th>
<th class="head"><p>news_publication</p></th>
<th class="head"><p>publication_name</p></th>
<th class="head"><p>publication_language</p></th>
<th class="head"><p>news_publication_date</p></th>
<th class="head"><p>news_title</p></th>
<th class="head"><p>news_keywords</p></th>
<th class="head"><p>image</p></th>
<th class="head"><p>image_loc</p></th>
<th class="head"><p>sitemap</p></th>
<th class="head"><p>etag</p></th>
<th class="head"><p>sitemap_last_modified</p></th>
<th class="head"><p>sitemap_size_mb</p></th>
<th class="head"><p>download_date</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/interactive/2021/us/ottawa-ohio-covid-cases.html">https://www.nytimes.com/interactive/2021/us/ottawa-ohio-covid-cases.html</a></p></td>
<td><p>2022-02-12 00:00:00+00:00</p></td>
<td></td>
<td></td>
<td><p>The New York Times</p></td>
<td><p>en</p></td>
<td><p>2021-01-27T17:00:00Z</p></td>
<td><p>Ottawa County, Ohio Covid Case and Exposure Risk Tracker</p></td>
<td><p>Coronavirus (2019-nCoV), States (US), Deaths (Fatalities), United States, Disease Rates</p></td>
<td></td>
<td><p><a class="reference external" href="https://static01.nyt.com/images/2020/03/29/us/ohio-coronavirus-cases-promo-1585539358901/ohio-coronavirus-cases-promo-1585539358901-articleLarge-v274.png">https://static01.nyt.com/images/2020/03/29/us/ohio-coronavirus-cases-promo-1585539358901/ohio-coronavirus-cases-promo-1585539358901-articleLarge-v274.png</a></p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/sitemaps/new/news-6.xml.gz">https://www.nytimes.com/sitemaps/new/news-6.xml.gz</a></p></td>
<td><p>0cff645fbb74c21791568b78a888967d</p></td>
<td><p>2022-02-12 20:17:31+00:00</p></td>
<td><p>0.0774069</p></td>
<td><p>2022-02-12 20:18:39.744247+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/interactive/2021/us/hopewell-virginia-covid-cases.html">https://www.nytimes.com/interactive/2021/us/hopewell-virginia-covid-cases.html</a></p></td>
<td><p>2022-02-12 00:00:00+00:00</p></td>
<td></td>
<td></td>
<td><p>The New York Times</p></td>
<td><p>en</p></td>
<td><p>2021-01-27T17:00:00Z</p></td>
<td><p>Hopewell, Virginia Covid Case and Exposure Risk Tracker</p></td>
<td><p>Coronavirus (2019-nCoV), States (US), Deaths (Fatalities), United States, Disease Rates</p></td>
<td></td>
<td><p><a class="reference external" href="https://static01.nyt.com/images/2020/03/29/us/virginia-coronavirus-cases-promo-1585539536519/virginia-coronavirus-cases-promo-1585539536519-articleLarge-v271.png">https://static01.nyt.com/images/2020/03/29/us/virginia-coronavirus-cases-promo-1585539536519/virginia-coronavirus-cases-promo-1585539536519-articleLarge-v271.png</a></p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/sitemaps/new/news-6.xml.gz">https://www.nytimes.com/sitemaps/new/news-6.xml.gz</a></p></td>
<td><p>0cff645fbb74c21791568b78a888967d</p></td>
<td><p>2022-02-12 20:17:31+00:00</p></td>
<td><p>0.0774069</p></td>
<td><p>2022-02-12 20:18:39.744247+00:00</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/interactive/2021/us/box-butte-nebraska-covid-cases.html">https://www.nytimes.com/interactive/2021/us/box-butte-nebraska-covid-cases.html</a></p></td>
<td><p>2022-02-12 00:00:00+00:00</p></td>
<td></td>
<td></td>
<td><p>The New York Times</p></td>
<td><p>en</p></td>
<td><p>2021-01-27T17:00:00Z</p></td>
<td><p>Box Butte County, Nebraska Covid Case and Exposure Risk Tracker</p></td>
<td><p>Coronavirus (2019-nCoV), States (US), Deaths (Fatalities), United States, Disease Rates</p></td>
<td></td>
<td><p><a class="reference external" href="https://static01.nyt.com/images/2020/03/29/us/nebraska-coronavirus-cases-promo-1585539237156/nebraska-coronavirus-cases-promo-1585539237156-articleLarge-v281.png">https://static01.nyt.com/images/2020/03/29/us/nebraska-coronavirus-cases-promo-1585539237156/nebraska-coronavirus-cases-promo-1585539237156-articleLarge-v281.png</a></p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/sitemaps/new/news-6.xml.gz">https://www.nytimes.com/sitemaps/new/news-6.xml.gz</a></p></td>
<td><p>0cff645fbb74c21791568b78a888967d</p></td>
<td><p>2022-02-12 20:17:31+00:00</p></td>
<td><p>0.0774069</p></td>
<td><p>2022-02-12 20:18:39.744247+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/interactive/2021/us/stearns-minnesota-covid-cases.html">https://www.nytimes.com/interactive/2021/us/stearns-minnesota-covid-cases.html</a></p></td>
<td><p>2022-02-12 00:00:00+00:00</p></td>
<td></td>
<td></td>
<td><p>The New York Times</p></td>
<td><p>en</p></td>
<td><p>2021-01-27T17:00:00Z</p></td>
<td><p>Stearns County, Minnesota Covid Case and Exposure Risk Tracker</p></td>
<td><p>Coronavirus (2019-nCoV), States (US), Deaths (Fatalities), United States, Disease Rates</p></td>
<td></td>
<td><p><a class="reference external" href="https://static01.nyt.com/images/2020/03/29/us/minnesota-coronavirus-cases-promo-1585539172701/minnesota-coronavirus-cases-promo-1585539172701-articleLarge-v282.png">https://static01.nyt.com/images/2020/03/29/us/minnesota-coronavirus-cases-promo-1585539172701/minnesota-coronavirus-cases-promo-1585539172701-articleLarge-v282.png</a></p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/sitemaps/new/news-6.xml.gz">https://www.nytimes.com/sitemaps/new/news-6.xml.gz</a></p></td>
<td><p>0cff645fbb74c21791568b78a888967d</p></td>
<td><p>2022-02-12 20:17:31+00:00</p></td>
<td><p>0.0774069</p></td>
<td><p>2022-02-12 20:18:39.744247+00:00</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/interactive/2021/us/benton-iowa-covid-cases.html">https://www.nytimes.com/interactive/2021/us/benton-iowa-covid-cases.html</a></p></td>
<td><p>2022-02-12 00:00:00+00:00</p></td>
<td></td>
<td></td>
<td><p>The New York Times</p></td>
<td><p>en</p></td>
<td><p>2021-01-27T17:00:00Z</p></td>
<td><p>Benton County, Iowa Covid Case and Exposure Risk Tracker</p></td>
<td><p>Coronavirus (2019-nCoV), States (US), Deaths (Fatalities), United States, Disease Rates</p></td>
<td></td>
<td><p><a class="reference external" href="https://static01.nyt.com/images/2020/03/29/us/iowa-coronavirus-cases-promo-1585539039190/iowa-coronavirus-cases-promo-1585539039190-articleLarge-v286.png">https://static01.nyt.com/images/2020/03/29/us/iowa-coronavirus-cases-promo-1585539039190/iowa-coronavirus-cases-promo-1585539039190-articleLarge-v286.png</a></p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/sitemaps/new/news-6.xml.gz">https://www.nytimes.com/sitemaps/new/news-6.xml.gz</a></p></td>
<td><p>0cff645fbb74c21791568b78a888967d</p></td>
<td><p>2022-02-12 20:17:31+00:00</p></td>
<td><p>0.0774069</p></td>
<td><p>2022-02-12 20:18:39.744247+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>5080</p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/interactive/2021/us/hodgeman-kansas-covid-cases.html">https://www.nytimes.com/interactive/2021/us/hodgeman-kansas-covid-cases.html</a></p></td>
<td><p>2022-02-12 00:00:00+00:00</p></td>
<td></td>
<td></td>
<td><p>The New York Times</p></td>
<td><p>en</p></td>
<td><p>2021-01-27T17:00:00Z</p></td>
<td><p>Hodgeman County, Kansas Covid Case and Exposure Risk Tracker</p></td>
<td><p>Coronavirus (2019-nCoV), States (US), Deaths (Fatalities), United States, Disease Rates</p></td>
<td></td>
<td><p><a class="reference external" href="https://static01.nyt.com/images/2020/03/29/us/kansas-coronavirus-cases-promo-1585539054298/kansas-coronavirus-cases-promo-1585539054298-articleLarge-v285.png">https://static01.nyt.com/images/2020/03/29/us/kansas-coronavirus-cases-promo-1585539054298/kansas-coronavirus-cases-promo-1585539054298-articleLarge-v285.png</a></p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/sitemaps/new/news-2.xml.gz">https://www.nytimes.com/sitemaps/new/news-2.xml.gz</a></p></td>
<td><p>f53301c8286f9bf59ef297f0232dcfc1</p></td>
<td><p>2022-02-12 20:17:31+00:00</p></td>
<td><p>0.914107</p></td>
<td><p>2022-02-12 20:18:39.995323+00:00</p></td>
</tr>
<tr class="row-even"><td><p>5081</p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/interactive/2021/us/miller-georgia-covid-cases.html">https://www.nytimes.com/interactive/2021/us/miller-georgia-covid-cases.html</a></p></td>
<td><p>2022-02-12 00:00:00+00:00</p></td>
<td></td>
<td></td>
<td><p>The New York Times</p></td>
<td><p>en</p></td>
<td><p>2021-01-27T17:00:00Z</p></td>
<td><p>Miller County, Georgia Covid Case and Exposure Risk Tracker</p></td>
<td><p>Coronavirus (2019-nCoV), States (US), Deaths (Fatalities), United States, Disease Rates</p></td>
<td></td>
<td><p><a class="reference external" href="https://static01.nyt.com/images/2020/03/29/us/georgia-coronavirus-cases-promo-1585538956622/georgia-coronavirus-cases-promo-1585538956622-articleLarge-v290.png">https://static01.nyt.com/images/2020/03/29/us/georgia-coronavirus-cases-promo-1585538956622/georgia-coronavirus-cases-promo-1585538956622-articleLarge-v290.png</a></p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/sitemaps/new/news-2.xml.gz">https://www.nytimes.com/sitemaps/new/news-2.xml.gz</a></p></td>
<td><p>f53301c8286f9bf59ef297f0232dcfc1</p></td>
<td><p>2022-02-12 20:17:31+00:00</p></td>
<td><p>0.914107</p></td>
<td><p>2022-02-12 20:18:39.995323+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>5082</p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/interactive/2020/11/03/us/elections/results-west-virginia-house-district-1.html">https://www.nytimes.com/interactive/2020/11/03/us/elections/results-west-virginia-house-district-1.html</a></p></td>
<td><p>2022-02-12 00:00:00+00:00</p></td>
<td></td>
<td></td>
<td><p>The New York Times</p></td>
<td><p>en</p></td>
<td><p>2020-11-03T17:00:00Z</p></td>
<td><p>West Virginia First Congressional District Results: David McKinley vs. Natalie Cline</p></td>
<td><p>Elections, Presidential Election of 2020, United States, internal-election-open, House of Representatives, West Virginia</p></td>
<td></td>
<td><p><a class="reference external" href="https://static01.nyt.com/images/2020/11/03/us/elections/eln-promo-race-west-virginia-house-1WINNER-mckinleyd/eln-promo-race-west-virginia-house-1WINNER-mckinleyd-articleLarge.png">https://static01.nyt.com/images/2020/11/03/us/elections/eln-promo-race-west-virginia-house-1WINNER-mckinleyd/eln-promo-race-west-virginia-house-1WINNER-mckinleyd-articleLarge.png</a></p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/sitemaps/new/news-2.xml.gz">https://www.nytimes.com/sitemaps/new/news-2.xml.gz</a></p></td>
<td><p>f53301c8286f9bf59ef297f0232dcfc1</p></td>
<td><p>2022-02-12 20:17:31+00:00</p></td>
<td><p>0.914107</p></td>
<td><p>2022-02-12 20:18:39.995323+00:00</p></td>
</tr>
<tr class="row-even"><td><p>5083</p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/interactive/2020/11/03/us/elections/results-maine-senate.html">https://www.nytimes.com/interactive/2020/11/03/us/elections/results-maine-senate.html</a></p></td>
<td><p>2022-02-12 00:00:00+00:00</p></td>
<td></td>
<td></td>
<td><p>The New York Times</p></td>
<td><p>en</p></td>
<td><p>2020-11-03T17:00:00Z</p></td>
<td><p>Maine Senate Results: Susan Collins Defeats Sara Gideon</p></td>
<td><p>Elections, Presidential Election of 2020, United States, internal-election-open, Senate, Maine</p></td>
<td></td>
<td><p><a class="reference external" href="https://static01.nyt.com/images/2020/11/03/us/elections/eln-promo-race-maine-senateWINNER-collinss/eln-promo-race-maine-senateWINNER-collinss-articleLarge.png">https://static01.nyt.com/images/2020/11/03/us/elections/eln-promo-race-maine-senateWINNER-collinss/eln-promo-race-maine-senateWINNER-collinss-articleLarge.png</a></p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/sitemaps/new/news-2.xml.gz">https://www.nytimes.com/sitemaps/new/news-2.xml.gz</a></p></td>
<td><p>f53301c8286f9bf59ef297f0232dcfc1</p></td>
<td><p>2022-02-12 20:17:31+00:00</p></td>
<td><p>0.914107</p></td>
<td><p>2022-02-12 20:18:39.995323+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>5084</p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/interactive/2021/us/randolph-missouri-covid-cases.html">https://www.nytimes.com/interactive/2021/us/randolph-missouri-covid-cases.html</a></p></td>
<td><p>2022-02-12 00:00:00+00:00</p></td>
<td></td>
<td></td>
<td><p>The New York Times</p></td>
<td><p>en</p></td>
<td><p>2021-01-27T17:00:00Z</p></td>
<td><p>Randolph County, Missouri Covid Case and Exposure Risk Tracker</p></td>
<td><p>Coronavirus (2019-nCoV), States (US), Deaths (Fatalities), United States, Disease Rates</p></td>
<td></td>
<td><p><a class="reference external" href="https://static01.nyt.com/images/2020/03/29/us/missouri-coronavirus-cases-promo-1585539206866/missouri-coronavirus-cases-promo-1585539206866-articleLarge-v282.png">https://static01.nyt.com/images/2020/03/29/us/missouri-coronavirus-cases-promo-1585539206866/missouri-coronavirus-cases-promo-1585539206866-articleLarge-v282.png</a></p></td>
<td><p><a class="reference external" href="https://www.nytimes.com/sitemaps/new/news-2.xml.gz">https://www.nytimes.com/sitemaps/new/news-2.xml.gz</a></p></td>
<td><p>f53301c8286f9bf59ef297f0232dcfc1</p></td>
<td><p>2022-02-12 20:17:31+00:00</p></td>
<td><p>0.914107</p></td>
<td><p>2022-02-12 20:18:39.995323+00:00</p></td>
</tr>
</tbody>
</table>
</section>
<section id="video-sitemaps">
<h2>Video Sitemaps<a class="headerlink" href="#video-sitemaps" title="Link to this heading">ÔÉÅ</a></h2>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wired_video</span> <span class="o">=</span> <span class="n">adv</span><span class="o">.</span><span class="n">sitemap_to_df</span><span class="p">(</span><span class="s1">&#39;https://www.wired.com/video/sitemap.xml&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">wired_video</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="c1"># (2955, 14)</span>
<span class="n">wired_video</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>loc</p></th>
<th class="head"><p>video</p></th>
<th class="head"><p>video_thumbnail_loc</p></th>
<th class="head"><p>video_title</p></th>
<th class="head"><p>video_description</p></th>
<th class="head"><p>video_content_loc</p></th>
<th class="head"><p>video_duration</p></th>
<th class="head"><p>video_publication_date</p></th>
<th class="head"><p>video_expiration_date</p></th>
<th class="head"><p>lastmod</p></th>
<th class="head"><p>sitemap</p></th>
<th class="head"><p>etag</p></th>
<th class="head"><p>sitemap_size_mb</p></th>
<th class="head"><p>download_date</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/watch/autocomplete-inverviews-owen-wilson-answers-the-webs-most-searched-questions">https://www.wired.com/video/watch/autocomplete-inverviews-owen-wilson-answers-the-webs-most-searched-questions</a></p></td>
<td></td>
<td><p><a class="reference external" href="http://dwgyu36up6iuz.cloudfront.net/heru80fdn/image/upload/c_fill,d_placeholder_thescene.jpg,fl_progressive,g_face,h_180,q_80,w_320/v1644595412/wired_autocomplete-inverviews-owen-wilson-answers-the-webs-most-searched-questions.jpg">http://dwgyu36up6iuz.cloudfront.net/heru80fdn/image/upload/c_fill,d_placeholder_thescene.jpg,fl_progressive,g_face,h_180,q_80,w_320/v1644595412/wired_autocomplete-inverviews-owen-wilson-answers-the-webs-most-searched-questions.jpg</a></p></td>
<td><p>Autocomplete Interview - Owen Wilson Answers The Web‚Äôs Most Searched Questions</p></td>
<td><p>Owen Wilson takes the WIRED Autocomplete Interview and answers the internet's most searched questions about himself. How did Owen Wilson break his nose? How many movies is he in with Ben Stiller? Is Owen in every Wes Anderson movie? Is he a good skateboarder? Owen answers all these questions and much more!</p></td>
<td><p><a class="reference external" href="http://dp8hsntg6do36.cloudfront.net/62067f085577c277dd9acf42/39687acb-505b-4c69-94f1-afaa7cb5e636low.mp4">http://dp8hsntg6do36.cloudfront.net/62067f085577c277dd9acf42/39687acb-505b-4c69-94f1-afaa7cb5e636low.mp4</a></p></td>
<td><p>645</p></td>
<td><p>2022-02-11T17:00:00+00:00</p></td>
<td><p>nan</p></td>
<td><p>NaT</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/sitemap.xml">https://www.wired.com/video/sitemap.xml</a></p></td>
<td><p>W/90b11f47f8b2ab57cb180cbd3c6f06f9</p></td>
<td><p>2.86199</p></td>
<td><p>2022-02-12 20:24:55.841851+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/watch/wired-news-and-science-samsung-s22">https://www.wired.com/video/watch/wired-news-and-science-samsung-s22</a></p></td>
<td></td>
<td><p><a class="reference external" href="http://dwgyu36up6iuz.cloudfront.net/heru80fdn/image/upload/c_fill,d_placeholder_thescene.jpg,fl_progressive,g_face,h_180,q_80,w_320/v1644418652/wired_wired-news-and-science-samsung-s22.jpg">http://dwgyu36up6iuz.cloudfront.net/heru80fdn/image/upload/c_fill,d_placeholder_thescene.jpg,fl_progressive,g_face,h_180,q_80,w_320/v1644418652/wired_wired-news-and-science-samsung-s22.jpg</a></p></td>
<td><p>Currents - Samsung S22 Ultra Explained in 3 Minutes</p></td>
<td><p>Julian Chokkattu, Reviews Editor for WIRED, walks us through a few of the Samsung S22 Ultra's new features.</p></td>
<td><p><a class="reference external" href="http://dp8hsntg6do36.cloudfront.net/6203cd7b5577c23d19622259/fe546b9b-a320-4883-9cbd-0d790f23c36dlow.mp4">http://dp8hsntg6do36.cloudfront.net/6203cd7b5577c23d19622259/fe546b9b-a320-4883-9cbd-0d790f23c36dlow.mp4</a></p></td>
<td><p>184</p></td>
<td><p>2022-02-10T17:00:00+00:00</p></td>
<td><p>nan</p></td>
<td><p>NaT</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/sitemap.xml">https://www.wired.com/video/sitemap.xml</a></p></td>
<td><p>W/90b11f47f8b2ab57cb180cbd3c6f06f9</p></td>
<td><p>2.86199</p></td>
<td><p>2022-02-12 20:24:55.841851+00:00</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/watch/first-look-samsung-galaxy-unpacked-2022">https://www.wired.com/video/watch/first-look-samsung-galaxy-unpacked-2022</a></p></td>
<td></td>
<td><p><a class="reference external" href="http://dwgyu36up6iuz.cloudfront.net/heru80fdn/image/upload/c_fill,d_placeholder_thescene.jpg,fl_progressive,g_face,h_180,q_80,w_320/v1644381627/wired_first-look-samsung-galaxy-unpacked-2022.jpg">http://dwgyu36up6iuz.cloudfront.net/heru80fdn/image/upload/c_fill,d_placeholder_thescene.jpg,fl_progressive,g_face,h_180,q_80,w_320/v1644381627/wired_first-look-samsung-galaxy-unpacked-2022.jpg</a></p></td>
<td><p>First Look: Samsung Galaxy Unpacked 2022</p></td>
<td><p>Samsung has debuted three new smartphones‚Äîthe Galaxy S22 Ultra, S22+, S22‚Äîand three Android tablets in various sizes at Samsung Unpacked 2022. WIRED's Julian Chokkattu takes a look at the newest features.</p></td>
<td><p><a class="reference external" href="http://dp8hsntg6do36.cloudfront.net/620345a15577c23d46622256/d74930cf-11e1-466e-b023-1d9b91664204low.mp4">http://dp8hsntg6do36.cloudfront.net/620345a15577c23d46622256/d74930cf-11e1-466e-b023-1d9b91664204low.mp4</a></p></td>
<td><p>373</p></td>
<td><p>2022-02-09T15:00:00+00:00</p></td>
<td><p>nan</p></td>
<td><p>NaT</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/sitemap.xml">https://www.wired.com/video/sitemap.xml</a></p></td>
<td><p>W/90b11f47f8b2ab57cb180cbd3c6f06f9</p></td>
<td><p>2.86199</p></td>
<td><p>2022-02-12 20:24:55.841851+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/watch/reinventing-with-data">https://www.wired.com/video/watch/reinventing-with-data</a></p></td>
<td></td>
<td><p><a class="reference external" href="http://dwgyu36up6iuz.cloudfront.net/heru80fdn/image/upload/c_fill,d_placeholder_thescene.jpg,fl_progressive,g_face,h_180,q_80,w_320/v1642801328/wired_reinventing-with-data.jpg">http://dwgyu36up6iuz.cloudfront.net/heru80fdn/image/upload/c_fill,d_placeholder_thescene.jpg,fl_progressive,g_face,h_180,q_80,w_320/v1642801328/wired_reinventing-with-data.jpg</a></p></td>
<td><p>Reinventing With Data | WIRED Brand Lab</p></td>
<td><p>Produced by WIRED Brand Lab with AWS | What can the Seattle Seahawks winning strategy teach businesses?
Swami Sivasubramanian, VP of AI at Amazon Web Services helps us to understand how the Seattle Seahawks are using data and AI to remain a top performing team in the NFL, and how their process of data capture, storage, and machine learning to gain strategic insights is a model for making better business decision across industries.</p></td>
<td><p><a class="reference external" href="http://dp8hsntg6do36.cloudfront.net/619bd9be1d75db41adee6b58/d4889b15-4f34-41b0-b935-0c79465a9793low.mp4">http://dp8hsntg6do36.cloudfront.net/619bd9be1d75db41adee6b58/d4889b15-4f34-41b0-b935-0c79465a9793low.mp4</a></p></td>
<td><p>292</p></td>
<td><p>2022-02-09T13:00:00+00:00</p></td>
<td><p>nan</p></td>
<td><p>NaT</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/sitemap.xml">https://www.wired.com/video/sitemap.xml</a></p></td>
<td><p>W/90b11f47f8b2ab57cb180cbd3c6f06f9</p></td>
<td><p>2.86199</p></td>
<td><p>2022-02-12 20:24:55.841851+00:00</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/watch/seth-rogen-answers-the-webs-most-searched-questions">https://www.wired.com/video/watch/seth-rogen-answers-the-webs-most-searched-questions</a></p></td>
<td></td>
<td><p><a class="reference external" href="http://dwgyu36up6iuz.cloudfront.net/heru80fdn/image/upload/c_fill,d_placeholder_thescene.jpg,fl_progressive,g_face,h_180,q_80,w_320/v1644335726/wired_seth-rogen-answers-the-webs-most-searched-questions.jpg">http://dwgyu36up6iuz.cloudfront.net/heru80fdn/image/upload/c_fill,d_placeholder_thescene.jpg,fl_progressive,g_face,h_180,q_80,w_320/v1644335726/wired_seth-rogen-answers-the-webs-most-searched-questions.jpg</a></p></td>
<td><p>Autocomplete Interview - Seth Rogen Answers The Web‚Äôs Most Searched Questions</p></td>
<td><p>&quot;Pam &amp;amp; Tommy&quot; star Seth Rogen takes the WIRED Autocomplete Interview once again and answers the internet's most searched questions about himself. Who does Seth Rogen look like? Does Seth have a podcast? Does he sell pottery? Does he celebrate Christmas? Does he play Call of Duty?</p>
<p>Pam &amp;amp; Tommy premieres February 2 on Hulu (finale on March 9)</p>
</td>
<td><p><a class="reference external" href="http://dp8hsntg6do36.cloudfront.net/6201430a1d75db06ae1f62e8/488ed635-91d0-4281-9e64-34be9bf74f00low.mp4">http://dp8hsntg6do36.cloudfront.net/6201430a1d75db06ae1f62e8/488ed635-91d0-4281-9e64-34be9bf74f00low.mp4</a></p></td>
<td><p>635</p></td>
<td><p>2022-02-08T17:00:00+00:00</p></td>
<td><p>nan</p></td>
<td><p>NaT</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/sitemap.xml">https://www.wired.com/video/sitemap.xml</a></p></td>
<td><p>W/90b11f47f8b2ab57cb180cbd3c6f06f9</p></td>
<td><p>2.86199</p></td>
<td><p>2022-02-12 20:24:55.841851+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>2950</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/genres/how-to">https://www.wired.com/video/genres/how-to</a></p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>NaT</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/sitemap.xml">https://www.wired.com/video/sitemap.xml</a></p></td>
<td><p>W/90b11f47f8b2ab57cb180cbd3c6f06f9</p></td>
<td><p>2.86199</p></td>
<td><p>2022-02-12 20:24:55.841851+00:00</p></td>
</tr>
<tr class="row-even"><td><p>2951</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/genres/movies-tv">https://www.wired.com/video/genres/movies-tv</a></p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>NaT</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/sitemap.xml">https://www.wired.com/video/sitemap.xml</a></p></td>
<td><p>W/90b11f47f8b2ab57cb180cbd3c6f06f9</p></td>
<td><p>2.86199</p></td>
<td><p>2022-02-12 20:24:55.841851+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>2952</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/genres/events">https://www.wired.com/video/genres/events</a></p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>NaT</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/sitemap.xml">https://www.wired.com/video/sitemap.xml</a></p></td>
<td><p>W/90b11f47f8b2ab57cb180cbd3c6f06f9</p></td>
<td><p>2.86199</p></td>
<td><p>2022-02-12 20:24:55.841851+00:00</p></td>
</tr>
<tr class="row-even"><td><p>2953</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/genres/promotion">https://www.wired.com/video/genres/promotion</a></p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>NaT</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/sitemap.xml">https://www.wired.com/video/sitemap.xml</a></p></td>
<td><p>W/90b11f47f8b2ab57cb180cbd3c6f06f9</p></td>
<td><p>2.86199</p></td>
<td><p>2022-02-12 20:24:55.841851+00:00</p></td>
</tr>
<tr class="row-odd"><td><p>2954</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/genres/transportation">https://www.wired.com/video/genres/transportation</a></p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>nan</p></td>
<td><p>NaT</p></td>
<td><p><a class="reference external" href="https://www.wired.com/video/sitemap.xml">https://www.wired.com/video/sitemap.xml</a></p></td>
<td><p>W/90b11f47f8b2ab57cb180cbd3c6f06f9</p></td>
<td><p>2.86199</p></td>
<td><p>2022-02-12 20:24:55.841851+00:00</p></td>
</tr>
</tbody>
</table>
</section>
<section id="request-headers">
<h2>Request Headers<a class="headerlink" href="#request-headers" title="Link to this heading">ÔÉÅ</a></h2>
<p>You can set and change any request header while runnig this function if you want to
modify its behavior. This can be done using a simple dictionary, where the keys are the
names of the headers and values are their values.</p>
<p>For example, one of the common use-cases is to set a different User-agent than the
default one:</p>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adv</span><span class="o">.</span><span class="n">sitemap_to_df</span><span class="p">(</span><span class="s2">&quot;https://www.ft.com/sitemaps/news.xml&quot;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;User-agent&quot;</span><span class="p">:</span> <span class="s2">&quot;YOUR-USER-AGENT&quot;</span><span class="p">})</span>
</pre></div>
</div>
<p>Another interesting thing you might want to do is utilize the <cite>If-None-Match</cite> header.
In many cases the sitemaps return an etag for the sitemap. This is to make it easier to
know whether or not a sitemap has changed. A different etag means the sitemap has been
updated/changed.</p>
<p>With large sitemaps, where many sub-sitemaps don't change that much you don't need to
re-download the sitemap every time. You can simply use this header which would download
the sitemap only if it has a different etag. This can also be useful with frequently
changing sitemaps like news sitemaps for example. In this case you probably want to
constantly check but only fetch the sitemap if it was changed.</p>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># First time:</span>
<span class="n">ft</span> <span class="o">=</span> <span class="n">adv</span><span class="o">.</span><span class="n">sitemap_to_df</span><span class="p">(</span><span class="s2">&quot;https://www.ft.com/sitemaps/news.xml&quot;</span><span class="p">)</span>
<span class="n">etag</span> <span class="o">=</span> <span class="n">ft</span><span class="p">[</span><span class="s1">&#39;etag&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Second time:</span>
<span class="n">ft</span> <span class="o">=</span> <span class="n">adv</span><span class="o">.</span><span class="n">sitemap_to_df</span><span class="p">(</span><span class="s2">&quot;https://www.ft.com/sitemaps/news.xml&quot;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;If-None-Match&quot;</span><span class="p">:</span> <span class="n">etag</span><span class="p">})</span>
</pre></div>
</div>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="advertools.sitemaps.sitemap_to_df">
<span class="sig-name descname"><span class="pre">sitemap_to_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sitemap_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/advertools/sitemaps.html#sitemap_to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#advertools.sitemaps.sitemap_to_df" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Retrieve all URLs and other available tags of a sitemap(s) and put them in
a DataFrame.</p>
<p>You can also pass the URL of a sitemap index, or a link to a robots.txt
file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sitemap_url</strong> (<em>url</em>) -- The URL of a sitemap, either a regular sitemap, a
sitemap index, or a link to a robots.txt file.
In the case of a sitemap index or robots.txt, the
function will go through all the sub sitemaps and
retrieve all the included URLs in one DataFrame.</p></li>
<li><p><strong>max_workers</strong> (<em>int</em>) -- The maximum number of workers to use for threading.
The higher the faster, but with high numbers you
risk being blocked and/or missing some data as you
might appear like an attacker.</p></li>
<li><p><strong>recursive</strong> (<em>bool</em>) -- Whether or not to follow and import all sub-sitemaps
(in case you have a sitemap index), or to only
import the given sitemap. This might be useful in
case you want to explore what sitemaps are available
after which you can decide which ones you are
interested in.</p></li>
<li><p><strong>request_headers</strong> (<em>dict</em>) -- One or more request headers to use while
fetching the sitemap.</p></li>
</ul>
</dd>
<dt class="field-even">Return sitemap_df<span class="colon">:</span></dt>
<dd class="field-even"><p>A pandas DataFrame containing all URLs, as well as
other tags if available (<code class="docutils literal notranslate"><span class="pre">lastmod</span></code>, <code class="docutils literal notranslate"><span class="pre">changefreq</span></code>,
<code class="docutils literal notranslate"><span class="pre">priority</span></code>, or others found in news, video, or image
sitemaps).</p>
</dd>
</dl>
</dd></dl>


    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "eliasdabbas/adv_docs_thebe",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="advertools.robotstxt.html" class="btn btn-neutral float-left" title="ü§ñ Analyze and Test robots.txt Files on a Large Scale" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="advertools.spider.html" class="btn btn-neutral float-right" title="üï∑ Python SEO Crawler / Spider" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Elias Dabbas.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>