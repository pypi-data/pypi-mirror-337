(()=>{"use strict";({512:function(){var e=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function c(e){try{s(i.next(e))}catch(e){a(e)}}function d(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,d)}s((i=i.apply(e,t||[])).next())}))};document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("file-editor"),n=document.getElementById("save-button"),i=document.getElementById("undo-button"),o=document.getElementById("reset-button"),a=document.getElementById("save-indicator");let c=t.value;function d(e){a.classList.toggle("saved",e),a.classList.toggle("unsaved",!e)}t.addEventListener("input",(()=>d(t.value===c))),n.addEventListener("click",(()=>e(void 0,void 0,void 0,(function*(){const e=yield fetch("/api/save_file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:window.location.pathname,content:t.value})}),n=yield e.json();n.success?(c=t.value,d(!0)):alert("Error saving file: "+n.message)})))),i.addEventListener("click",(()=>{t.value=c,d(!0)})),o.addEventListener("click",(()=>{t.value="",d(!1)}))}))}})[512]()})();