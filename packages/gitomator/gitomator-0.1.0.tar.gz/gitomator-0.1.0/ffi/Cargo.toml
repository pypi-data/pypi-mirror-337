[package]
name = "gitomator-ffi"
version.workspace = true
authors.workspace = true
edition.workspace = true
license.workspace = true
repository.workspace = true
description = "FFI bindings for the gitomator library"

[lib]
name = "gitomator_ffi"
crate-type = ["cdylib", "rlib"]

# For maturin
path = "src/lib.rs"

[dependencies]
gitomator-core = { path = "../core", features = ["serde"] }
thiserror.workspace = true
pyo3 = { version = "0.24.0", features = ["extension-module"] }

[build-dependencies]
cbindgen = "0.24"
pyo3-build-config = "0.24.0"

[package.metadata.maturin]
features = ["pyo3/extension-module"]
python-source = "gitomator"
python-package-dir = "gitomator"
include = [
    "gitomator/py.typed",
    "gitomator/__init__.pyi"
]

[package.metadata.maturin.python]
requires-python = ">=3.7"
classifiers = [
    "Development Status :: 3 - Alpha",
    "Intended Audience :: Developers",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.7",
    "Programming Language :: Python :: 3.8",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Rust",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Topic :: Software Development :: Version Control :: Git",
]
