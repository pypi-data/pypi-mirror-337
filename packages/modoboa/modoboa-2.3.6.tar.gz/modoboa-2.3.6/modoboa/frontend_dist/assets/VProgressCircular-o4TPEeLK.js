import{i as o,bx as y,be as x,bC as b,bD as $,bE as M,bF as B,G as S,s as F,bz as U,l as D,k as A,q as z,bn as G,bs as j,j as d,y as q,z as W,B as H,D as h,n as J,a as u}from"./index-Bbkf9DIc.js";import{m as K,a as L,b as Q,u as X}from"./tag-BgJ4tZGv.js";function w(e){return x(()=>{const a=[],s={};if(e.value.background)if(b(e.value.background)){if(s.backgroundColor=e.value.background,!e.value.text&&$(e.value.background)){const t=M(e.value.background);if(t.a==null||t.a===1){const r=B(t);s.color=r,s.caretColor=r}}}else a.push(`bg-${e.value.background}`);return e.value.text&&(b(e.value.text)?(s.color=e.value.text,s.caretColor=e.value.text):a.push(`text-${e.value.text}`)),{colorClasses:a,colorStyles:s}})}function k(e,a){const s=o(()=>({text:y(e)?e.value:a?e[a]:null})),{colorClasses:t,colorStyles:r}=w(s);return{textColorClasses:t,textColorStyles:r}}function re(e,a){const s=o(()=>({background:y(e)?e.value:a?e[a]:null})),{colorClasses:t,colorStyles:r}=w(s);return{backgroundColorClasses:t,backgroundColorStyles:r}}function Y(e,a){const s=S(),t=F(!1);if(U){const r=new IntersectionObserver(l=>{t.value=!!l.find(n=>n.isIntersecting)},a);D(()=>{r.disconnect()}),A(s,(l,n)=>{n&&(r.unobserve(n),t.value=!1),l&&r.observe(l)},{flush:"post"})}return{intersectionRef:s,isIntersecting:t}}const Z=["x-small","small","default","large","x-large"],p=z({size:{type:[String,Number],default:"default"}},"size");function ee(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G();return x(()=>{let s,t;return j(Z,e.size)?s=`${a}--size-${e.size}`:e.size&&(t={width:d(e.size),height:d(e.size)}),{sizeClasses:s,sizeStyles:t}})}const se=z({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...K(),...p(),...L({tag:"div"}),...q()},"VProgressCircular"),le=W()({name:"VProgressCircular",props:se(),setup(e,a){let{slots:s}=a;const t=20,r=2*Math.PI*t,l=S(),{themeClasses:n}=H(e),{sizeClasses:N,sizeStyles:g}=ee(e),{textColorClasses:R,textColorStyles:P}=k(h(e,"color")),{textColorClasses:I,textColorStyles:T}=k(h(e,"bgColor")),{intersectionRef:_,isIntersecting:E}=Y(),{resizeRef:O,contentRect:f}=Q(),i=o(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),c=o(()=>Number(e.width)),C=o(()=>g.value?Number(e.size):f.value?f.value.width:Math.max(c.value,32)),v=o(()=>t/(1-c.value/C.value)*2),m=o(()=>c.value/C.value*v.value),V=o(()=>d((100-i.value)/100*r));return J(()=>{_.value=l.value,O.value=l.value}),X(()=>u(e.tag,{ref:l,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":E.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},n.value,N.value,R.value,e.class],style:[g.value,P.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:i.value},{default:()=>[u("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${v.value} ${v.value}`},[u("circle",{class:["v-progress-circular__underlay",I.value],style:T.value,fill:"transparent",cx:"50%",cy:"50%",r:t,"stroke-width":m.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),u("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:t,"stroke-width":m.value,"stroke-dasharray":r,"stroke-dashoffset":V.value},null)]),s.default&&u("div",{class:"v-progress-circular__content"},[s.default({value:i.value})])]})),{}}});export{le as V,k as a,ee as b,w as c,Y as d,p as m,re as u};
