[project]
authors = [{name = "Iain McConnell", email = "ilmcconnell@github.id"}]
dependencies = [
    "pydantic >= 2.10.6",
    "httpx >= 0.28.1",
    "pandas >= 2.2.3",
]
name = "wiscopy"
requires-python = ">= 3.10"
version = "0.1.0"
classifiers = [
    "Programming Language :: Python :: 3",
    "Operating System :: OS Independent",
]
license = "MIT"
license-files = ["LICENSE"]

[project.optional-dependencies]
plot = [
    "hvplot>=0.11.2",
    "matplotlib>=3.10.1",
]

[project.urls]
Homepage = "https://github.com/UW-Madison-DSI/wiscopy"
Issues = "https://github.com/UW-Madison-DSI/wiscopy/issues"

[build-system]
build-backend = "hatchling.build"
requires = ["hatchling"]

[tool.hatch.build.targets.sdist]
ignore-vcs = true
include = [
    "LICENSE",
    "README.md",
    "pyproject.toml",
    "pixi.lock",
    "/src"
]
exclude = [
    "/tests",
    "/data"
]

[tool.hatch.build.targets.wheel]
packages = ["src/wiscopy"]

[tool.pytest.ini_options]
testpaths = ["tests"]

[tool.pixi.project]
channels = ["conda-forge"]
platforms = ["linux-64", "osx-64", "osx-arm64"] 

[tool.pixi.pypi-dependencies]
wiscopy = { path = ".", editable = true }

[tool.pixi.tasks]

[tool.pixi.dependencies]
pydantic = ">=2.10.6,<3"
httpx = ">=0.28.1,<0.29"
pandas = ">=2.2.3,<3"
python = ">=3.10,<3.13"

[tool.pixi.feature.dev.dependencies]
ipykernel = ">=6.29.5,<7"
hatch = ">=1.14.0,<2"

[tool.pixi.feature.test.dependencies]
pytest = "*"

[tool.pixi.feature.plot.dependencies]
hvplot = "*"
matplotlib = "*"

[tool.pixi.environments]
dev = ["dev", "plot", "test"]
