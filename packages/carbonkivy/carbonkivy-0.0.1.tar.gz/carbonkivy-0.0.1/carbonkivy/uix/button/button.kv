<CButton>:
    size_hint: None, None
    cbutton_layout: cbutton_box_layout
    text_color: app.text_on_color
    _text_color: app.text_on_color_disabled if self.cstate == "disabled" else self.text_color
    line_color: app.focus
    font_size: plex_16
    spacing: dp(32)
    padding: [dp(16), 0, dp(64) if not self.icon else dp(16), 0]
    width: self.cbutton_layout.width if (self.text.rstrip() != "") else self.height

    BoxLayout:
        id: cbutton_box_layout
        size_hint: None, 1
        width: self.minimum_width
        spacing: root.spacing
        padding: root.padding
        pos_hint: {'center_x': 0.5,'center_y': 0.5}

        Label:
            id: cbutton_layout_label
            text: root.text
            color: root._text_color
            font_size: root.font_size
            size_hint: None, 1
            width: self.texture_size[0]
            pos_hint: {'center_y': 0.5}


<CButtonPrimary>:
    ctoken: "Primary"
    active_color: app.button_primary_active
    hover_color: app.button_primary_hover


<CButtonSecondary>:
    ctoken: "Secondary"
    active_color: app.button_secondary_active
    hover_color: app.button_secondary_hover


<CButtonGhost>:
    ctoken: "Ghost"
    inset_width: 0
    active_color: app.background_active
    hover_color: app.background_hover
    text_color: app.link_primary_hover if self.cstate == "active" else app.link_primary
    padding: [dp(16), 0, dp(16), 0]
