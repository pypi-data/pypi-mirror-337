"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{35783:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(57437),a=t(10336),r=t(63287),l=t(34553),i=t(12482);function s(e){let{soundEvent:n,...t}=e,s=(0,r.Z)(e=>e.getTagColor),{data:u,addTag:c,removeTag:d}=(0,a.Z)({uuid:n.uuid,soundEventAnnotation:n,onAddTag:t.onAddTag,onRemoveTag:t.onRemoveTag});return(0,o.jsx)(l.lR,{soundEvent:u||n,...t,tagColorFn:s,onAddTag:c.mutate,onRemoveTag:d.mutate,TagSearchBar:i.Z})}},12482:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(57437),a=t(2265),r=t(26823),l=t(43431),i=t(26364);function s(e){let{onCreateTag:n,...t}=e,s=(0,a.useContext)(l.Z),{data:u,addTag:c}=(0,r.Z)({uuid:s.uuid,annotationProject:s}),d=(0,a.useMemo)(()=>({annotation_project:u||s}),[u,s]),f=(0,a.useCallback)(e=>{c.mutate(e),null==n||n(e)},[c,n]);return(0,o.jsx)(i.Z,{onCreateTag:f,filter:d,fixed:["annotation_project"],...t})}},26364:function(e,n,t){t.d(n,{Z:function(){return h}});var o=t(57437),a=t(2265),r=t(25524),l=t(39527),i=t(58002),s=t(90840);let u={},c=[];var d=t(63287),f=t(98632);function h(e){let{onCreateTag:n,filter:t,fixed:h,pageSize:v,enabled:g,...p}=e,m=(0,d.Z)(e=>e.getTagColor),{items:y,create:b,filter:x}=function(){let{filter:e=u,fixed:n=c,pageSize:t=10,enabled:o=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,i.Z)({defaults:e,fixed:n,debounce:50}),{items:d,total:f,query:h,pagination:v}=(0,s.Z)({name:"tags",queryFn:l.Z.tags.get,pageSize:t,filter:a.filter,enabled:o}),g=(0,r.D)({mutationFn:l.Z.tags.create,onSuccess:()=>{h.refetch()}});return{...h,items:d,total:f,pagination:v,filter:a,create:g}}({filter:t,fixed:h,pageSize:v,enabled:g}),k=(0,a.useCallback)(e=>{b.mutate(e,{onSuccess:e=>{null==n||n(e)}})},[n,b]);return(0,o.jsx)(f.Z,{tags:y,tagColorFn:m,onCreateTag:k,onChangeQuery:e=>{null==e.key||null==e.value?x.update({search:e.q,key:void 0,value:void 0}):x.update({search:void 0,key:e.key,value:{has:e.value}})},...p})}},43431:function(e,n,t){let o=(0,t(2265).createContext)({name:"",description:"",tags:[],created_on:new Date,uuid:""});n.Z=o},26823:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(25524),a=t(2265),r=t(88726),l=t(39527),i=t(57467);function s(e){let{uuid:n,annotationProject:t,onUpdate:s,onDelete:u,onAddTag:c,onRemoveTag:d,onAddAnnotationTasks:f,onError:h,enabled:v=!0}=e,{query:g,useMutation:p,client:m}=(0,i.ZP)({id:n,initialData:t,name:"annotation_project",enabled:v,queryFn:l.Z.annotationProjects.get,onError:h}),y=p({mutationFn:l.Z.annotationProjects.update,onSuccess:e=>{r.ZP.success("Annotation project updated"),null==s||s(e)}}),b=p({mutationFn:l.Z.annotationProjects.addTag,onSuccess:c}),x=p({mutationFn:l.Z.annotationProjects.removeTag,onSuccess:d}),k=p({mutationFn:l.Z.annotationProjects.delete,onSuccess:u}),{data:j}=g,w=(0,a.useCallback)(async e=>{if(null==j)return;let n=await l.Z.clips.createMany(e);return await l.Z.annotationTasks.createMany(j,n)},[j]),Z=(0,o.D)({mutationFn:w,onSuccess:e=>{null!=e&&(null==f||f(e),m.invalidateQueries({queryKey:["annotation_project",n]}))}}),C=(0,a.useCallback)(async()=>{await r.ZP.promise(l.Z.annotationProjects.download(n),{loading:"Downloading...",success:"Download complete",error:"Failed to download dataset"})},[n]);return{...g,update:y,addTag:b,addAnnotationTasks:Z,removeTag:x,delete:k,download:C}}},10336:function(e,n,t){t.d(n,{Z:function(){return i}});var o=t(25524),a=t(2265),r=t(39527),l=t(57467);function i(e){let{uuid:n,soundEventAnnotation:t,clipAnnotation:i,onDelete:s,onUpdate:u,onAddTag:c,onRemoveTag:d,onAddNote:f,onError:h,enabled:v=!0,withRecording:g=!1}=e,{query:p,useQuery:m,useMutation:y,useDestruction:b,client:x}=(0,l.ZP)({name:"sound_event_annotation",id:n,initialData:t,enabled:v,queryFn:r.Z.soundEventAnnotations.get,onError:h}),k=m({secondaryName:"recording",queryFn:(0,a.useMemo)(()=>g?()=>{if(null==p.data)throw Error("Cannot get recording for sound event annotation without recording");return r.Z.soundEvents.getRecording(p.data.sound_event)}:()=>{throw Error("Cannot get recording for sound event annotation without recording")},[p.data,g]),enabled:g&&null!=p.data}),j=(0,a.useCallback)(e=>{null!=i&&x.setQueryData(["clip_annotation",i.uuid],n=>{var t;if(null!=n)return{...n,sound_events:null===(t=n.sound_events)||void 0===t?void 0:t.map(n=>n.uuid===e.uuid?e:n)}})},[x,i]),w=(0,a.useCallback)(e=>{null==u||u(e),j(e)},[u,j]),Z=y({mutationFn:r.Z.soundEventAnnotations.update,onSuccess:w}),C=(0,a.useCallback)(e=>{null==s||s(e),j(e)},[s,j]),E=b({mutationFn:r.Z.soundEventAnnotations.delete,onSuccess:C}),N=(0,a.useCallback)((e,n)=>{null==c||c(n),j(e)},[c,j]),T=y({mutationFn:r.Z.soundEventAnnotations.addTag,onSuccess:N}),F=(0,a.useCallback)((e,n)=>{null==d||d(n),j(e)},[d,j]),P=y({mutationFn:r.Z.soundEventAnnotations.removeTag,onSuccess:F}),S=(0,a.useCallback)((e,n)=>{null==f||f(n),j(e)},[f,j]),A=y({mutationFn:r.Z.soundEventAnnotations.addNote,onSuccess:S}),D=(0,o.D)({mutationFn:e=>{let{note:n,data:t}=e;return r.Z.notes.update(n,t)},onSuccess:()=>{p.refetch()}}),q=y({mutationFn:r.Z.soundEventAnnotations.removeNote});return{...p,update:Z,delete:E,addTag:T,removeTag:P,addNote:A,updateNote:D,removeNote:q,recording:k}}},68097:function(e,n,t){var o=t(57437),a=t(2265),r=t(26077);let l=(0,a.memo)(function(e){return(0,o.jsxs)(r.Z,{className:"w-full",children:[(0,o.jsxs)("div",{className:"flex flex-row gap-4",children:[e.ViewportToolbar,e.AnnotationControls,e.Player,e.SettingsMenu]}),e.Canvas,e.ViewportBar,e.SelectedSoundEvent]})});n.Z=l},34553:function(e,n,t){t.d(n,{ZP:function(){return f},lR:function(){return h}});var o=t(57437),a=t(56800),r=t.n(a),l=t(2265),i=t(90912),s=t(51534),u=t(53744),c=t(43468),d=t(22497);function f(e){let{children:n,soundEvents:t,viewport:a,SoundEventTags:r=h,...i}=e,{size:c,ref:d}=(0,s.Z)(),f=(0,l.useMemo)(()=>t.filter(e=>(0,u.PT)(e.sound_event.geometry,a)),[t,a]);return(0,o.jsxs)("div",{className:"relative w-full h-full rounded",ref:d,children:[n,f.map(e=>(0,o.jsx)(r,{viewport:a,soundEvent:e,dimensions:c,...i},e.uuid))]})}function h(e){var n;let{soundEvent:t,viewport:a,dimensions:l,enabled:i=!0,tagColorFn:s=c.vm,onRemoveTag:u,onAddTag:f,...h}=e,{x:g,y:p}=(0,c.DI)(t,a,l);return(0,o.jsxs)("div",{className:r()("h-5 flex flex-col absolute px-2 text-stone-300 hover:z-50 z-40"),style:{left:g,top:p},children:[(0,o.jsx)("div",{className:"flex relative right-0 flex-col hover:gap-2 -ms-2",children:null===(n=t.tags)||void 0===n?void 0:n.map(e=>(0,o.jsx)(v,{disabled:!i,tagColorFn:s,onClick:()=>null==u?void 0:u(e),tag:e},(0,c.ix)(e)))}),i&&(0,o.jsx)(d.Z,{onSelectTag:f,...h})]})}function v(e){let{tag:n,onClick:t,tagColorFn:a=c.vm,disabled:r=!1}=e,s=a(n),u=(0,l.useMemo)(()=>"bg-".concat(s.color,"-500"),[s]);return(0,o.jsxs)("span",{className:"flex flex-row gap-1 items-center px-2 -my-2 rounded-full transition-all group bg-stone-200/0 dark:bg-stone-800/0 hover:bg-stone-200 hover:dark:bg-stone-800",children:[(0,o.jsx)("span",{className:"inline-block my-2 w-2 h-2 rounded-full ".concat(u," ring-1 ring-stone-900 opacity-100")}),(0,o.jsxs)("button",{type:"button",className:"hidden flex-row gap-1 items-center opacity-0 transition-all group-hover:flex group-hover:opacity-100 hover:text-red-500 text-stone-800 dark:text-stone-400",onClick:t,children:[(0,o.jsx)("span",{className:"hidden text-xs font-thin whitespace-nowrap opacity-0 transition-all group-hover:inline-block group-hover:opacity-100",children:n.key}),(0,o.jsx)("span",{className:"hidden text-sm font-medium whitespace-nowrap opacity-0 transition-all group-hover:inline-block group-hover:opacity-100",children:n.value}),!r&&(0,o.jsx)(i.Tw,{className:"inline-block w-3 h-3 stroke-2"})]})]})}},22497:function(e,n,t){var o=t(57437),a=t(91470),r=t(49896),l=t(2265),i=t(90912),s=t(98632),u=t(56541);let c=(0,l.memo)(function(e){let{text:n="add",variant:t="secondary",placement:l="bottom-start",onKeyDown:c,TagSearchBar:d=s.Z,...f}=e;return(0,o.jsx)(r.J,{as:"div",className:"inline-block text-left",children:(0,o.jsxs)(a.bv,{zIndex:20,placement:l,offset:4,enter:"transition duration-200 ease-out",enterFrom:"scale-95 opacity-0",enterTo:"scale-100 opacity-100",leave:"transition duration-150 ease-in",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-95 opacity-0",portal:!0,children:[(0,o.jsx)(r.J.Button,{as:"div",children:(0,o.jsxs)(u.Z,{mode:"text",variant:t,padding:"py-1",children:[(0,o.jsx)(i.dt,{className:"inline-block w-5 h-5 align-middle"}),n]})}),(0,o.jsx)(r.J.Panel,{className:"w-72",focus:!0,children:e=>{let{close:n}=e;return(0,o.jsx)(d,{onKeyDown:e=>{if("Escape"===e.key){n();return}null==c||c(e)},...f})}})]})})});n.Z=c},98632:function(e,n,t){var o=t(57437),a=t(91470),r=t(78026),l=t(76057),i=t(2265),s=t(92369),u=t(79471),c=t(18197),d=t(43468);function f(e){let{children:n}=e;return(0,o.jsx)("div",{className:"py-1 text-stone-700 dark:text-stone-300",role:"none",children:n})}function h(e){let{tag:n}=e;return null==n.key||null==n.value?(0,o.jsx)(f,{children:(0,o.jsxs)("div",{className:"relative py-2 px-4 cursor-default select-none",children:["To create a new tag, type the tag in the format"," ",(0,o.jsx)("code",{className:"text-emerald-500",children:"key:value"})," and press"," ",(0,o.jsx)(c.Z,{keys:["Shift","Enter"]})]})}):(0,o.jsx)(f,{children:(0,o.jsxs)("div",{className:"relative py-2 px-4 cursor-default select-none",children:["Create the tag"," ",(0,o.jsx)(u.ZP,{disabled:!0,tag:{key:n.key,value:n.value},color:"emerald",level:3})," ","by pressing ",(0,o.jsx)(c.Z,{keys:["Shift","Enter"]})]})})}function v(){return(0,o.jsx)(f,{children:(0,o.jsxs)("div",{className:"relative py-2 px-4 cursor-default select-none",children:["No tags found."," "]})})}let g=[],p=(0,i.forwardRef)(function(e,n){let{tags:t=g,tagColorFn:c=d.vm,canCreate:p=!0,onSelectTag:m,onChangeQuery:y,onKeyDown:b,onCreateTag:x,placement:k="bottom-start",...j}=e,[w,Z]=(0,i.useState)({q:"",key:null,value:null}),C=(0,i.useCallback)(e=>{let n=e.target.value,[t,o]=n.split(":",2),a=null==o?{q:n,key:null,value:null}:{q:n,key:t,value:o};Z(a),null==y||y(a)},[y]),E=(0,i.useCallback)(e=>{"Enter"===e.key&&e.shiftKey&&p&&(e.preventDefault(),w.key&&w.value&&(null==x||x({key:w.key,value:w.value}))),null==b||b(e)},[b,p,x,w.key,w.value]);return(0,o.jsx)(r.h,{onChange:e=>null==m?void 0:m(e),children:(0,o.jsxs)(a.bv,{offset:8,enter:"transition duration-200 ease-out",enterFrom:"scale-95 opacity-0",enterTo:"scale-100 opacity-100",leave:"transition duration-150 ease-in",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-95 opacity-0",placement:k,autoPlacement:j.autoPlacement,portal:!0,children:[(0,o.jsxs)("div",{className:"relative w-full text-left cursor-default",children:[(0,o.jsx)(r.h.Input,{as:s.II,ref:n,autoFocus:j.autoFocus,onChange:C,onKeyDown:E,...j}),(0,o.jsx)(r.h.Button,{className:"flex absolute inset-y-0 right-0 items-center pr-2",children:(0,o.jsx)(l.Z,{className:"w-5 h-5","aria-hidden":"true"})})]}),(0,o.jsxs)(r.h.Options,{className:"overflow-y-auto py-1 max-w-sm text-base rounded-md divide-y ring-1 ring-opacity-5 shadow-lg sm:text-sm focus:outline-none divide-stone-200 bg-stone-50 ring-stone-300 dark:divide-stone-600 dark:bg-stone-700 dark:ring-stone-600",children:[0===t.length?(0,o.jsx)(v,{}):(0,o.jsx)(f,{children:t.map(e=>(0,o.jsx)(r.h.Option,{className:e=>{let{active:n}=e;return"cursor-default py-2 pl-4 pr-2 ".concat(n?"bg-stone-200 dark:bg-stone-600":"")},value:e,children:(0,o.jsx)(u.ZP,{disabled:!0,className:"pointer-events-none",tag:e,...c(e)})},"".concat(e.key,":").concat(e.value)))}),p&&(0,o.jsx)(h,{tag:{key:w.key,value:w.value}})]})]})})});n.Z=p},76845:function(e,n,t){t.d(n,{Z:function(){return r}});var o=t(57437),a=t(79803);function r(){let{text:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.jsxs)("div",{className:"flex flex-row justify-center items-center w-full h-full",children:[(0,o.jsx)(a.Z,{})," ",e]})}},75667:function(e,n,t){t.d(n,{Z:function(){return c}});var o=t(55749),a=t(13759),r=t(12415),l=t(24342);let i={fillColor:"red",fillAlpha:1,radius:4};function s(e,n){var t,o,a,r;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;if((null!==(t=l.fillAlpha)&&void 0!==t?t:1)!==0){let{coordinates:t}=n,[i,s]=t;e.fillStyle=null!==(o=l.fillColor)&&void 0!==o?o:"red",e.globalAlpha=null!==(a=l.fillAlpha)&&void 0!==a?a:1,e.beginPath(),e.arc(i,s,null!==(r=l.radius)&&void 0!==r?r:4,0,2*Math.PI,!0),e.fill()}}var u=t(64556);function c(e,n,t){let{type:c}=n;switch(c){case"TimeStamp":(0,l.Z)(e,n.coordinates,t);break;case"TimeInterval":let[d,f]=n.coordinates;(0,a.Z)(e,{min:d,max:f},t);break;case"BoundingBox":(0,o.Z)(e,n.coordinates,t);break;case"Point":s(e,n,t);break;case"MultiPoint":!function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,{coordinates:o}=n;o.forEach(n=>{s(e,{type:"Point",coordinates:n},t)})}(e,n,t);break;case"LineString":(0,r.s6)(e,n,t);break;case"MultiLineString":(0,r.F$)(e,n,t);break;case"Polygon":(0,u.is)(e,n,t);break;case"MultiPolygon":(0,u.$W)(e,n,t);break;default:console.error("Cannot draw unknown geometry type ".concat(c))}}},13759:function(e,n,t){t.d(n,{X:function(){return a},Z:function(){return r}});var o=t(22516);let a={fillColor:"red",fillAlpha:.5,borderWidth:1,borderAlpha:1};function r(e,n){var t,r;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,{canvas:i}=e,{height:s}=i,{min:u,max:c}=n;(null!==(t=l.borderAlpha)&&void 0!==t?t:1)!==0&&((0,o.F6)(e,l),e.beginPath(),e.moveTo(u,0),e.lineTo(u,s),e.stroke(),e.beginPath(),e.moveTo(c,0),e.lineTo(c,s),e.stroke()),(null!==(r=l.fillAlpha)&&void 0!==r?r:.5)!==0&&((0,o.wi)(e,l),e.fillRect(u,0,c-u,s))}},12415:function(e,n,t){t.d(n,{F$:function(){return l},nK:function(){return a},s6:function(){return r}});var o=t(22516);let a={borderColor:"red",borderWidth:2,borderAlpha:1};function r(e,n){var t;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;if((null!==(t=r.borderAlpha)&&void 0!==t?t:1)!==0){let{coordinates:t}=n;if(t.length<2)return;(0,o.F6)(e,r),e.beginPath();let[a,l]=t[0];e.moveTo(a,l),t.slice(1).forEach(n=>{let[t,o]=n;e.lineTo(t,o)}),e.stroke()}}function l(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,{coordinates:o}=n;o.forEach(n=>{r(e,{type:"LineString",coordinates:n},t)})}},64556:function(e,n,t){t.d(n,{$W:function(){return l},is:function(){return r}});let o={borderColor:"red",borderWidth:1,borderAlpha:1,fillAlpha:.5,fillColor:"red"};function a(e,n){if(n.length<2){console.error("Invalid linering. Needs at least two points");return}let[t,o]=n[0];e.moveTo(t,o),n.slice(1).forEach(n=>{let[t,o]=n;return e.lineTo(t,o)}),e.lineTo(t,o)}function r(e,n){var t,r,l,i,s,u;let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,{coordinates:d}=n;if(0===d.length){console.error("Polygon has no exterior ring");return}let f=d[0];if(f.length<2){console.error("Invalid exterior ring for polygon");return}let[h,v]=f[0];e.beginPath(),a(e,f),d.slice(1).forEach(n=>{if(n.length<2){console.error("Invalid interior ring for polygon");return}a(e,n),e.moveTo(h,v)}),e.closePath(),e.fillStyle=null!==(r=null!==(t=c.fillColor)&&void 0!==t?t:c.borderColor)&&void 0!==r?r:"red",e.globalAlpha=null!==(l=c.fillAlpha)&&void 0!==l?l:1,e.fill("evenodd"),e.strokeStyle=null!==(i=c.borderColor)&&void 0!==i?i:"red",e.lineWidth=null!==(s=c.borderWidth)&&void 0!==s?s:1,e.globalAlpha=null!==(u=c.borderAlpha)&&void 0!==u?u:1,c.borderDash&&e.setLineDash(c.borderDash),e.stroke()}function l(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,{coordinates:a}=n;a.forEach(n=>{r(e,{type:"Polygon",coordinates:n},t)})}},16471:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(2265),a=t(75667),r=t(22516),l=t(53744);let i={borderColor:r.Ej,fillColor:r.Ej,borderWidth:2,fillAlpha:.1};function s(e){let{viewport:n,soundEvents:t}=e;return(0,o.useCallback)(e=>{for(let o of t){let t=(0,l.w9)({width:e.canvas.width,height:e.canvas.height},o.sound_event.geometry,n);(0,a.Z)(e,t,i)}},[n,t])}},57467:function(e,n,t){t.d(n,{ZP:function(){return i}});var o=t(25524),a=t(40932),r=t(93191),l=t(2265);function i(e){let{id:n,name:t,enabled:i=!0,queryFn:s,onError:u,staleTime:c=1/0,...d}=e,f=(0,r.NL)(),h=(0,a.a)({queryKey:[t,n],queryFn:()=>s(n),enabled:i,staleTime:c,...d}),v=(0,l.useCallback)(e=>{f.setQueryData([t,n],e)},[f,n,t]),{data:g,status:p,error:m,isError:y}=h;return(0,l.useEffect)(()=>{y&&(null==u||u(m))},[m,y,u]),{query:h,client:f,setData:v,useMutation:e=>{let{mutationFn:a,withUpdate:r=!0,...i}=e;return function(e){let{id:n,data:t,name:a,status:r,client:i,withUpdate:s=!0,mutationFn:u,onSuccess:c,...d}=e,f=(0,l.useCallback)(async e=>{if("pending"===r)throw Error("No data for object of type ".concat(a," (id=").concat(n,"). ")+"Either the query is not enabled or the query is still loading.");if("error"===r)throw Error("Error while loading object of type ".concat(a," (id=").concat(n,"),")+" cannot mutate");if(null==t)throw Error("No data for object of type ".concat(a," (id=").concat(n,"). ")+"The object is null, cannot mutate");return await u(t,e)},[r,t,u,a,n]);return(0,o.D)({...d,mutationFn:f,onSuccess:(e,t,o)=>{s&&i.setQueryData([a,n],e),null==c||c(e,t,o)}})}({id:n,data:g,status:p,client:f,mutationFn:a,name:t,withUpdate:r,...i})},useQuery:e=>{let{queryFn:o,secondaryName:r,enabled:i=!1,...s}=e;return function(e){let{id:n,query:t,name:o,secondaryName:r,enabled:i=!1,queryFn:s,...u}=e,{status:c,data:d}=t,f=(0,l.useCallback)(async()=>{if("pending"===c)throw Error("No data for object of type ".concat(o," (id=").concat(n,"). ")+"Either the query is not enabled or the query is still loading.");if("error"===c)throw Error("Error while loading object of type ".concat(o," (id=").concat(n,"), cannot mutate"));return await s(d)},[c,d,s,o,n]);return(0,a.a)({...u,queryFn:f,queryKey:[o,n,r],enabled:"pending"!==c&&"error"!==c&&i})}({id:n,query:h,queryFn:o,secondaryName:r,name:t,enabled:i,...s})},useDestruction:e=>{let{mutationFn:a,...r}=e;return function(e){let{id:n,query:t,client:a,name:r,mutationFn:i,onSuccess:s,...u}=e,{status:c,data:d}=t,f=(0,l.useCallback)(async()=>{if("pending"===c)throw Error("No data for object of type ".concat(r," (id=").concat(n,"). ")+"Either the query is not enabled or the query is still loading.");if("error"===c)throw Error("Error while loading object of type ".concat(r," (id=").concat(n,"), cannot mutate"));return await i(d)},[c,d,i,r,n]);return(0,o.D)({...u,mutationFn:f,onSuccess:(e,t,o)=>{a.removeQueries({queryKey:[r,n]}),null==s||s(e,t,o)}})}({id:n,query:h,client:f,mutationFn:a,name:t,...r})}}}}}]);