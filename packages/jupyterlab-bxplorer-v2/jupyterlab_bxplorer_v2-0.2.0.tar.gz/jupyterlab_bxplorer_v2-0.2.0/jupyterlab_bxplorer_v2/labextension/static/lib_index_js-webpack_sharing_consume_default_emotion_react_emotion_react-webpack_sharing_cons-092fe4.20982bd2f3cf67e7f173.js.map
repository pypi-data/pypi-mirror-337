{"version":3,"file":"lib_index_js-webpack_sharing_consume_default_emotion_react_emotion_react-webpack_sharing_cons-092fe4.20982bd2f3cf67e7f173.js","mappings":"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","sources":["webpack://jupyterlab-bxplorer-v2/./src/components/BasicTabs.tsx","webpack://jupyterlab-bxplorer-v2/./src/components/CustomTabPanel.tsx","webpack://jupyterlab-bxplorer-v2/./src/components/FMViewComponent.tsx","webpack://jupyterlab-bxplorer-v2/./src/components/FileManagerPanelComponent.tsx","webpack://jupyterlab-bxplorer-v2/./src/handler.ts","webpack://jupyterlab-bxplorer-v2/./src/index.ts","webpack://jupyterlab-bxplorer-v2/./src/widgets/FileManagerPanelWidget.tsx"],"sourcesContent":["import React from 'react';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Box from '@mui/material/Box';\nimport CustomTabPanel from './CustomTabPanel';\nimport FMViewComponent from './FMViewComponent';\n\ninterface BasicTabsProps {\n  downloadsFolder: string;\n}\n\nconst BasicTabs: React.FC<BasicTabsProps> = (props): JSX.Element => {\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event: React.SyntheticEvent, newValue: number) => {\n    setValue(newValue);\n  };\n\n\n  const a11yProps = (index: number) => ({\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  });\n\n  return (\n    <Box sx={{ width: '100%' }}>\n      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n        <Tabs value={value} onChange={handleChange} aria-label=\"basic tabs example\">\n          <Tab label=\"Private\" {...a11yProps(0)} />\n          <Tab label=\"Public\" {...a11yProps(1)} />\n          {/* <Tab label=\"Favorites\" {...a11yProps(2)} /> */}\n        </Tabs>\n      </Box>\n      <CustomTabPanel value={value} index={0}>\n        <FMViewComponent downloadsFolder={props.downloadsFolder} clientType=\"private\" />\n      </CustomTabPanel>\n      <CustomTabPanel value={value} index={1}>\n        <FMViewComponent downloadsFolder={props.downloadsFolder} clientType=\"public\" />\n      </CustomTabPanel>\n      {/* <CustomTabPanel value={value} index={2}>\n        <FMViewComponent downloadsFolder={props.downloadsFolder} clientType=\"favorites\" />\n      </CustomTabPanel> */}\n    </Box>\n  );\n};\n\nexport default BasicTabs;\n","import React from 'react';\nimport Box from '@mui/material/Box';\n\ninterface TabPanelProps {\n     children?: React.ReactNode;\n     index: number;\n     value: number;\n}\n\nconst CustomTabPanel: React.FC<TabPanelProps> = (props: TabPanelProps): JSX.Element => {\n     const { children, value, index, ...other } = props;\n\n     return (\n          <div\n               role=\"tabpanel\"\n               hidden={value !== index}\n               id={`simple-tabpanel-${index}`}\n               aria-labelledby={`simple-tab-${index}`}\n               {...other}\n               style={{ height: \"calc(100vh - 48px)\" }} // Ajusta el valor si el header (tabs) ocupa más/menos\n          >\n               {value === index && (\n                    <Box sx={{ p: 3, height: \"100%\", overflowY: \"auto\" }}>\n                         {children}\n                    </Box>\n               )}\n          </div>\n     );\n}\n\nexport default CustomTabPanel;","import React, { useRef } from 'react';\nimport {\n  FileManagerComponent,\n  Inject,\n  DetailsView,\n  Toolbar,\n} from '@syncfusion/ej2-react-filemanager';\nimport { requestAPI } from '../handler';\nimport { showDialog, Dialog, showErrorMessage } from '@jupyterlab/apputils';\n\ninterface FMViewComponentProps {\n  downloadsFolder: string;\n  clientType: string;\n}\n\nconst FMViewComponent: React.FC<FMViewComponentProps> = (props): JSX.Element => {\n  const downloadsFolder = props.downloadsFolder || \"downloads\";\n  const clientType = props.clientType || \"private\";\n  const fileManagerRef = useRef<FileManagerComponent>(null);\n  const hostUrl: string = \"http://localhost:8000/jupyterlab-bxplorer-v2\";\n  const ajaxSettings: object = {\n    url: hostUrl + \"/FileOperations\",\n  };\n\n  // Evento para inyectar client_type en cada solicitud AJAX del FileManager.\n  const onBeforeSend = (args: any): void => {\n    console.log(\"ajaxBeforeSend action:\", args.action);\n    console.log(\"ajaxBeforeSend args:\", args);\n    let currentData = args.ajaxSettings.data;\n    // Si currentData es un string, lo parseamos a objeto.\n    if (typeof currentData === \"string\") {\n      try {\n        currentData = JSON.parse(currentData);\n      } catch (e) {\n        console.error(\"Error al parsear ajaxSettings.data:\", e);\n        currentData = {};\n      }\n    }\n    // Fusionamos los datos y agregamos client_type\n    const modifiedData = { ...currentData, client_type: clientType };\n    // Convertimos nuevamente a cadena JSON\n    args.ajaxSettings.data = JSON.stringify(modifiedData);\n    console.log(\"ajaxBeforeSend modified args:\", args);\n  };\n\n\n  const contextMenuClickHandler = (args: any): void => {\n    console.log(\"menuClick args:\", args);\n    if (args.item && args.item.text === \"Download\") {\n      args.cancel = true;\n      const currentPath = (fileManagerRef.current as any).path || \"/\";\n      const selectedItems = args.data || (fileManagerRef.current && (fileManagerRef.current as any).selectedItems);\n      if (!selectedItems || selectedItems.length === 0) {\n        showDialog({\n          title: 'Información',\n          body: 'No se ha seleccionado ningún archivo',\n          buttons: [Dialog.okButton({ label: 'Aceptar' })]\n        });\n        return;\n      }\n\n      // Construimos la estructura de datos que espera el backend, agregando client_type.\n      const payloadObj = {\n        action: \"download\",\n        path: currentPath,\n        downloadsFolder: downloadsFolder,\n        client_type: clientType,\n        names: selectedItems.map((item: any) => item.name || item),\n        data: selectedItems.map((item: any) => {\n          if (typeof item === \"string\") {\n            return {\n              name: item,\n              isFile: true,\n              path: currentPath.endsWith(\"/\")\n                ? currentPath + item\n                : currentPath + \"/\" + item,\n            };\n          } else {\n            return item;\n          }\n        }),\n      };\n\n      const payload = JSON.stringify(payloadObj);\n      const formData = new URLSearchParams();\n      formData.append(\"downloadInput\", payload);\n\n      requestAPI('FileOperations', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n        body: formData.toString(),\n      })\n        .then((data: any) => {\n          showDialog({\n            title: 'Operación exitosa',\n            body: `Archivo guardado en: ${data.file_saved}`,\n            buttons: [Dialog.okButton({ label: 'Aceptar' })]\n          });\n        })\n        .catch((error: any) => {\n          console.error(\"Error en la descarga:\", error);\n          showErrorMessage('Error en la descarga', 'Ocurrió un error al descargar el archivo.');\n        });\n    }\n  };\n\n  return (\n    <div className=\"control-section\" style={{ height: \"100%\" }}>\n      <FileManagerComponent\n        ref={fileManagerRef}\n        id=\"file\"\n        ajaxSettings={ajaxSettings}\n        beforeSend={onBeforeSend.bind(this)}\n        toolbarSettings={{\n          items: ['SortBy', 'Refresh'],\n          visible: true,\n        }}\n        contextMenuSettings={{\n          file: ['Download', '|', 'Details'],\n          folder: ['Open', '|', 'Details'],\n          layout: [],\n          visible: true,\n        }}\n        detailsViewSettings={{\n          columns: [\n            { field: \"name\", headerText: \"Name\", minWidth: 120, width: \"auto\" },\n            { field: \"region\", headerText: \"Region\", minWidth: 100, width: \"120px\" },\n            { field: \"dateModified\", headerText: \"Modified\", minWidth: 120, width: \"150px\" },\n            { field: \"size\", headerText: \"Size (KB)\", minWidth: 80, width: \"100px\" },\n          ],\n        }}\n        view=\"Details\"\n        allowMultiSelection={false}\n        height=\"100%\"  // O puedes usar style={{ height: \"100%\" }}\n        {...({ menuClick: contextMenuClickHandler } as any)}\n      >\n        <Inject services={[DetailsView, Toolbar]} />\n      </FileManagerComponent>\n    </div>\n  );\n};\n\nexport default FMViewComponent;\n","// import { AppBar, Container, CssBaseline, IconButton, Toolbar, Typography } from '@mui/material'\n// import Refresh from '@mui/icons-material/Refresh';\n// import Close from '@mui/icons-material/Close';\n\nimport React from 'react'\nimport BasicTabs from './BasicTabs';\n// import { FileManagerComponent } from '@syncfusion/ej2-react-filemanager';\n\ninterface FileManagerPanelComponentProps {\n     downloadsFolder: string;\n}\n\nconst FileManagerPanelComponent: React.FC<FileManagerPanelComponentProps> = (props): JSX.Element => {\n     return (\n          <div style={{ width: \"100%\", minWidth: \"400px\", height: \"100vh\" }}>\n               <BasicTabs downloadsFolder={props.downloadsFolder} />\n          </div>\n     );\n}\n\nexport default FileManagerPanelComponent;","import { URLExt } from '@jupyterlab/coreutils';\n\nimport { ServerConnection } from '@jupyterlab/services';\n\n/**\n * Call the API extension\n *\n * @param endPoint API REST end point for the extension\n * @param init Initial values for the request\n * @returns The response body interpreted as JSON\n */\nexport async function requestAPI<T>(\n  endPoint = '',\n  init: RequestInit = {}\n): Promise<T> {\n  // Make request to Jupyter API\n  const settings = ServerConnection.makeSettings();\n  const requestUrl = URLExt.join(\n    settings.baseUrl,\n    'jupyterlab-bxplorer-v2', // API Namespace\n    endPoint\n  );\n\n  let response: Response;\n  try {\n    response = await ServerConnection.makeRequest(requestUrl, init, settings);\n  } catch (error) {\n    throw new ServerConnection.NetworkError(error as any);\n  }\n\n  let data: any = await response.text();\n\n  if (data.length > 0) {\n    try {\n      data = JSON.parse(data);\n    } catch (error) {\n      console.log('Not a JSON response body.', response);\n    }\n  }\n\n  if (!response.ok) {\n    throw new ServerConnection.ResponseError(response, data.message || data);\n  }\n\n  return data;\n}\n","import {\n  JupyterFrontEnd,\n  JupyterFrontEndPlugin\n} from '@jupyterlab/application';\nimport { runIcon } from '@jupyterlab/ui-components';\nimport { MainAreaWidget } from '@jupyterlab/apputils';\nimport { FileManagerPanelWidget } from './widgets/FileManagerPanelWidget';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { registerLicense } from '@syncfusion/ej2-base';\n\n// Registering Syncfusion<sup style=\"font-size:70%\">&reg;</sup> license key\nregisterLicense('Ngo9BigBOggjHTQxAR8/V1NNaF5cXmBCf1FpRmJGdld5fUVHYVZUTXxaS00DNHVRdkdmWXxcd3VcRmBeVkd+W0VWYUA=');\n\n\nconst PLUGIN_ID = 'jupyterlab-bxplorer-v2:plugin';\n\nasync function activate(app: JupyterFrontEnd, settingRegistry: ISettingRegistry): Promise<void> {\n  console.log('JupyterLab extension jupyterlab-bxplorer-v2 is activated!');\n\n  // await Promise.all([settingRegistry.load(PLUGIN_ID)])\n  //   .then(([setting]) => {\n  //     console.log('jupyterlab-bxplorer-v2 settings loaded:', setting.composite);\n  //     let downloadFolder = setting.get('download-folder').composite as string || \"\";\n  //     console.log('downloadFolder:', downloadFolder);\n  //   }).catch((reason) => {\n  //     console.error('Failed to load settings for jupyterlab-bxplorer-v2.', reason);\n  //   });\n\n  let downloadsFolder = \"\";\n  if (settingRegistry) {\n    await settingRegistry\n      .load(plugin.id)\n      .then(settings => {\n        console.log('jupyterlab-bxplorer-v2 settings loaded:', settings.composite);\n        downloadsFolder = settings.get('download-folder').composite as string || \"\";\n        console.log('downloadsFolder:', downloadsFolder);\n      })\n      .catch(reason => {\n        console.error('Failed to load settings for jupyterlab-bxplorer-v2.', reason);\n      });\n  }\n\n  const sideBarContent = new FileManagerPanelWidget(downloadsFolder);\n  const sideBarWidget = new MainAreaWidget<FileManagerPanelWidget>({\n    content: sideBarContent\n  });\n  sideBarWidget.toolbar.hide();\n  sideBarWidget.title.icon = runIcon;\n  sideBarWidget.title.caption = 'File Manager';\n  app.shell.add(sideBarWidget, 'left', { rank: 501 });\n}\n\n/**\n * Initialization data for the jupyterlab-bxplorer-v2 extension.\n */\nconst plugin: JupyterFrontEndPlugin<void> = {\n  id: PLUGIN_ID,\n  description: 'A JupyterLab extension.',\n  autoStart: true,\n  optional: [ISettingRegistry],\n  activate\n};\n\nexport default plugin;\n","import { ReactWidget } from \"@jupyterlab/apputils\";\nimport React from 'react';\nimport FileManagerPanelComponent from \"../components/FileManagerPanelComponent\";\n\nexport class FileManagerPanelWidget extends ReactWidget {\n  downloadsFolder\n  constructor(downloadsFolder: string) {\n    super()\n    this.downloadsFolder = downloadsFolder\n  }\n\n  render(): JSX.Element {\n    return (\n      <div\n        style={{\n          width: '100%',\n        }}\n      >\n        <FileManagerPanelComponent downloadsFolder={this.downloadsFolder} />\n      </div>\n    )\n  }\n}"],"names":[],"sourceRoot":""}