import{m as Z,a as ee,b as te,c as ae,d as oe,e as re,f as le,u as ne,p as se,g as ue,h as de,i as ie,j as ce,k as me,l as ge,n as k,o as F,q as R,r as C}from"./VDataTable-BfFW1vg6.js";import{q as pe,z as fe,i as y,D as m,aB as be,H as ve,a as d,J as G,I as P}from"./index-Bbkf9DIc.js";import{d as he}from"./forwardRefs-zpUiuLw8.js";import{u as ye}from"./tag-BgJ4tZGv.js";const Pe=pe({itemsLength:{type:[Number,String],required:!0},...Z(),...ee(),...te()},"VDataTableServer"),Ee=fe()({name:"VDataTableServer",props:Pe(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,g){let{attrs:p,slots:t}=g;const{groupBy:r}=ae(e),{sortBy:n,multiSort:a,mustSort:b}=oe(e),{page:o,itemsPerPage:c}=re(e),v=y(()=>parseInt(e.itemsLength,10)),{columns:s,headers:u}=le(e,{groupBy:r,showSelect:m(e,"showSelect"),showExpand:m(e,"showExpand")}),{items:i}=ne(e,s),{toggleSort:T}=se({sortBy:n,multiSort:a,mustSort:b,page:o}),{opened:N,isGroupOpen:O,toggleGroup:_,extractRows:j}=ue({groupBy:r,sortBy:n}),{pageCount:q,setItemsPerPage:A}=de({page:o,itemsPerPage:c,itemsLength:v}),{flatItems:w}=ie(i,r,N),{isSelected:L,select:$,selectAll:z,toggleSelect:J,someSelected:M,allSelected:W}=ce(e,{allItems:i,currentPage:i}),{isExpanded:K,toggleExpand:Q}=me(e),x=y(()=>j(i.value));ge({page:o,itemsPerPage:c,sortBy:n,groupBy:r,search:m(e,"search")}),be("v-data-table",{toggleSort:T,sortBy:n}),ve({VDataTableRows:{hideNoData:m(e,"hideNoData"),noDataText:m(e,"noDataText"),loading:m(e,"loading"),loadingText:m(e,"loadingText")}});const l=y(()=>({page:o.value,itemsPerPage:c.value,sortBy:n.value,pageCount:q.value,toggleSort:T,setItemsPerPage:A,someSelected:M.value,allSelected:W.value,isSelected:L,select:$,selectAll:z,toggleSelect:J,isExpanded:K,toggleExpand:Q,isGroupOpen:O,toggleGroup:_,items:x.value.map(h=>h.raw),internalItems:x.value,groupedItems:w.value,columns:s.value,headers:u.value}));ye(()=>{const h=k.filterProps(e),U=F.filterProps(e),X=R.filterProps(e),Y=C.filterProps(e);return d(C,P({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Y),{top:()=>{var f;return(f=t.top)==null?void 0:f.call(t,l.value)},default:()=>{var f,S,V,E,B,I;return t.default?t.default(l.value):d(G,null,[(f=t.colgroup)==null?void 0:f.call(t,l.value),!e.hideDefaultHeader&&d("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[d(F,P(U,{sticky:e.fixedHeader}),t)]),(S=t.thead)==null?void 0:S.call(t,l.value),!e.hideDefaultBody&&d("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(V=t["body.prepend"])==null?void 0:V.call(t,l.value),t.body?t.body(l.value):d(R,P(p,X,{items:w.value}),t),(E=t["body.append"])==null?void 0:E.call(t,l.value)]),(B=t.tbody)==null?void 0:B.call(t,l.value),(I=t.tfoot)==null?void 0:I.call(t,l.value)])},bottom:()=>t.bottom?t.bottom(l.value):!e.hideDefaultFooter&&d(G,null,[d(he,null,null),d(k,h,{prepend:t["footer.prepend"]})])})})}});function De(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D={exports:{}};function H(e,g=100,p={}){if(typeof e!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof e}\`.`);if(g<0)throw new RangeError("`wait` must not be negative.");const{immediate:t}=typeof p=="boolean"?{immediate:p}:p;let r,n,a,b,o;function c(){const u=r,i=n;return r=void 0,n=void 0,o=e.apply(u,i),o}function v(){const u=Date.now()-b;u<g&&u>=0?a=setTimeout(v,g-u):(a=void 0,t||(o=c()))}const s=function(...u){if(r&&this!==r)throw new Error("Debounced method called with different contexts.");r=this,n=u,b=Date.now();const i=t&&!a;return a||(a=setTimeout(v,g)),i&&(o=c()),o};return s.clear=()=>{a&&(clearTimeout(a),a=void 0)},s.flush=()=>{a&&s.trigger()},s.trigger=()=>{o=c(),s.clear()},s}D.exports.debounce=H;D.exports=H;var Te=D.exports;const Be=De(Te);export{Ee as V,Be as d};
