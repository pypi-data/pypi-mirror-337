$(document).ready(()=>{const t=$("#table_tab-user-srp-requests");let s=0;const e=t.DataTable({language:aaSrpSettings.dataTable.language,ajax:{url:aaSrpSettings.url.userSrpRequests,dataSrc:"",cache:!1},columns:[{data:"request_time",render:{display:t=>null===t?"":moment(t).utc().format(aaSrpSettings.datetimeFormat),sort:t=>null===t?"":t},className:"srp-request-time"},{data:"character_html",render:{display:"display",sort:"sort"},className:"srp-request-character"},{data:"fleet_name",render:{display:(t,e,a)=>{console.log("Fleet name:",t),console.log("Fleet name type:",e),console.log("Fleet name row:",a);const s=aaSrpSettings.translation.dataTable.content.srpCode,r=aaSrpSettings.translation.dataTable.content.requestCode;return null===t?"":`<p>${t}</p><p class="small text-muted">${s}: ${a.srp_code}<br>${r}: ${a.request_code}</p>`},filter:(t,e,a)=>null===t?"":`${t} ${a.srp_code} ${a.request_code}`,sort:t=>null===t?"":t},className:"srp-request-fleet-details"},{data:"ship_html",render:{display:"display",sort:"sort"},className:"srp-request-ship"},{data:"zbk_loss_amount",render:{display:t=>null===t?"":`${new Intl.NumberFormat(aaSrpSettings.locale).format(t)} ISK`,filter:t=>null===t?"":t,sort:t=>null===t?"":t},className:"srp-request-zkb-loss-amount text-end"},{data:"payout_amount",render:{display:t=>null===t?"":`${new Intl.NumberFormat(aaSrpSettings.locale).format(t)} ISK`,filter:t=>null===t?"":t,sort:t=>null===t?"":t},className:"srp-request-payout text-end"},{data:"request_status_icon",className:"srp-request-status text-end"},{data:"request_status"},{data:"ship"},{data:"character"}],columnDefs:[{orderable:!1,targets:[6]},{visible:!1,targets:[7,8,9]}],order:[[0,"desc"]],filterDropDown:{columns:[{idx:9,title:aaSrpSettings.translation.filter.character},{idx:8,title:aaSrpSettings.translation.filter.ship},{idx:7,title:aaSrpSettings.translation.filter.requestStatus}],autoSize:!1,bootstrap:!0,bootstrap_version:5},createdRow:(t,e,a)=>{$(t).attr("data-row-id",a),$(t).attr("data-srp-request-code",e.request_code),s+=parseInt(e.payout_amount),$(".srp-dashboard-user-isk-cost-amount").html(`${new Intl.NumberFormat(aaSrpSettings.locale).format(s)} ISK`)}}),r=(e.on("draw",()=>{[].slice.call(document.querySelectorAll('[data-bs-tooltip="aa-srp"]')).map(t=>new bootstrap.Tooltip(t))}),$("#srp-request-details"));r.on("show.bs.modal",t=>{const e=$(t.relatedTarget),a=e.data("link");$.get({url:a,success:t=>{r.find(".modal-body").html(t)}})}).on("hide.bs.modal",()=>{r.find(".modal-body").text("")})});
//# sourceMappingURL=my-srp-requests.min.js.map