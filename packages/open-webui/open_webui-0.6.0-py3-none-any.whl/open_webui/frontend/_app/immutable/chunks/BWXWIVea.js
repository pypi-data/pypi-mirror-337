import{s as kt,D as Pe,E as Le,a as z,d as m,f as g,i as O,g as y,n as ke,y as yt,A as Dt,j as pe,p as Vt,F as Ct,q as It,k as L,o as j,C as je,e as T,c as M,r as Tt,v as Mt,w as Nt,x as zt,P as ye,t as F,b as Y,h as G,B as He,u as ae,H as Se,S as Ee,V as qe}from"./vexCXLX9.js";import{S as Et,i as $t,f as Ot,b as K,d as Q,m as X,t as N,a as S,e as x,g as ne,c as oe}from"./Cdll-xsj.js";import{e as ie}from"./DNXpXRYa.js";import"./CyFe254w.js";import{M as Bt,a as St,b as At}from"./CgO5y2dz.js";import{m as Ue}from"./_0_gBwjO.js";import{F as Pt}from"./CU2r43ac.js";import{f as Lt}from"./g5t9vw8M.js";import{C as jt}from"./Cux5bsOp.js";import{C as Ht}from"./BfKRbBRz.js";import{S as qt}from"./DjtyHjFA.js";import{g as Ut,p as Zt,d as Wt}from"./CK1dV7PC.js";import{M as ve,a as Ft,c as Yt,i as Gt,u as Rt,l as Ze,m as Jt}from"./Dnt-ZaqG.js";import{t as ue}from"./DMk2eJ1b.js";import{s as Kt,h as We}from"./DKJl9mwW.js";import{g as Qt}from"./BoOmE0ou.js";import{T as ce}from"./DzHlmjPS.js";import{S as Xt}from"./DBcgpmMt.js";import{g as xt}from"./CHo5r6lF.js";function el(a){let e,t;return{c(){e=Pe("svg"),t=Pe("path"),this.h()},l(l){e=Le(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=z(e);t=Le(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),z(t).forEach(m),r.forEach(m),this.h()},h(){g(t,"stroke-linecap","round"),g(t,"stroke-linejoin","round"),g(t,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"stroke-width",a[1]),g(e,"stroke","currentColor"),g(e,"class",a[0])},m(l,r){O(l,e,r),y(e,t)},p(l,[r]){r&2&&g(e,"stroke-width",l[1]),r&1&&g(e,"class",l[0])},i:ke,o:ke,d(l){l&&m(e)}}}function tl(a,e,t){let{className:l="size-4"}=e,{strokeWidth:r="1.5"}=e;return a.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class ll extends Et{constructor(e){super(),$t(this,e,tl,el,kt,{className:0,strokeWidth:1})}}function Fe(a,e,t){const l=a.slice();return l[48]=e[t],l}function Ye(a,e,t){const l=a.slice();return l[51]=e[t],l[53]=t,l}function Ge(a,e,t){const l=a.slice();return l[54]=e[t],l}function Re(a,e,t){const l=a.slice();return l[54]=e[t],l}function Je(a,e,t){const l=a.slice();return l[54]=e[t],l}function al(a){let e;return{c(){e=F(a[2])},l(t){e=Y(t,a[2])},m(t,l){O(t,e,l)},p(t,l){l[0]&4&&G(e,t[2])},d(t){t&&m(e)}}}function rl(a){let e=a[15].label+"",t;return{c(){t=F(e)},l(l){t=Y(l,e)},m(l,r){O(l,t,r)},p(l,r){r[0]&32768&&e!==(e=l[15].label+"")&&G(t,e)},d(l){l&&m(t)}}}function nl(a){let e,t,l,r,n;function o(d,f){return d[15]?rl:al}let s=o(a),i=s(a);return l=new jt({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=T("div"),i.c(),t=L(),K(l.$$.fragment),this.h()},l(d){e=M(d,"DIV",{class:!0});var f=z(e);i.l(f),t=j(f),Q(l.$$.fragment,f),f.forEach(m),this.h()},h(){g(e,"class",r="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+a[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden")},m(d,f){O(d,e,f),i.m(e,null),y(e,t),X(l,e,null),n=!0},p(d,f){s===(s=o(d))&&i?i.p(d,f):(i.d(1),i=s(d),i&&(i.c(),i.m(e,t))),(!n||f[0]&256&&r!==(r="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+d[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"))&&g(e,"class",r)},i(d){n||(N(l.$$.fragment,d),n=!0)},o(d){S(l.$$.fragment,d),n=!1},d(d){d&&m(e),i.d(),x(l)}}}function Ke(a){let e,t,l,r,n,o,s;return t=new qt({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=T("div"),K(t.$$.fragment),l=L(),r=T("input"),this.h()},l(i){e=M(i,"DIV",{class:!0});var d=z(e);Q(t.$$.fragment,d),l=j(d),r=M(d,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),d.forEach(m),this.h()},h(){g(r,"id","model-search-input"),g(r,"class","w-full text-sm bg-transparent outline-hidden"),g(r,"placeholder",a[4]),g(r,"autocomplete","off"),g(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(i,d){O(i,e,d),X(t,e,null),y(e,l),y(e,r),He(r,a[9]),n=!0,o||(s=[ae(r,"input",a[29]),ae(r,"keydown",a[30])],o=!0)},p(i,d){(!n||d[0]&16)&&g(r,"placeholder",i[4]),d[0]&512&&r.value!==i[9]&&He(r,i[9])},i(i){n||(N(t.$$.fragment,i),n=!0)},o(i){S(t.$$.fragment,i),n=!1},d(i){i&&m(e),x(t),o=!1,Se(s)}}}function Qe(a){let e,t,l,r=a[20].t("All")+"",n,o,s,i=a[6].find(gt)&&a[6].find(pt),d,f=a[6].find(_t),E,C,k,p=i&&Xe(a),w=f&&xe(a),D=ie(a[14]),v=[];for(let $=0;$<D.length;$+=1)v[$]=et(Je(a,D,$));return{c(){e=T("div"),t=T("div"),l=T("button"),n=F(r),s=L(),p&&p.c(),d=L(),w&&w.c(),E=L();for(let $=0;$<v.length;$+=1)v[$].c();this.h()},l($){e=M($,"DIV",{class:!0});var I=z(e);t=M(I,"DIV",{class:!0});var b=z(t);l=M(b,"BUTTON",{class:!0});var A=z(l);n=Y(A,r),A.forEach(m),s=j(b),p&&p.l(b),d=j(b),w&&w.l(b),E=j(b);for(let B=0;B<v.length;B+=1)v[B].l(b);b.forEach(m),I.forEach(m),this.h()},h(){g(l,"class",o="min-w-fit outline-none p-1.5 "+(a[10]===""&&a[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),g(t,"class","flex gap-1 w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),g(e,"class","flex w-full sticky top-0 z-10 bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none")},m($,I){O($,e,I),y(e,t),y(t,l),y(l,n),y(t,s),p&&p.m(t,null),y(t,d),w&&w.m(t,null),y(t,E);for(let b=0;b<v.length;b+=1)v[b]&&v[b].m(t,null);a[36](t),C||(k=[ae(l,"click",a[31]),ae(e,"wheel",wl)],C=!0)},p($,I){if(I[0]&1048576&&r!==(r=$[20].t("All")+"")&&G(n,r),I[0]&3072&&o!==(o="min-w-fit outline-none p-1.5 "+($[10]===""&&$[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&g(l,"class",o),I[0]&64&&(i=$[6].find(gt)&&$[6].find(pt)),i?p?p.p($,I):(p=Xe($),p.c(),p.m(t,d)):p&&(p.d(1),p=null),I[0]&64&&(f=$[6].find(_t)),f?w?w.p($,I):(w=xe($),w.c(),w.m(t,E)):w&&(w.d(1),w=null),I[0]&19456){D=ie($[14]);let b;for(b=0;b<D.length;b+=1){const A=Je($,D,b);v[b]?v[b].p(A,I):(v[b]=et(A),v[b].c(),v[b].m(t,null))}for(;b<v.length;b+=1)v[b].d(1);v.length=D.length}},d($){$&&m(e),p&&p.d(),w&&w.d(),ye(v,$),a[36](null),C=!1,Se(k)}}}function Xe(a){let e,t=a[20].t("Local")+"",l,r,n,o,s=a[20].t("External")+"",i,d,f,E;return{c(){e=T("button"),l=F(t),n=L(),o=T("button"),i=F(s),this.h()},l(C){e=M(C,"BUTTON",{class:!0});var k=z(e);l=Y(k,t),k.forEach(m),n=j(C),o=M(C,"BUTTON",{class:!0});var p=z(o);i=Y(p,s),p.forEach(m),this.h()},h(){g(e,"class",r="min-w-fit outline-none p-1.5 "+(a[11]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),g(o,"class",d="min-w-fit outline-none p-1.5 "+(a[11]==="openai"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(C,k){O(C,e,k),y(e,l),O(C,n,k),O(C,o,k),y(o,i),f||(E=[ae(e,"click",a[32]),ae(o,"click",a[33])],f=!0)},p(C,k){k[0]&1048576&&t!==(t=C[20].t("Local")+"")&&G(l,t),k[0]&2048&&r!==(r="min-w-fit outline-none p-1.5 "+(C[11]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&g(e,"class",r),k[0]&1048576&&s!==(s=C[20].t("External")+"")&&G(i,s),k[0]&2048&&d!==(d="min-w-fit outline-none p-1.5 "+(C[11]==="openai"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&g(o,"class",d)},d(C){C&&(m(e),m(n),m(o)),f=!1,Se(E)}}}function xe(a){let e,t=a[20].t("Direct")+"",l,r,n,o;return{c(){e=T("button"),l=F(t),this.h()},l(s){e=M(s,"BUTTON",{class:!0});var i=z(e);l=Y(i,t),i.forEach(m),this.h()},h(){g(e,"class",r="min-w-fit outline-none p-1.5 "+(a[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){O(s,e,i),y(e,l),n||(o=ae(e,"click",a[34]),n=!0)},p(s,i){i[0]&1048576&&t!==(t=s[20].t("Direct")+"")&&G(l,t),i[0]&2048&&r!==(r="min-w-fit outline-none p-1.5 "+(s[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&g(e,"class",r)},d(s){s&&m(e),n=!1,o()}}}function et(a){let e,t=a[54]+"",l,r,n,o,s;function i(){return a[35](a[54])}return{c(){e=T("button"),l=F(t),r=L(),this.h()},l(d){e=M(d,"BUTTON",{class:!0});var f=z(e);l=Y(f,t),r=j(f),f.forEach(m),this.h()},h(){g(e,"class",n="min-w-fit outline-none p-1.5 "+(a[10]===a[54]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(d,f){O(d,e,f),y(e,l),y(e,r),o||(s=ae(e,"click",i),o=!0)},p(d,f){a=d,f[0]&16384&&t!==(t=a[54]+"")&&G(l,t),f[0]&17408&&n!==(n="min-w-fit outline-none p-1.5 "+(a[10]===a[54]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&g(e,"class",n)},d(d){d&&m(e),o=!1,s()}}}function tt(a){let e,t,l=a[20].t("No results found")+"",r;return{c(){e=T("div"),t=T("div"),r=F(l),this.h()},l(n){e=M(n,"DIV",{});var o=z(e);t=M(o,"DIV",{class:!0});var s=z(t);r=Y(s,l),s.forEach(m),o.forEach(m),this.h()},h(){g(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100")},m(n,o){O(n,e,o),y(e,t),y(t,r)},p(n,o){o[0]&1048576&&l!==(l=n[20].t("No results found")+"")&&G(r,l)},d(n){n&&m(e)}}}function lt(a){var r;let e,t=ie((r=a[51].model)==null?void 0:r.tags.sort(bt)),l=[];for(let n=0;n<t.length;n+=1)l[n]=at(Re(a,t,n));return{c(){e=T("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=M(n,"DIV",{class:!0});var o=z(e);for(let s=0;s<l.length;s+=1)l[s].l(o);o.forEach(m),this.h()},h(){g(e,"class","flex gap-0.5 self-start h-full mb-1.5 -translate-x-1")},m(n,o){O(n,e,o);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(n,o){var s;if(o[0]&262144){t=ie((s=n[51].model)==null?void 0:s.tags.sort(bt));let i;for(i=0;i<t.length;i+=1){const d=Re(n,t,i);l[i]?l[i].p(d,o):(l[i]=at(d),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&m(e),ye(l,n)}}}function at(a){let e,t=a[54].name+"",l,r;return{c(){e=T("div"),l=F(t),r=L(),this.h()},l(n){e=M(n,"DIV",{class:!0});var o=z(e);l=Y(o,t),r=j(o),o.forEach(m),this.h()},h(){g(e,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(n,o){O(n,e,o),y(e,l),y(e,r)},p(n,o){o[0]&262144&&t!==(t=n[54].name+"")&&G(l,t)},d(n){n&&m(e)}}}function rt(a){var r,n,o,s,i,d;let e,t,l;return t=new ce({props:{content:`${(n=(r=a[51].model.ollama)==null?void 0:r.details)!=null&&n.quantization_level?((s=(o=a[51].model.ollama)==null?void 0:o.details)==null?void 0:s.quantization_level)+" ":""}${(i=a[51].model.ollama)!=null&&i.size?`(${(((d=a[51].model.ollama)==null?void 0:d.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[ol]},$$scope:{ctx:a}}}),{c(){e=T("div"),K(t.$$.fragment),this.h()},l(f){e=M(f,"DIV",{class:!0});var E=z(e);Q(t.$$.fragment,E),E.forEach(m),this.h()},h(){g(e,"class","flex ml-1 items-center translate-y-[0.5px]")},m(f,E){O(f,e,E),X(t,e,null),l=!0},p(f,E){var k,p,w,D,v,$;const C={};E[0]&262144&&(C.content=`${(p=(k=f[51].model.ollama)==null?void 0:k.details)!=null&&p.quantization_level?((D=(w=f[51].model.ollama)==null?void 0:w.details)==null?void 0:D.quantization_level)+" ":""}${(v=f[51].model.ollama)!=null&&v.size?`(${((($=f[51].model.ollama)==null?void 0:$.size)/1024**3).toFixed(1)}GB)`:""}`),E[0]&262144|E[1]&4096&&(C.$$scope={dirty:E,ctx:f}),t.$set(C)},i(f){l||(N(t.$$.fragment,f),l=!0)},o(f){S(t.$$.fragment,f),l=!1},d(f){f&&m(e),x(t)}}}function ol(a){var r,n;let e,t=(((n=(r=a[51].model.ollama)==null?void 0:r.details)==null?void 0:n.parameter_size)??"")+"",l;return{c(){e=T("span"),l=F(t),this.h()},l(o){e=M(o,"SPAN",{class:!0});var s=z(e);l=Y(s,t),s.forEach(m),this.h()},h(){g(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(o,s){O(o,e,s),y(e,l)},p(o,s){var i,d;s[0]&262144&&t!==(t=(((d=(i=o[51].model.ollama)==null?void 0:i.details)==null?void 0:d.parameter_size)??"")+"")&&G(l,t)},d(o){o&&m(e)}}}function sl(a){var E,C;let e,t,l,r,n,o=a[51].label+"",s,i,d,f=a[51].model.owned_by==="ollama"&&(((C=(E=a[51].model.ollama)==null?void 0:E.details)==null?void 0:C.parameter_size)??"")!==""&&rt(a);return{c(){e=T("img"),l=L(),r=T("div"),n=T("div"),s=F(o),i=L(),f&&f.c(),this.h()},l(k){e=M(k,"IMG",{src:!0,alt:!0,class:!0}),l=j(k),r=M(k,"DIV",{class:!0});var p=z(r);n=M(p,"DIV",{class:!0});var w=z(n);s=Y(w,o),w.forEach(m),i=j(p),f&&f.l(p),p.forEach(m),this.h()},h(){var k,p,w;qe(e.src,t=((w=(p=(k=a[51].model)==null?void 0:k.info)==null?void 0:p.meta)==null?void 0:w.profile_image_url)??"/static/favicon.png")||g(e,"src",t),g(e,"alt","Model"),g(e,"class","rounded-full size-5 flex items-center mr-2"),g(n,"class","line-clamp-1"),g(r,"class","flex items-center line-clamp-1")},m(k,p){O(k,e,p),O(k,l,p),O(k,r,p),y(r,n),y(n,s),y(r,i),f&&f.m(r,null),d=!0},p(k,p){var w,D,v,$,I;(!d||p[0]&262144&&!qe(e.src,t=((v=(D=(w=k[51].model)==null?void 0:w.info)==null?void 0:D.meta)==null?void 0:v.profile_image_url)??"/static/favicon.png"))&&g(e,"src",t),(!d||p[0]&262144)&&o!==(o=k[51].label+"")&&G(s,o),k[51].model.owned_by==="ollama"&&(((I=($=k[51].model.ollama)==null?void 0:$.details)==null?void 0:I.parameter_size)??"")!==""?f?(f.p(k,p),p[0]&262144&&N(f,1)):(f=rt(k),f.c(),N(f,1),f.m(r,null)):f&&(ne(),S(f,1,1,()=>{f=null}),oe())},i(k){d||(N(f),d=!0)},o(k){S(f),d=!1},d(k){k&&(m(e),m(l),m(r)),f&&f.d()}}}function il(a){let e,t;return e=new ce({props:{content:"External",$$slots:{default:[ul]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){X(e,l,r),t=!0},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function fl(a){let e,t;return e=new ce({props:{content:"Direct",$$slots:{default:[cl]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){X(e,l,r),t=!0},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ul(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=T("div"),e.innerHTML=t,this.h()},l(l){e=M(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-n3uai6"&&(e.innerHTML=t),this.h()},h(){g(e,"class","translate-y-[1px]")},m(l,r){O(l,e,r)},p:ke,d(l){l&&m(e)}}}function cl(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=T("div"),e.innerHTML=t,this.h()},l(l){e=M(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1dup7go"&&(e.innerHTML=t),this.h()},h(){g(e,"class","translate-y-[1px]")},m(l,r){O(l,e,r)},p:ke,d(l){l&&m(e)}}}function nt(a){var l,r,n;let e,t;return e=new ce({props:{content:`${Ue.parse(We((n=(r=(l=a[51].model)==null?void 0:l.info)==null?void 0:r.meta)==null?void 0:n.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[dl]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,s){X(e,o,s),t=!0},p(o,s){var d,f,E;const i={};s[0]&262144&&(i.content=`${Ue.parse(We((E=(f=(d=o[51].model)==null?void 0:d.info)==null?void 0:f.meta)==null?void 0:E.description).replaceAll(`
`,"<br>"))}`),s[1]&4096&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){t||(N(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){x(e,o)}}}function dl(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=T("div"),e.innerHTML=t,this.h()},l(l){e=M(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1mqbvzr"&&(e.innerHTML=t),this.h()},h(){g(e,"class","translate-y-[1px]")},m(l,r){O(l,e,r)},p:ke,d(l){l&&m(e)}}}function ot(a){var o;let e,t,l=ie((o=a[51].model)==null?void 0:o.tags.sort(wt)),r=[];for(let s=0;s<l.length;s+=1)r[s]=st(Ge(a,l,s));const n=s=>S(r[s],1,1,()=>{r[s]=null});return{c(){e=T("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=M(s,"DIV",{class:!0});var i=z(e);for(let d=0;d<r.length;d+=1)r[d].l(i);i.forEach(m),this.h()},h(){g(e,"class","flex gap-0.5 self-center items-center h-full translate-y-[0.5px] overflow-x-auto scrollbar-none")},m(s,i){O(s,e,i);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(e,null);t=!0},p(s,i){var d;if(i[0]&262144){l=ie((d=s[51].model)==null?void 0:d.tags.sort(wt));let f;for(f=0;f<l.length;f+=1){const E=Ge(s,l,f);r[f]?(r[f].p(E,i),N(r[f],1)):(r[f]=st(E),r[f].c(),N(r[f],1),r[f].m(e,null))}for(ne(),f=l.length;f<r.length;f+=1)n(f);oe()}},i(s){if(!t){for(let i=0;i<l.length;i+=1)N(r[i]);t=!0}},o(s){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)S(r[i]);t=!1},d(s){s&&m(e),ye(r,s)}}}function ml(a){let e,t=a[54].name+"",l,r;return{c(){e=T("div"),l=F(t),r=L(),this.h()},l(n){e=M(n,"DIV",{class:!0});var o=z(e);l=Y(o,t),o.forEach(m),r=j(n),this.h()},h(){g(e,"class","text-xs font-bold px-1 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(n,o){O(n,e,o),y(e,l),O(n,r,o)},p(n,o){o[0]&262144&&t!==(t=n[54].name+"")&&G(l,t)},d(n){n&&(m(e),m(r))}}}function st(a){let e,t;return e=new ce({props:{content:a[54].name,className:"flex-shrink-0",$$slots:{default:[ml]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){X(e,l,r),t=!0},p(l,r){const n={};r[0]&262144&&(n.content=l[54].name),r[0]&262144|r[1]&4096&&(n.$$scope={dirty:r,ctx:l}),e.$set(n)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function it(a){let e,t,l;return t=new Ht({}),{c(){e=T("div"),K(t.$$.fragment),this.h()},l(r){e=M(r,"DIV",{class:!0});var n=z(e);Q(t.$$.fragment,n),n.forEach(m),this.h()},h(){g(e,"class","ml-auto pl-2 pr-2 md:pr-0")},m(r,n){O(r,e,n),X(t,e,null),l=!0},i(r){l||(N(t.$$.fragment,r),l=!0)},o(r){S(t.$$.fragment,r),l=!1},d(r){r&&m(e),x(t)}}}function ft(a){var U,fe,R,$e,de,be,we,De,Ve;let e,t,l,r,n,o,s,i,d,f,E,C,k,p,w,D,v,$,I,b,A=a[21]&&(((fe=(U=a[51])==null?void 0:U.model)==null?void 0:fe.tags)??[]).length>0&&lt(a);i=new ce({props:{content:((R=a[22])==null?void 0:R.role)==="admin"?(($e=a[51])==null?void 0:$e.value)??"":"",placement:"top-start",$$slots:{default:[sl]},$$scope:{ctx:a}}});const B=[fl,il],H=[];function V(J,Z){var te;return(te=J[51].model)!=null&&te.direct?0:J[51].model.owned_by==="openai"?1:-1}~(f=V(a))&&(E=H[f]=B[f](a));let u=((we=(be=(de=a[51].model)==null?void 0:de.info)==null?void 0:be.meta)==null?void 0:we.description)&&nt(a),h=!a[21]&&(((Ve=(De=a[51])==null?void 0:De.model)==null?void 0:Ve.tags)??[]).length>0&&ot(a),_=a[0]===a[51].value&&it();function q(){return a[37](a[51],a[53])}return{c(){e=T("button"),t=T("div"),A&&A.c(),l=L(),r=T("div"),n=T("div"),o=T("div"),s=T("div"),K(i.$$.fragment),d=L(),E&&E.c(),C=L(),u&&u.c(),k=L(),h&&h.c(),p=L(),_&&_.c(),this.h()},l(J){e=M(J,"BUTTON",{"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var Z=z(e);t=M(Z,"DIV",{class:!0});var te=z(t);A&&A.l(te),l=j(te),r=M(te,"DIV",{class:!0});var ee=z(r);n=M(ee,"DIV",{class:!0});var me=z(n);o=M(me,"DIV",{class:!0});var he=z(o);s=M(he,"DIV",{class:!0});var _e=z(s);Q(i.$$.fragment,_e),_e.forEach(m),he.forEach(m),me.forEach(m),d=j(ee),E&&E.l(ee),C=j(ee),u&&u.l(ee),k=j(ee),h&&h.l(ee),ee.forEach(m),te.forEach(m),p=j(Z),_&&_.l(Z),Z.forEach(m),this.h()},h(){g(s,"class","flex items-center min-w-fit"),g(o,"class","line-clamp-1"),g(n,"class","flex items-center min-w-fit"),g(r,"class","flex items-center gap-2"),g(t,"class","flex flex-col"),g(e,"aria-label","model-item"),g(e,"class",w="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(a[53]===a[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),g(e,"data-arrow-selected",D=a[53]===a[17]),g(e,"data-value",v=a[51].value)},m(J,Z){O(J,e,Z),y(e,t),A&&A.m(t,null),y(t,l),y(t,r),y(r,n),y(n,o),y(o,s),X(i,s,null),y(r,d),~f&&H[f].m(r,null),y(r,C),u&&u.m(r,null),y(r,k),h&&h.m(r,null),y(e,p),_&&_.m(e,null),$=!0,I||(b=ae(e,"click",q),I=!0)},p(J,Z){var me,he,_e,Ce,Ie,Te,Me,Ne,c;a=J,a[21]&&(((he=(me=a[51])==null?void 0:me.model)==null?void 0:he.tags)??[]).length>0?A?A.p(a,Z):(A=lt(a),A.c(),A.m(t,l)):A&&(A.d(1),A=null);const te={};Z[0]&4456448&&(te.content=((_e=a[22])==null?void 0:_e.role)==="admin"?((Ce=a[51])==null?void 0:Ce.value)??"":""),Z[0]&262144|Z[1]&4096&&(te.$$scope={dirty:Z,ctx:a}),i.$set(te);let ee=f;f=V(a),f!==ee&&(E&&(ne(),S(H[ee],1,1,()=>{H[ee]=null}),oe()),~f?(E=H[f],E||(E=H[f]=B[f](a),E.c()),N(E,1),E.m(r,C)):E=null),(Me=(Te=(Ie=a[51].model)==null?void 0:Ie.info)==null?void 0:Te.meta)!=null&&Me.description?u?(u.p(a,Z),Z[0]&262144&&N(u,1)):(u=nt(a),u.c(),N(u,1),u.m(r,k)):u&&(ne(),S(u,1,1,()=>{u=null}),oe()),!a[21]&&(((c=(Ne=a[51])==null?void 0:Ne.model)==null?void 0:c.tags)??[]).length>0?h?(h.p(a,Z),Z[0]&2359296&&N(h,1)):(h=ot(a),h.c(),N(h,1),h.m(r,null)):h&&(ne(),S(h,1,1,()=>{h=null}),oe()),a[0]===a[51].value?_?Z[0]&262145&&N(_,1):(_=it(),_.c(),N(_,1),_.m(e,null)):_&&(ne(),S(_,1,1,()=>{_=null}),oe()),(!$||Z[0]&131072&&w!==(w="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(a[53]===a[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&g(e,"class",w),(!$||Z[0]&131072&&D!==(D=a[53]===a[17]))&&g(e,"data-arrow-selected",D),(!$||Z[0]&262144&&v!==(v=a[51].value))&&g(e,"data-value",v)},i(J){$||(N(i.$$.fragment,J),N(E),N(u),N(h),N(_),$=!0)},o(J){S(i.$$.fragment,J),S(E),S(u),S(h),S(_),$=!1},d(J){J&&m(e),A&&A.d(),x(i),~f&&H[f].d(),u&&u.d(),h&&h.d(),_&&_.d(),I=!1,b()}}}function ut(a){let e,t;return e=new ce({props:{content:a[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:a[9]}),placement:"top-start",$$slots:{default:[hl]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){X(e,l,r),t=!0},p(l,r){const n={};r[0]&1049088&&(n.content=l[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[9]})),r[0]&1049088|r[1]&4096&&(n.$$scope={dirty:r,ctx:l}),e.$set(n)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function hl(a){let e,t,l=a[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:a[9]})+"",r,n,o;return{c(){e=T("button"),t=T("div"),r=F(l),this.h()},l(s){e=M(s,"BUTTON",{class:!0});var i=z(e);t=M(i,"DIV",{class:!0});var d=z(t);r=Y(d,l),d.forEach(m),i.forEach(m),this.h()},h(){g(t,"class","truncate"),g(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(s,i){O(s,e,i),y(e,t),y(t,r),n||(o=ae(e,"click",a[38]),n=!0)},p(s,i){i[0]&1049088&&l!==(l=s[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[9]})+"")&&G(r,l)},d(s){s&&m(e),n=!1,o()}}}function ct(a){let e,t=a[19][a[48]].digest+"",l;return{c(){e=T("div"),l=F(t),this.h()},l(r){e=M(r,"DIV",{class:!0});var n=z(e);l=Y(n,t),n.forEach(m),this.h()},h(){g(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(r,n){O(r,e,n),y(e,l)},p(r,n){n[0]&524288&&t!==(t=r[19][r[48]].digest+"")&&G(l,t)},d(r){r&&m(e)}}}function _l(a){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,r;function n(){return a[39](a[48])}return{c(){e=T("button"),e.innerHTML=t,this.h()},l(o){e=M(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){g(e,"class","text-gray-800 dark:text-gray-100")},m(o,s){O(o,e,s),l||(r=ae(e,"click",n),l=!0)},p(o,s){a=o},d(o){o&&m(e),l=!1,r()}}}function dt(a){let e,t,l,r=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,n,o,s,i,d,f=a[48]+"",E,C,k,p,w="pullProgress"in a[19][a[48]]?`(${a[19][a[48]].pullProgress}%)`:"",D,v,$,I,b,A,B,H="digest"in a[19][a[48]]&&a[19][a[48]].digest&&ct(a);return b=new ce({props:{content:a[20].t("Cancel"),$$slots:{default:[_l]},$$scope:{ctx:a}}}),{c(){e=T("div"),t=T("div"),l=T("div"),l.innerHTML=r,n=L(),o=T("div"),s=T("div"),i=T("div"),d=F('Downloading "'),E=F(f),C=F('"'),k=L(),p=T("div"),D=F(w),v=L(),H&&H.c(),$=L(),I=T("div"),K(b.$$.fragment),A=L(),this.h()},l(V){e=M(V,"DIV",{class:!0});var u=z(e);t=M(u,"DIV",{class:!0});var h=z(t);l=M(h,"DIV",{class:!0,"data-svelte-h":!0}),Ee(l)!=="svelte-102rp4j"&&(l.innerHTML=r),n=j(h),o=M(h,"DIV",{class:!0});var _=z(o);s=M(_,"DIV",{class:!0});var q=z(s);i=M(q,"DIV",{class:!0});var U=z(i);d=Y(U,'Downloading "'),E=Y(U,f),C=Y(U,'"'),U.forEach(m),k=j(q),p=M(q,"DIV",{class:!0});var fe=z(p);D=Y(fe,w),fe.forEach(m),q.forEach(m),v=j(_),H&&H.l(_),_.forEach(m),h.forEach(m),$=j(u),I=M(u,"DIV",{class:!0});var R=z(I);Q(b.$$.fragment,R),R.forEach(m),A=j(u),u.forEach(m),this.h()},h(){g(l,"class","-ml-2 mr-2.5 translate-y-0.5"),g(i,"class","line-clamp-1"),g(p,"class","shrink-0"),g(s,"class","flex gap-1"),g(o,"class","flex flex-col self-start"),g(t,"class","flex"),g(I,"class","mr-2 ml-1 translate-y-0.5"),g(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(V,u){O(V,e,u),y(e,t),y(t,l),y(t,n),y(t,o),y(o,s),y(s,i),y(i,d),y(i,E),y(i,C),y(s,k),y(s,p),y(p,D),y(o,v),H&&H.m(o,null),y(e,$),y(e,I),X(b,I,null),y(e,A),B=!0},p(V,u){(!B||u[0]&524288)&&f!==(f=V[48]+"")&&G(E,f),(!B||u[0]&524288)&&w!==(w="pullProgress"in V[19][V[48]]?`(${V[19][V[48]].pullProgress}%)`:"")&&G(D,w),"digest"in V[19][V[48]]&&V[19][V[48]].digest?H?H.p(V,u):(H=ct(V),H.c(),H.m(o,null)):H&&(H.d(1),H=null);const h={};u[0]&1048576&&(h.content=V[20].t("Cancel")),u[0]&524288|u[1]&4096&&(h.$$scope={dirty:u,ctx:V}),b.$set(h)},i(V){B||(N(b.$$.fragment,V),B=!0)},o(V){S(b.$$.fragment,V),B=!1},d(V){V&&m(e),H&&H.d(),x(b)}}}function mt(a){let e,t,l,r,n,o,s,i=a[20].t("Temporary Chat")+"",d,f,E,C,k,p,w;return o=new ll({props:{className:"size-4",strokeWidth:"2.5"}}),C=new Xt({props:{state:a[23]}}),{c(){e=T("hr"),t=L(),l=T("div"),r=T("button"),n=T("div"),K(o.$$.fragment),s=L(),d=F(i),f=L(),E=T("div"),K(C.$$.fragment),this.h()},l(D){e=M(D,"HR",{class:!0}),t=j(D),l=M(D,"DIV",{class:!0});var v=z(l);r=M(v,"BUTTON",{class:!0});var $=z(r);n=M($,"DIV",{class:!0});var I=z(n);Q(o.$$.fragment,I),s=j(I),d=Y(I,i),I.forEach(m),f=j($),E=M($,"DIV",{});var b=z(E);Q(C.$$.fragment,b),b.forEach(m),$.forEach(m),v.forEach(m),this.h()},h(){g(e,"class","border-gray-100 dark:border-gray-800"),g(n,"class","flex gap-2.5 items-center"),g(r,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),g(l,"class","flex items-center mx-2 my-2")},m(D,v){O(D,e,v),O(D,t,v),O(D,l,v),y(l,r),y(r,n),X(o,n,null),y(n,s),y(n,d),y(r,f),y(r,E),X(C,E,null),k=!0,p||(w=ae(r,"click",a[40]),p=!0)},p(D,v){(!k||v[0]&1048576)&&i!==(i=D[20].t("Temporary Chat")+"")&&G(d,i);const $={};v[0]&8388608&&($.state=D[23]),C.$set($)},i(D){k||(N(o.$$.fragment,D),N(C.$$.fragment,D),k=!0)},o(D){S(o.$$.fragment,D),S(C.$$.fragment,D),k=!1},d(D){D&&(m(e),m(t),m(l)),x(o),x(C),p=!1,w()}}}function gl(a){let e,t,l=a[14]&&a[6].filter(ht).length>0,r,n,o=!(a[9].trim()in a[19])&&a[9]&&a[16]&&a[22].role==="admin",s,i,d,f,E,C,k,p=a[3]&&Ke(a),w=l&&Qe(a),D=ie(a[18].filter(vt)),v=[];for(let u=0;u<D.length;u+=1)v[u]=ft(Ye(a,D,u));const $=u=>S(v[u],1,1,()=>{v[u]=null});let I=null;D.length||(I=tt(a));let b=o&&ut(a),A=ie(Object.keys(a[19])),B=[];for(let u=0;u<A.length;u+=1)B[u]=dt(Fe(a,A,u));const H=u=>S(B[u],1,1,()=>{B[u]=null});let V=a[5]&&mt(a);return{c(){p&&p.c(),e=L(),t=T("div"),w&&w.c(),r=L();for(let u=0;u<v.length;u+=1)v[u].c();I&&I.c(),n=L(),b&&b.c(),s=L();for(let u=0;u<B.length;u+=1)B[u].c();i=L(),V&&V.c(),d=L(),f=T("div"),E=L(),C=T("div"),this.h()},l(u){p&&p.l(u),e=j(u),t=M(u,"DIV",{class:!0});var h=z(t);w&&w.l(h),r=j(h);for(let _=0;_<v.length;_+=1)v[_].l(h);I&&I.l(h),n=j(h),b&&b.l(h),s=j(h);for(let _=0;_<B.length;_+=1)B[_].l(h);h.forEach(m),i=j(u),V&&V.l(u),d=j(u),f=M(u,"DIV",{class:!0}),z(f).forEach(m),E=j(u),C=M(u,"DIV",{class:!0}),z(C).forEach(m),this.h()},h(){g(t,"class","px-3 mb-2 max-h-64 overflow-y-auto scrollbar-hidden group relative"),g(f,"class","hidden w-[42rem]"),g(C,"class","hidden w-[32rem]")},m(u,h){p&&p.m(u,h),O(u,e,h),O(u,t,h),w&&w.m(t,null),y(t,r);for(let _=0;_<v.length;_+=1)v[_]&&v[_].m(t,null);I&&I.m(t,null),y(t,n),b&&b.m(t,null),y(t,s);for(let _=0;_<B.length;_+=1)B[_]&&B[_].m(t,null);O(u,i,h),V&&V.m(u,h),O(u,d,h),O(u,f,h),O(u,E,h),O(u,C,h),k=!0},p(u,h){if(u[3]?p?(p.p(u,h),h[0]&8&&N(p,1)):(p=Ke(u),p.c(),N(p,1),p.m(e.parentNode,e)):p&&(ne(),S(p,1,1,()=>{p=null}),oe()),h[0]&16448&&(l=u[14]&&u[6].filter(ht).length>0),l?w?w.p(u,h):(w=Qe(u),w.c(),w.m(t,r)):w&&(w.d(1),w=null),h[0]&7741441){D=ie(u[18].filter(vt));let _;for(_=0;_<D.length;_+=1){const q=Ye(u,D,_);v[_]?(v[_].p(q,h),N(v[_],1)):(v[_]=ft(q),v[_].c(),N(v[_],1),v[_].m(t,n))}for(ne(),_=D.length;_<v.length;_+=1)$(_);oe(),!D.length&&I?I.p(u,h):D.length?I&&(I.d(1),I=null):(I=tt(u),I.c(),I.m(t,n))}if(h[0]&4784640&&(o=!(u[9].trim()in u[19])&&u[9]&&u[16]&&u[22].role==="admin"),o?b?(b.p(u,h),h[0]&4784640&&N(b,1)):(b=ut(u),b.c(),N(b,1),b.m(t,s)):b&&(ne(),S(b,1,1,()=>{b=null}),oe()),h[0]&135790592){A=ie(Object.keys(u[19]));let _;for(_=0;_<A.length;_+=1){const q=Fe(u,A,_);B[_]?(B[_].p(q,h),N(B[_],1)):(B[_]=dt(q),B[_].c(),N(B[_],1),B[_].m(t,null))}for(ne(),_=A.length;_<B.length;_+=1)H(_);oe()}u[5]?V?(V.p(u,h),h[0]&32&&N(V,1)):(V=mt(u),V.c(),N(V,1),V.m(d.parentNode,d)):V&&(ne(),S(V,1,1,()=>{V=null}),oe())},i(u){if(!k){N(p);for(let h=0;h<D.length;h+=1)N(v[h]);N(b);for(let h=0;h<A.length;h+=1)N(B[h]);N(V),k=!0}},o(u){S(p),v=v.filter(Boolean);for(let h=0;h<v.length;h+=1)S(v[h]);S(b),B=B.filter(Boolean);for(let h=0;h<B.length;h+=1)S(B[h]);S(V),k=!1},d(u){u&&(m(e),m(t),m(i),m(d),m(f),m(E),m(C)),p&&p.d(u),w&&w.d(),ye(v,u),I&&I.d(),b&&b.d(),ye(B,u),V&&V.d(u)}}}function pl(a){let e;const t=a[28].default,l=Tt(t,a,a[43],null),r=l||gl(a);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,o){r&&r.m(n,o),e=!0},p(n,o){l?l.p&&(!e||o[1]&4096)&&Mt(l,t,n,n[43],e?zt(t,n[43],o,null):Nt(n[43]),null):r&&r.p&&(!e||o[0]&16744057)&&r.p(n,e?o:[-1,-1])},i(n){e||(N(r,n),e=!0)},o(n){S(r,n),e=!1},d(n){r&&r.d(n)}}}function vl(a){let e,t,l,r;return e=new St({props:{class:"relative w-full font-primary","aria-label":a[2],id:"model-selector-"+a[1]+"-button",$$slots:{default:[nl]},$$scope:{ctx:a}}}),l=new At({props:{class:" z-40 "+(a[21]?"w-full":`${a[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Lt,side:a[21]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[pl]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment),t=L(),K(l.$$.fragment)},l(n){Q(e.$$.fragment,n),t=j(n),Q(l.$$.fragment,n)},m(n,o){X(e,n,o),O(n,t,o),X(l,n,o),r=!0},p(n,o){const s={};o[0]&4&&(s["aria-label"]=n[2]),o[0]&2&&(s.id="model-selector-"+n[1]+"-button"),o[0]&33028|o[1]&4096&&(s.$$scope={dirty:o,ctx:n}),e.$set(s);const i={};o[0]&2097280&&(i.class=" z-40 "+(n[21]?"w-full":`${n[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),o[0]&2097152&&(i.side=n[21]?"bottom":"bottom-start"),o[0]&16744057|o[1]&4096&&(i.$$scope={dirty:o,ctx:n}),l.$set(i)},i(n){r||(N(e.$$.fragment,n),N(l.$$.fragment,n),r=!0)},o(n){S(e.$$.fragment,n),S(l.$$.fragment,n),r=!1},d(n){n&&m(t),x(e,n),x(l,n)}}}function bl(a){let e,t,l;function r(o){a[42](o)}let n={onOpenChange:a[41],closeFocus:!1,$$slots:{default:[vl]},$$scope:{ctx:a}};return a[13]!==void 0&&(n.open=a[13]),e=new Bt({props:n}),yt.push(()=>Ot(e,"open",r)),{c(){K(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,s){X(e,o,s),l=!0},p(o,s){const i={};s[0]&512&&(i.onOpenChange=o[41]),s[0]&16777215|s[1]&4096&&(i.$$scope={dirty:s,ctx:o}),!t&&s[0]&8192&&(t=!0,i.open=o[13],Dt(()=>t=!1)),e.$set(i)},i(o){l||(N(e.$$.fragment,o),l=!0)},o(o){S(e.$$.fragment,o),l=!1},d(o){x(e,o)}}}const ht=a=>{var e,t,l;return!(((l=(t=(e=a.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},_t=a=>{var e;return(e=a.model)==null?void 0:e.direct},gt=a=>{var e;return((e=a.model)==null?void 0:e.owned_by)==="ollama"},pt=a=>{var e;return((e=a.model)==null?void 0:e.owned_by)==="openai"},wl=a=>{a.deltaY!==0&&(a.preventDefault(),a.currentTarget.scrollLeft+=a.deltaY)},vt=a=>{var e,t,l;return!(((l=(t=(e=a.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},bt=(a,e)=>a.name.localeCompare(e.name),wt=(a,e)=>a.name.localeCompare(e.name);function kl(a,e,t){let l,r,n,o,s,i,d,f;pe(a,ve,c=>t(19,r=c)),pe(a,Ft,c=>t(44,o=c)),pe(a,Yt,c=>t(45,s=c)),pe(a,Gt,c=>t(21,i=c)),pe(a,Rt,c=>t(22,d=c)),pe(a,Ze,c=>t(23,f=c));let{$$slots:E={},$$scope:C}=e;const k=Vt("i18n");pe(a,k,c=>t(20,n=c)),Ct();let{id:p=""}=e,{value:w=""}=e,{placeholder:D="Select a model"}=e,{searchEnabled:v=!0}=e,{searchPlaceholder:$=n.t("Search a model")}=e,{showTemporaryChatControl:I=!1}=e,{items:b=[]}=e,{className:A="w-[32rem]"}=e,{triggerClassName:B="text-lg"}=e,H,V=!1,u=[],h="",_="",q="",U="",fe=null,R=0;const $e=new Pt(b.map(c=>{var W,re,ge,se,ze;return{...c,modelName:(W=c.model)==null?void 0:W.name,tags:(((re=c.model)==null?void 0:re.tags)??[]).map(Oe=>Oe.name).join(" "),desc:(ze=(se=(ge=c.model)==null?void 0:ge.info)==null?void 0:se.meta)==null?void 0:ze.description}}),{keys:["value","tags","modelName"],threshold:.4}),de=async()=>{await je();const c=l.findIndex(W=>W.value===w);c>=0?t(17,R=c):t(17,R=0),await je();const P=document.querySelector('[data-arrow-selected="true"]');P==null||P.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},be=async()=>{var re;const c=_.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(r),r[c]){ue.error(n.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:c}));return}if(Object.keys(r).length===3){ue.error(n.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[P,W]=await Zt(localStorage.token,c,"0").catch(ge=>(ue.error(`${ge}`),null));if(P){const ge=P.body.pipeThrough(new TextDecoderStream).pipeThrough(Kt(`
`)).getReader();for(ve.set({...r,[c]:{...r[c],abortController:W,reader:ge,done:!1}});;)try{const{value:se,done:ze}=await ge.read();if(ze)break;let Oe=se.split(`
`);for(const Ae of Oe)if(Ae!==""){let le=JSON.parse(Ae);if(console.log(le),le.error)throw le.error;if(le.detail)throw le.detail;if(le.status)if(le.digest){let Be=0;le.completed?Be=Math.round(le.completed/le.total*1e3)/10:Be=100,ve.set({...r,[c]:{...r[c],pullProgress:Be,digest:le.digest}})}else ue.success(le.status),ve.set({...r,[c]:{...r[c],done:le.status==="success"}})}}catch(se){console.log(se),typeof se!="string"&&(se=se.message),ue.error(`${se}`);break}r[c].done?(ue.success(n.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:c})),Jt.set(await Qt(localStorage.token,((re=s==null?void 0:s.features)==null?void 0:re.enable_direct_connections)&&((o==null?void 0:o.directConnections)??null)))):ue.error(n.t("Download canceled")),delete r[c],ve.set({...r})}};It(async()=>{t(16,fe=await Ut(localStorage.token).catch(c=>!1)),b&&(t(14,u=b.flatMap(c=>{var P;return((P=c.model)==null?void 0:P.tags)??[]}).map(c=>c.name)),t(14,u=Array.from(new Set(u)).sort((c,P)=>c.localeCompare(P))))});const we=async c=>{const{reader:P,abortController:W}=r[c];W&&W.abort(),P&&(await P.cancel(),delete r[c],ve.set({...r}),await Wt(localStorage.token,c),ue.success(`${c} download has been canceled`))};function De(){_=this.value,t(9,_)}const Ve=c=>{if(c.code==="Enter"&&l.length>0){t(0,w=l[R].value),t(13,V=!1);return}else c.code==="ArrowDown"?t(17,R=Math.min(R+1,l.length-1)):c.code==="ArrowUp"?t(17,R=Math.max(R-1,0)):t(17,R=0);const P=document.querySelector('[data-arrow-selected="true"]');P==null||P.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},J=()=>{t(11,U=""),t(10,q="")},Z=()=>{t(10,q=""),t(11,U="ollama")},te=()=>{t(10,q=""),t(11,U="openai")},ee=()=>{t(10,q=""),t(11,U="direct")},me=c=>{t(11,U=""),t(10,q=c)};function he(c){yt[c?"unshift":"push"](()=>{H=c,t(12,H)})}const _e=(c,P)=>{t(0,w=c.value),t(17,R=P),t(13,V=!1)},Ce=()=>{be()},Ie=c=>{we(c)},Te=async()=>{Ze.set(!f),await xt("/");const c=document.getElementById("new-chat-button");setTimeout(()=>{c==null||c.click()},0),f?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(13,V=!1)},Me=async()=>{t(9,_=""),window.setTimeout(()=>{var c;return(c=document.getElementById("model-search-input"))==null?void 0:c.focus()},0),de()};function Ne(c){V=c,t(13,V)}return a.$$set=c=>{"id"in c&&t(1,p=c.id),"value"in c&&t(0,w=c.value),"placeholder"in c&&t(2,D=c.placeholder),"searchEnabled"in c&&t(3,v=c.searchEnabled),"searchPlaceholder"in c&&t(4,$=c.searchPlaceholder),"showTemporaryChatControl"in c&&t(5,I=c.showTemporaryChatControl),"items"in c&&t(6,b=c.items),"className"in c&&t(7,A=c.className),"triggerClassName"in c&&t(8,B=c.triggerClassName),"$$scope"in c&&t(43,C=c.$$scope)},a.$$.update=()=>{a.$$.dirty[0]&65&&t(15,h=b.find(c=>c.value===w)??""),a.$$.dirty[0]&3648&&t(18,l=_?$e.search(_).map(c=>c.item).filter(c=>{var P;return q===""?!0:(((P=c.model)==null?void 0:P.tags)??[]).map(W=>W.name).includes(q)}).filter(c=>{var P,W,re;if(U==="")return!0;if(U==="ollama")return((P=c.model)==null?void 0:P.owned_by)==="ollama";if(U==="openai")return((W=c.model)==null?void 0:W.owned_by)==="openai";if(U==="direct")return(re=c.model)==null?void 0:re.direct}):b.filter(c=>{var P;return q===""?!0:(((P=c.model)==null?void 0:P.tags)??[]).map(W=>W.name).includes(q)}).filter(c=>{var P,W,re;if(U==="")return!0;if(U==="ollama")return((P=c.model)==null?void 0:P.owned_by)==="ollama";if(U==="openai")return((W=c.model)==null?void 0:W.owned_by)==="openai";if(U==="direct")return(re=c.model)==null?void 0:re.direct})),a.$$.dirty[0]&3072&&de()},[w,p,D,v,$,I,b,A,B,_,q,U,H,V,u,h,fe,R,l,r,n,i,d,f,k,de,be,we,E,De,Ve,J,Z,te,ee,me,he,_e,Ce,Ie,Te,Me,Ne,C]}class ql extends Et{constructor(e){super(),$t(this,e,kl,bl,kt,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:6,className:7,triggerClassName:8},null,[-1,-1])}}export{ql as S};
//# sourceMappingURL=BWXWIVea.js.map
