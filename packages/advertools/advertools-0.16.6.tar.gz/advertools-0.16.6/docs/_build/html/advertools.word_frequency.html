<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Word count on an absolute and a weighted basis. An important starting point in text analysis and mining for any text list that comes with descriptive stats (pageviews, sales, bounces, sessions, etc)." lang="en" name="description" xml:lang="en" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Text Analysis &mdash;  Python</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=81998473"></script>
        <script src="_static/doctools.js?v=9bcbadda"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
        <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
        <script async="async" src="https://unpkg.com/thebe@0.8.2/lib/index.js"></script>
        <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tokenize Words (N-grams)" href="advertools.word_tokenize.html" />
    <link rel="prev" title="Stopwords in Several Languages" href="advertools.stopwords.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            advertools
          </a>
              <div class="version">
                0.16.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">About advertools</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.survey.html">Survey - your feedback</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.cli.cli.html">Command Line Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SEM</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="advertools.kw_generate.html">Generate SEM Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.ad_create.html">Create Text Ads on a Large Scale</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.ad_from_string.html">Create Text Ads From Description Text</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SEO</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="advertools.robotstxt.html">robots.txt</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.sitemaps.html">XML Sitemaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.spider.html">SEO Spider / Crawler</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.code_recipes.spider_strategies.html">Crawl Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.crawlytics.html">Crawl Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.header_spider.html">Crawl headers (HEAD method only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.image_spider.html">Crawl images</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.logs.html">Python Log File Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.logs.html#parse-and-analyze-crawl-logs-in-a-dataframe">Parse and Analyze Crawl Logs in a Dataframe</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.reverse_dns_lookup.html">Reverse DNS Lookup</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.serp.html">Analyze Search Engine Results (SERPs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.knowledge_graph.html">Google's Knowledge Graph</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Text &amp; Content Analysis</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="advertools.urlytics.html">URL Structure Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.emoji.html">Emoji Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.extract.html">Extract Structured Entities from Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.stopwords.html">Stop Words</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Text Analysis (absolute &amp; weighted word frequency)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#absolute-and-weighted-word-count">Absolute and Weighted Word Count</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#absolute-vs-weighted-frequency">Absolute vs Weighted Frequency</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advertools.word_tokenize.html">Word Tokenization (N-grams)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Social Media</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="advertools.twitter.html">Twitter Data API</a></li>
<li class="toctree-l1"><a class="reference internal" href="advertools.youtube.html">YouTube Data API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Index &amp; Change Log</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="include_changelog.html">Index &amp; Change Log</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">advertools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Text Analysis</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/advertools.word_frequency.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="text-analysis">
<span id="word-frequency"></span><span id="module-advertools.word_frequency"></span><h1>Text Analysis<a class="headerlink" href="#text-analysis" title="Link to this heading"></a></h1>
<section id="absolute-and-weighted-word-count">
<h2>Absolute and Weighted Word Count<a class="headerlink" href="#absolute-and-weighted-word-count" title="Link to this heading"></a></h2>
<p>When analyzing a corpus of documents (I'll simply call it a text list), one of
the main tasks to accomplish to start text mining is to first count the words.
While there are many text mining techniques and approaches, the
<a class="reference internal" href="#advertools.word_frequency.word_frequency" title="advertools.word_frequency.word_frequency"><code class="xref py py-func docutils literal notranslate"><span class="pre">word_frequency()</span></code></a> function works mainly by counting words in a text list.
A &quot;word&quot; is defined as a sequence of characters split by whitespace(s), and
stripped of non-word characters (commas, dots, quotation marks, etc.).
A &quot;word&quot; is actually a phrase consisting of one word, but you have the option
of getting phrases that have two words, or more. This can be done simply
by providing a value for the <code class="xref py py-attr docutils literal notranslate"><span class="pre">phrase_len</span></code> parameter.</p>
<section id="absolute-vs-weighted-frequency">
<h3>Absolute vs Weighted Frequency<a class="headerlink" href="#absolute-vs-weighted-frequency" title="Link to this heading"></a></h3>
<p>In social media reports, analytics, keyword reports, url and page reports, we
get more information than simply the text. We get numbers describing those
posts or page titles, or product names, or whatever the text list might
contain. Numbers can be pageviews, shares, likes, retweets, sales, bounces,
sales, etc. Since we have numbers to quantify those phrases, we can improve our
counting by taking into consideration the number list that comes with the text
list.</p>
<p>For example, if you have an e-commerce site that has two products, let's say
you have bags and shoes, then your products are split 50:50 between bags and
shoes.
But what if you learn that shoes generate 80% of your sales?
Although shoes form half your products, they generate 80% of your revenue. So
the <em>weighted count</em> of your products is 80:20.</p>
<p>Let's say two people post two different posts on a social media platform. One
of them says, &quot;It's raining&quot;, and the other says, &quot;It's snowing&quot;. As in the
above example, the content is split 50:50 between &quot;raining&quot; and &quot;snowing&quot;, but
we get a much more informative picture if we get the number of followers of
each of those accounts (or the number of shares, likes, etc.). If one of them
has a thousand followers, and other has a million (which is typical on social
media, as well as in pageviews report, e-commerce and most other datasets),
then you get a completely different picture about your dataset.</p>
<p>These two simple examples contain two posts, and a word each. The
<a class="reference internal" href="#advertools.word_frequency.word_frequency" title="advertools.word_frequency.word_frequency"><code class="xref py py-func docutils literal notranslate"><span class="pre">word_frequency()</span></code></a> function can provide insight on hidden trends especially
in large datasets, and when the sentences or phrases are also longer then a
word or two each.</p>
<p>Let's take a look at how to use the <a class="reference internal" href="#advertools.word_frequency.word_frequency" title="advertools.word_frequency.word_frequency"><code class="xref py py-func docutils literal notranslate"><span class="pre">word_frequency()</span></code></a> function, and what
the available parameters and options are.</p>
<dl class="glossary">
<dt id="term-text_list">text_list<a class="headerlink" href="#term-text_list" title="Link to this term"></a></dt><dd><p>The list of phrases or documents that you want to analyze. Here are
some possible ideas that you might use this for:</p>
<blockquote>
<div><ul class="simple">
<li><p>keywords, whether in a PPC or SEO report</p></li>
<li><p>page titles in an analytics report</p></li>
<li><p>social media posts (tweets, Facebook posts, YouTube video titles
or descriptions etc.)</p></li>
<li><p>e-commerce reports (where the text would be the product names)</p></li>
</ul>
</div></blockquote>
</dd>
<dt id="term-num_list">num_list<a class="headerlink" href="#term-num_list" title="Link to this term"></a></dt><dd><p>Ideally, if you have more than one column describing <code class="xref py py-attr docutils literal notranslate"><span class="pre">text_list</span></code>
you should experiment with different options. Try weighting the words
by pageviews, then try by bounce rate and see if you get different
interesting findings.
With e-commerce reports, you can see which word appears the most, and
which word is associated with more revenue.</p>
</dd>
<dt id="term-phrase_len">phrase_len<a class="headerlink" href="#term-phrase_len" title="Link to this term"></a></dt><dd><p>You should also experiment with different lengths of phrases. In many
cases, one-word phrases might not be as meaningful as two-words or
three.</p>
</dd>
<dt id="term-regex">regex<a class="headerlink" href="#term-regex" title="Link to this term"></a></dt><dd><p>The default is to simply split words by whitespace, and provide phrases
of length <code class="xref py py-attr docutils literal notranslate"><span class="pre">phrase_len</span></code>.
But you may want to count the occurrences of certain patterns of text.
Check out the <a class="reference internal" href="advertools.regex.html#regex"><span class="std std-ref">regex</span></a> module for the available regular
expressions that might be interesting. Some of the pre-defined ones are
hashtags, mentions, questions, emoji, currencies, and more.</p>
</dd>
<dt id="term-rm_words">rm_words<a class="headerlink" href="#term-rm_words" title="Link to this term"></a></dt><dd><p>A list of words to remove and ignore from the count. Known as
stop-words these are the most frequently used words in a language,
the most used, but don't add much meaning to the content (a, and, of,
the, if, etc.). By default a set of English stopwords is provided
(which you can check and possibly may want to modify), or run
<code class="docutils literal notranslate"><span class="pre">adv.stopwords.keys()</span></code> to get a list of all the available stopwords
in the available languages.
In some cases (like page titles for example), you might get &quot;words&quot;
that need to be removed as well, like the pipe &quot;|&quot; character for
example.</p>
</dd>
<dt id="term-extra_info">extra_info<a class="headerlink" href="#term-extra_info" title="Link to this term"></a></dt><dd><p>The returned DataFrame contains the default columns
<code class="docutils literal notranslate"><span class="pre">[word,</span> <span class="pre">abs_freq,</span> <span class="pre">wtd_freq,</span> <span class="pre">rel_value]</span></code>. You can get extra
columns for percentages and cumulative percentages that add perspective
to the other columns. Set this parameter to <code class="xref py py-attr docutils literal notranslate"><span class="pre">True</span></code> if you want
that.</p>
</dd>
</dl>
<p>Below are all the columns of the returned DataFrame:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">word</span></code></p></td>
<td><p>Words in the document list each on its own row.
The length of these words is determined by
<code class="xref py py-attr docutils literal notranslate"><span class="pre">phrase_len</span></code>, essentially phrases if
containing more than one word each.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">abs_freq</span></code></p></td>
<td><p>The number of occurrences of each word in all
the documents.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">wtd_freq</span></code></p></td>
<td><p>Every occurrence of <code class="xref py py-attr docutils literal notranslate"><span class="pre">word</span></code> multiplied by
its respective value in <code class="xref py py-attr docutils literal notranslate"><span class="pre">num_list</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">rel_value</span></code></p></td>
<td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">wtd_freq</span></code> divided by <code class="xref py py-attr docutils literal notranslate"><span class="pre">abs_freq</span></code>,
showing the value per occurrence of <code class="xref py py-attr docutils literal notranslate"><span class="pre">word</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">abs_perc</span></code></p></td>
<td><p>Absolute frequency percentage.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">abs_perc_cum</span></code></p></td>
<td><p>Cumulative absolute percentage.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">wtd_freq_perc</span></code></p></td>
<td><p>Weighted frequency percentage.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">wtd_freq_perc_cum</span></code></p></td>
<td><p>Cumulative weighted frequency percentage.</p></td>
</tr>
</tbody>
</table>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">advertools</span> <span class="k">as</span> <span class="nn">adv</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">tweets</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/tweets.csv&#39;</span><span class="p">)</span>
<span class="n">tweets</span>
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>tweet_text</p></th>
<th class="head"><p>followers_count</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>&#64;AERIALMAGZC &#64;penguinnyyyyy you won't be afraid if I give you a real reason :D</p></td>
<td><p>157</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Vibing in the office to #Metallica when the boss is on a coffee break
#TheOffice <a class="reference external" href="https://t.co/U5vdYevvfe">https://t.co/U5vdYevvfe</a></p></td>
<td><p>4687</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>I feel like Ann says she likes coffee and then gets drinks that are 99% sugar and 1% coffee <a class="reference external" href="https://t.co/HfuBV4v3aY">https://t.co/HfuBV4v3aY</a></p></td>
<td><p>104</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>A venti iced coffee with four pumps of white mocha, sweet cream and caramel drizzle might just be my new favorite drink. Shout out to TikTok lol</p></td>
<td><p>126</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>I was never a coffee person until I had kids. ☕️ this cup is a life saver. <a class="reference external" href="https://t.co/Zo0CnVuiGj">https://t.co/Zo0CnVuiGj</a></p></td>
<td><p>1595</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>Who's excited about our next Coffee Chat? We know we are!🥳</p>
<p>We're also adding Representative John Bradford to this lineup to discuss redistricting in the area. You won't want to miss it!</p>
<p>RSVP: <a class="reference external" href="https://t.co/R3YNJjJCUG">https://t.co/R3YNJjJCUG</a>
Join the meeting: <a class="reference external" href="https://t.co/Ho4Kx7ZZ24">https://t.co/Ho4Kx7ZZ24</a> <a class="reference external" href="https://t.co/KfPdR3hupY">https://t.co/KfPdR3hupY</a></p>
</td>
<td><p>5004</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>he paid for my coffee= husband💗</p></td>
<td><p>165</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>It's nipply outside, and now I side too :)
That sounds like blowjob in front of a fire and visit with coffee after :)
I'm still out of coffee
I could have green tea instead
Hahahahahahaha
I want to spend the morning pampering you ...</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>Good morning 😃🌞☀️ I hope everyone has a great Tuesday morning. Enjoy your day and coffee ☕️ ♥️❤️💕🥰😘</p></td>
<td><p>189</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>&#64;MarvinMilton2 I nearly choked on my coffee 🤪</p></td>
<td><p>1160</p></td>
</tr>
</tbody>
</table>
<button title="Run this code" class="thebelab-button thebe-launch-button" onclick="initThebe()">Run this code</button><div class="thebe thebe-init highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">word_freq</span> <span class="o">=</span> <span class="n">adv</span><span class="o">.</span><span class="n">word_frequency</span><span class="p">(</span><span class="n">text_list</span><span class="o">=</span><span class="n">tweets</span><span class="p">[</span><span class="s1">&#39;tweet_text&#39;</span><span class="p">],</span>
                               <span class="n">num_list</span><span class="o">=</span><span class="n">tweets</span><span class="p">[</span><span class="s1">&#39;followers_count&#39;</span><span class="p">])</span>

<span class="c1"># try sorting by &#39;abs_freq&#39;, &#39;wtd_freq&#39;, and &#39;rel_value&#39;:</span>
<span class="n">word_freq</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;abs_freq&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="advertools.word_frequency.word_frequency">
<span class="sig-name descname"><span class="pre">word_frequency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phrase_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rm_words</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'a',</span> <span class="pre">'about',</span> <span class="pre">'above',</span> <span class="pre">'across',</span> <span class="pre">'after',</span> <span class="pre">'afterwards',</span> <span class="pre">'again',</span> <span class="pre">'against',</span> <span class="pre">'all',</span> <span class="pre">'almost',</span> <span class="pre">'alone',</span> <span class="pre">'along',</span> <span class="pre">'already',</span> <span class="pre">'also',</span> <span class="pre">'although',</span> <span class="pre">'always',</span> <span class="pre">'am',</span> <span class="pre">'among',</span> <span class="pre">'amongst',</span> <span class="pre">'amount',</span> <span class="pre">'an',</span> <span class="pre">'and',</span> <span class="pre">'another',</span> <span class="pre">'any',</span> <span class="pre">'anyhow',</span> <span class="pre">'anyone',</span> <span class="pre">'anything',</span> <span class="pre">'anyway',</span> <span class="pre">'anywhere',</span> <span class="pre">'are',</span> <span class="pre">'around',</span> <span class="pre">'as',</span> <span class="pre">'at',</span> <span class="pre">'back',</span> <span class="pre">'be',</span> <span class="pre">'became',</span> <span class="pre">'because',</span> <span class="pre">'become',</span> <span class="pre">'becomes',</span> <span class="pre">'becoming',</span> <span class="pre">'been',</span> <span class="pre">'before',</span> <span class="pre">'beforehand',</span> <span class="pre">'behind',</span> <span class="pre">'being',</span> <span class="pre">'below',</span> <span class="pre">'beside',</span> <span class="pre">'besides',</span> <span class="pre">'between',</span> <span class="pre">'beyond',</span> <span class="pre">'both',</span> <span class="pre">'bottom',</span> <span class="pre">'but',</span> <span class="pre">'by',</span> <span class="pre">'ca',</span> <span class="pre">'call',</span> <span class="pre">'can',</span> <span class="pre">'cannot',</span> <span class="pre">'could',</span> <span class="pre">'did',</span> <span class="pre">'do',</span> <span class="pre">'does',</span> <span class="pre">'doing',</span> <span class="pre">'done',</span> <span class="pre">'down',</span> <span class="pre">'due',</span> <span class="pre">'during',</span> <span class="pre">'each',</span> <span class="pre">'eight',</span> <span class="pre">'either',</span> <span class="pre">'eleven',</span> <span class="pre">'else',</span> <span class="pre">'elsewhere',</span> <span class="pre">'empty',</span> <span class="pre">'enough',</span> <span class="pre">'even',</span> <span class="pre">'ever',</span> <span class="pre">'every',</span> <span class="pre">'everyone',</span> <span class="pre">'everything',</span> <span class="pre">'everywhere',</span> <span class="pre">'except',</span> <span class="pre">'few',</span> <span class="pre">'fifteen',</span> <span class="pre">'fifty',</span> <span class="pre">'first',</span> <span class="pre">'five',</span> <span class="pre">'for',</span> <span class="pre">'former',</span> <span class="pre">'formerly',</span> <span class="pre">'forty',</span> <span class="pre">'four',</span> <span class="pre">'from',</span> <span class="pre">'front',</span> <span class="pre">'full',</span> <span class="pre">'further',</span> <span class="pre">'get',</span> <span class="pre">'give',</span> <span class="pre">'go',</span> <span class="pre">'had',</span> <span class="pre">'has',</span> <span class="pre">'have',</span> <span class="pre">'he',</span> <span class="pre">'hence',</span> <span class="pre">'her',</span> <span class="pre">'here',</span> <span class="pre">'hereafter',</span> <span class="pre">'hereby',</span> <span class="pre">'herein',</span> <span class="pre">'hereupon',</span> <span class="pre">'hers',</span> <span class="pre">'herself',</span> <span class="pre">'him',</span> <span class="pre">'himself',</span> <span class="pre">'his',</span> <span class="pre">'how',</span> <span class="pre">'however',</span> <span class="pre">'hundred',</span> <span class="pre">'i',</span> <span class="pre">'if',</span> <span class="pre">'in',</span> <span class="pre">'indeed',</span> <span class="pre">'into',</span> <span class="pre">'is',</span> <span class="pre">'it',</span> <span class="pre">'its',</span> <span class="pre">'itself',</span> <span class="pre">'just',</span> <span class="pre">'keep',</span> <span class="pre">'last',</span> <span class="pre">'latter',</span> <span class="pre">'latterly',</span> <span class="pre">'least',</span> <span class="pre">'less',</span> <span class="pre">'made',</span> <span class="pre">'make',</span> <span class="pre">'many',</span> <span class="pre">'may',</span> <span class="pre">'me',</span> <span class="pre">'meanwhile',</span> <span class="pre">'might',</span> <span class="pre">'mine',</span> <span class="pre">'more',</span> <span class="pre">'moreover',</span> <span class="pre">'most',</span> <span class="pre">'mostly',</span> <span class="pre">'move',</span> <span class="pre">'much',</span> <span class="pre">'must',</span> <span class="pre">'my',</span> <span class="pre">'myself',</span> <span class="pre">'name',</span> <span class="pre">'namely',</span> <span class="pre">'neither',</span> <span class="pre">'never',</span> <span class="pre">'nevertheless',</span> <span class="pre">'next',</span> <span class="pre">'nine',</span> <span class="pre">'no',</span> <span class="pre">'nobody',</span> <span class="pre">'none',</span> <span class="pre">'noone',</span> <span class="pre">'nor',</span> <span class="pre">'not',</span> <span class="pre">'nothing',</span> <span class="pre">'now',</span> <span class="pre">'nowhere',</span> <span class="pre">'of',</span> <span class="pre">'off',</span> <span class="pre">'often',</span> <span class="pre">'on',</span> <span class="pre">'once',</span> <span class="pre">'one',</span> <span class="pre">'only',</span> <span class="pre">'onto',</span> <span class="pre">'or',</span> <span class="pre">'other',</span> <span class="pre">'others',</span> <span class="pre">'otherwise',</span> <span class="pre">'our',</span> <span class="pre">'ours',</span> <span class="pre">'ourselves',</span> <span class="pre">'out',</span> <span class="pre">'over',</span> <span class="pre">'own',</span> <span class="pre">'part',</span> <span class="pre">'per',</span> <span class="pre">'perhaps',</span> <span class="pre">'please',</span> <span class="pre">'put',</span> <span class="pre">'quite',</span> <span class="pre">'rather',</span> <span class="pre">'re',</span> <span class="pre">'really',</span> <span class="pre">'regarding',</span> <span class="pre">'same',</span> <span class="pre">'say',</span> <span class="pre">'see',</span> <span class="pre">'seem',</span> <span class="pre">'seemed',</span> <span class="pre">'seeming',</span> <span class="pre">'seems',</span> <span class="pre">'serious',</span> <span class="pre">'several',</span> <span class="pre">'she',</span> <span class="pre">'should',</span> <span class="pre">'show',</span> <span class="pre">'side',</span> <span class="pre">'since',</span> <span class="pre">'six',</span> <span class="pre">'sixty',</span> <span class="pre">'so',</span> <span class="pre">'some',</span> <span class="pre">'somehow',</span> <span class="pre">'someone',</span> <span class="pre">'something',</span> <span class="pre">'sometime',</span> <span class="pre">'sometimes',</span> <span class="pre">'somewhere',</span> <span class="pre">'still',</span> <span class="pre">'such',</span> <span class="pre">'take',</span> <span class="pre">'ten',</span> <span class="pre">'than',</span> <span class="pre">'that',</span> <span class="pre">'the',</span> <span class="pre">'their',</span> <span class="pre">'them',</span> <span class="pre">'themselves',</span> <span class="pre">'then',</span> <span class="pre">'thence',</span> <span class="pre">'there',</span> <span class="pre">'thereafter',</span> <span class="pre">'thereby',</span> <span class="pre">'therefore',</span> <span class="pre">'therein',</span> <span class="pre">'thereupon',</span> <span class="pre">'these',</span> <span class="pre">'they',</span> <span class="pre">'third',</span> <span class="pre">'this',</span> <span class="pre">'those',</span> <span class="pre">'though',</span> <span class="pre">'three',</span> <span class="pre">'through',</span> <span class="pre">'throughout',</span> <span class="pre">'thru',</span> <span class="pre">'thus',</span> <span class="pre">'to',</span> <span class="pre">'together',</span> <span class="pre">'too',</span> <span class="pre">'top',</span> <span class="pre">'toward',</span> <span class="pre">'towards',</span> <span class="pre">'twelve',</span> <span class="pre">'twenty',</span> <span class="pre">'two',</span> <span class="pre">'under',</span> <span class="pre">'unless',</span> <span class="pre">'until',</span> <span class="pre">'up',</span> <span class="pre">'upon',</span> <span class="pre">'us',</span> <span class="pre">'used',</span> <span class="pre">'using',</span> <span class="pre">'various',</span> <span class="pre">'very',</span> <span class="pre">'via',</span> <span class="pre">'was',</span> <span class="pre">'we',</span> <span class="pre">'well',</span> <span class="pre">'were',</span> <span class="pre">'what',</span> <span class="pre">'whatever',</span> <span class="pre">'when',</span> <span class="pre">'whence',</span> <span class="pre">'whenever',</span> <span class="pre">'where',</span> <span class="pre">'whereafter',</span> <span class="pre">'whereas',</span> <span class="pre">'whereby',</span> <span class="pre">'wherein',</span> <span class="pre">'whereupon',</span> <span class="pre">'wherever',</span> <span class="pre">'whether',</span> <span class="pre">'which',</span> <span class="pre">'while',</span> <span class="pre">'whither',</span> <span class="pre">'who',</span> <span class="pre">'whoever',</span> <span class="pre">'whole',</span> <span class="pre">'whom',</span> <span class="pre">'whose',</span> <span class="pre">'why',</span> <span class="pre">'will',</span> <span class="pre">'with',</span> <span class="pre">'within',</span> <span class="pre">'without',</span> <span class="pre">'would',</span> <span class="pre">'yet',</span> <span class="pre">'you',</span> <span class="pre">'your',</span> <span class="pre">'yours',</span> <span class="pre">'yourself',</span> <span class="pre">'yourselves'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/advertools/word_frequency.html#word_frequency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#advertools.word_frequency.word_frequency" title="Link to this definition"></a></dt>
<dd><p>Count the absolute as well as the weighted frequency of words
in <code class="xref py py-attr docutils literal notranslate"><span class="pre">text_list</span></code> (based on <code class="xref py py-attr docutils literal notranslate"><span class="pre">num_list</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text_list</strong> (<em>list</em>) -- Typically short phrases, but could be any list of full blown documents. Usually,
you would use this to analyze tweets, book titles, URLs, etc.</p></li>
<li><p><strong>num_list</strong> (<em>list</em>) -- A list of numbers with the same length as <code class="xref py py-attr docutils literal notranslate"><span class="pre">text_list</span></code>, describing a certain
attribute of these 'documents'; views, retweets, sales, etc.</p></li>
<li><p><strong>regex</strong> (<em>str</em>) -- The regex used to split words. Doesn't need changing in most cases.</p></li>
<li><p><strong>phrase_len</strong> (<em>int</em>) -- The length in words of each token the text is split into (ngrams), defaults to 1.</p></li>
<li><p><strong>rm_words</strong> (<em>set</em>) -- Words to remove from the list a.k.a 'stop-words'. The default uses. To get all
available languages run <code class="docutils literal notranslate"><span class="pre">adv.stopwords.keys()</span></code>.</p></li>
<li><p><strong>extra_info</strong> (<em>bool</em>) -- Whether or not to give additional metrics about the frequencies.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>abs_wtd_df</strong> -- Absolute and weighted counts DataFrame.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">advertools</span> <span class="k">as</span> <span class="nn">adv</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;apple orange&#39;</span><span class="p">,</span> <span class="s1">&#39;apple orange banana&#39;</span><span class="p">,</span>
<span class="gp">... </span>             <span class="s1">&#39;apple kiwi&#39;</span><span class="p">,</span> <span class="s1">&#39;kiwi mango&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">400</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">adv</span><span class="o">.</span><span class="n">word_frequency</span><span class="p">(</span><span class="n">text_list</span><span class="p">,</span> <span class="n">num_list</span><span class="p">)</span>
<span class="go">     word  abs_freq  wtd_freq  rel_value</span>
<span class="go">0    kiwi         2       500      250.0</span>
<span class="go">1   mango         1       400      400.0</span>
<span class="go">2   apple         3       300      100.0</span>
<span class="go">3  orange         2       200      100.0</span>
<span class="go">4  banana         1       100      100.0</span>
</pre></div>
</div>
<p>Although &quot;kiwi&quot; occurred twice <code class="xref py py-attr docutils literal notranslate"><span class="pre">abs_freq</span></code>, and &quot;apple&quot; occurred three
times, the phrases in which &quot;kiwi&quot; appear have a total score of 500,
so it beats &quot;apple&quot; on <code class="xref py py-attr docutils literal notranslate"><span class="pre">wtd_freq</span></code> even though &quot;apple&quot; wins on
<code class="xref py py-attr docutils literal notranslate"><span class="pre">abs_freq</span></code>. You can sort by any of the columns of course.
<code class="xref py py-attr docutils literal notranslate"><span class="pre">rel_value</span></code> shows the value per occurrence of each word, as you can
see, it is simply obtained by dividing <code class="xref py py-attr docutils literal notranslate"><span class="pre">wtd_freq</span></code> by
<code class="xref py py-attr docutils literal notranslate"><span class="pre">abs_freq</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">adv</span><span class="o">.</span><span class="n">word_frequency</span><span class="p">(</span><span class="n">text_list</span><span class="p">)</span>  <span class="c1"># num_list values default to 1 each</span>
<span class="go">     word  abs_freq  wtd_freq  rel_value</span>
<span class="go">0   apple         3         3        1.0</span>
<span class="go">1  orange         2         2        1.0</span>
<span class="go">2    kiwi         2         2        1.0</span>
<span class="go">3  banana         1         1        1.0</span>
<span class="go">4   mango         1         1        1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text_list2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;my favorite color is blue&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="s1">&#39;my favorite color is green&#39;</span><span class="p">,</span> <span class="s1">&#39;the best color is green&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="s1">&#39;i love the color black&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Setting <code class="xref py py-attr docutils literal notranslate"><span class="pre">phrase_len</span></code> to 2, &quot;words&quot; become two-word phrases instead.
Note that we are setting <code class="xref py py-attr docutils literal notranslate"><span class="pre">rm_words</span></code> to the empty list so we can keep
the stopwords and see if that makes sense:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">word_frequency</span><span class="p">(</span><span class="n">text_list2</span><span class="p">,</span> <span class="n">phrase_len</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">rm_words</span><span class="o">=</span><span class="p">[])</span>
<span class="go">              word  abs_freq  wtd_freq  rel_value</span>
<span class="go">0         color is         3         3        1.0</span>
<span class="go">1      my favorite         2         2        1.0</span>
<span class="go">2   favorite color         2         2        1.0</span>
<span class="go">3         is green         2         2        1.0</span>
<span class="go">4          is blue         1         1        1.0</span>
<span class="go">5         the best         1         1        1.0</span>
<span class="go">6       best color         1         1        1.0</span>
<span class="go">7           i love         1         1        1.0</span>
<span class="go">8         love the         1         1        1.0</span>
<span class="go">9        the color         1         1        1.0</span>
<span class="go">10     color black         1         1        1.0</span>
</pre></div>
</div>
<p>The same result as above showing all possible columns by setting
<code class="xref py py-attr docutils literal notranslate"><span class="pre">extra_info</span></code> to <code class="xref py py-attr docutils literal notranslate"><span class="pre">True</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">adv</span><span class="o">.</span><span class="n">word_frequency</span><span class="p">(</span><span class="n">text_list</span><span class="p">,</span> <span class="n">num_list</span><span class="p">,</span> <span class="n">extra_info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">     word  abs_freq  abs_perc  abs_perc_cum  wtd_freq  wtd_freq_perc  wtd_freq_perc_cum  rel_value</span>
<span class="go">0    kiwi         2  0.222222      0.222222       500       0.333333           0.333333      250.0</span>
<span class="go">1   mango         1  0.111111      0.333333       400       0.266667           0.600000      400.0</span>
<span class="go">2   apple         3  0.333333      0.666667       300       0.200000           0.800000      100.0</span>
<span class="go">3  orange         2  0.222222      0.888889       200       0.133333           0.933333      100.0</span>
<span class="go">4  banana         1  0.111111      1.000000       100       0.066667           1.000000      100.0</span>
</pre></div>
</div>
</dd></dl>


    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "eliasdabbas/adv_docs_thebe",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="advertools.stopwords.html" class="btn btn-neutral float-left" title="Stopwords in Several Languages" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="advertools.word_tokenize.html" class="btn btn-neutral float-right" title="Tokenize Words (N-grams)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Elias Dabbas.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>